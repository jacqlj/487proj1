function O1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h_={exports:{}},Lc={},d_={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),F1=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),U1=Symbol.for("react.strict_mode"),B1=Symbol.for("react.profiler"),$1=Symbol.for("react.provider"),z1=Symbol.for("react.context"),W1=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),q1=Symbol.for("react.memo"),Q1=Symbol.for("react.lazy"),Xm=Symbol.iterator;function K1(t){return t===null||typeof t!="object"?null:(t=Xm&&t[Xm]||t["@@iterator"],typeof t=="function"?t:null)}var f_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p_=Object.assign,m_={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g_(){}g_.prototype=Oo.prototype;function Vf(t,e,n){this.props=t,this.context=e,this.refs=m_,this.updater=n||f_}var Of=Vf.prototype=new g_;Of.constructor=Vf;p_(Of,Oo.prototype);Of.isPureReactComponent=!0;var Jm=Array.isArray,y_=Object.prototype.hasOwnProperty,Lf={current:null},__={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)y_.call(e,r)&&!__.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Sl,type:t,key:s,ref:a,props:i,_owner:Lf.current}}function G1(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function Y1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zm=/\/+/g;function Mh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y1(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Sl:case F1:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Mh(a,0):r,Jm(i)?(n="",t!=null&&(n=t.replace(Zm,"$&/")+"/"),Mu(i,e,n,"",function(f){return f})):i!=null&&(Mf(i)&&(i=G1(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Zm,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Jm(t))for(var u=0;u<t.length;u++){s=t[u];var c=r+Mh(s,u);a+=Mu(s,e,n,c,i)}else if(c=K1(t),typeof c=="function")for(t=c.call(t),u=0;!(s=t.next()).done;)s=s.value,c=r+Mh(s,u++),a+=Mu(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gu(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function X1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Fu={transition:null},J1={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Lf};function w_(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:gu,forEach:function(t,e,n){gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gu(t,function(){e++}),e},toArray:function(t){return gu(t,function(e){return e})||[]},only:function(t){if(!Mf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Oo;_e.Fragment=j1;_e.Profiler=B1;_e.PureComponent=Vf;_e.StrictMode=U1;_e.Suspense=H1;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;_e.act=w_;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=p_({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Lf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)y_.call(e,c)&&!__.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Sl,type:t.type,key:i,ref:s,props:r,_owner:a}};_e.createContext=function(t){return t={$$typeof:z1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$1,_context:t},t.Consumer=t};_e.createElement=v_;_e.createFactory=function(t){var e=v_.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:W1,render:t}};_e.isValidElement=Mf;_e.lazy=function(t){return{$$typeof:Q1,_payload:{_status:-1,_result:t},_init:X1}};_e.memo=function(t,e){return{$$typeof:q1,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};_e.unstable_act=w_;_e.useCallback=function(t,e){return Gt.current.useCallback(t,e)};_e.useContext=function(t){return Gt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Gt.current.useEffect(t,e)};_e.useId=function(){return Gt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Gt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};_e.useRef=function(t){return Gt.current.useRef(t)};_e.useState=function(t){return Gt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Gt.current.useTransition()};_e.version="18.3.1";d_.exports=_e;var X=d_.exports;const Z1=M1(X),eT=O1({__proto__:null,default:Z1},[X]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT=X,nT=Symbol.for("react.element"),rT=Symbol.for("react.fragment"),iT=Object.prototype.hasOwnProperty,sT=tT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oT={key:!0,ref:!0,__self:!0,__source:!0};function E_(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)iT.call(e,r)&&!oT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nT,type:t,key:s,ref:a,props:i,_owner:sT.current}}Lc.Fragment=rT;Lc.jsx=E_;Lc.jsxs=E_;h_.exports=Lc;var L=h_.exports,T_={exports:{}},mn={},I_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,ae){var j=J.length;J.push(ae);e:for(;0<j;){var ke=j-1>>>1,Ie=J[ke];if(0<i(Ie,ae))J[ke]=ae,J[j]=Ie,j=ke;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ae=J[0],j=J.pop();if(j!==ae){J[0]=j;e:for(var ke=0,Ie=J.length,$e=Ie>>>1;ke<$e;){var ht=2*(ke+1)-1,zt=J[ht],tt=ht+1,ln=J[tt];if(0>i(zt,j))tt<Ie&&0>i(ln,zt)?(J[ke]=ln,J[tt]=j,ke=tt):(J[ke]=zt,J[ht]=j,ke=ht);else if(tt<Ie&&0>i(ln,j))J[ke]=ln,J[tt]=j,ke=tt;else break e}}return ae}function i(J,ae){var j=J.sortIndex-ae.sortIndex;return j!==0?j:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],f=[],g=1,_=null,E=3,k=!1,O=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(J){for(var ae=n(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=J)r(f),ae.sortIndex=ae.expirationTime,e(c,ae);else break;ae=n(f)}}function U(J){if(M=!1,R(J),!O)if(n(c)!==null)O=!0,Jn(Q);else{var ae=n(f);ae!==null&&$t(U,ae.startTime-J)}}function Q(J,ae){O=!1,M&&(M=!1,S(w),w=-1),k=!0;var j=E;try{for(R(ae),_=n(c);_!==null&&(!(_.expirationTime>ae)||J&&!x());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,E=_.priorityLevel;var Ie=ke(_.expirationTime<=ae);ae=t.unstable_now(),typeof Ie=="function"?_.callback=Ie:_===n(c)&&r(c),R(ae)}else r(c);_=n(c)}if(_!==null)var $e=!0;else{var ht=n(f);ht!==null&&$t(U,ht.startTime-ae),$e=!1}return $e}finally{_=null,E=j,k=!1}}var G=!1,A=null,w=-1,I=5,P=-1;function x(){return!(t.unstable_now()-P<I)}function b(){if(A!==null){var J=t.unstable_now();P=J;var ae=!0;try{ae=A(!0,J)}finally{ae?C():(G=!1,A=null)}}else G=!1}var C;if(typeof T=="function")C=function(){T(b)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Bt=ct.port2;ct.port1.onmessage=b,C=function(){Bt.postMessage(null)}}else C=function(){F(b,0)};function Jn(J){A=J,G||(G=!0,C())}function $t(J,ae){w=F(function(){J(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){O||k||(O=!0,Jn(Q))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(J){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var j=E;E=ae;try{return J()}finally{E=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var j=E;E=J;try{return ae()}finally{E=j}},t.unstable_scheduleCallback=function(J,ae,j){var ke=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?ke+j:ke):j=ke,J){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=j+Ie,J={id:g++,callback:ae,priorityLevel:J,startTime:j,expirationTime:Ie,sortIndex:-1},j>ke?(J.sortIndex=j,e(f,J),n(c)===null&&J===n(f)&&(M?(S(w),w=-1):M=!0,$t(U,j-ke))):(J.sortIndex=Ie,e(c,J),O||k||(O=!0,Jn(Q))),J},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(J){var ae=E;return function(){var j=E;E=ae;try{return J.apply(this,arguments)}finally{E=j}}}})(A_);I_.exports=A_;var aT=I_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT=X,pn=aT;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,Xa={};function Ts(t,e){wo(t,e),wo(t+"Capture",e)}function wo(t,e){for(Xa[t]=e,t=0;t<e.length;t++)S_.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,uT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eg={},tg={};function cT(t){return _d.call(tg,t)?!0:_d.call(eg,t)?!1:uT.test(t)?tg[t]=!0:(eg[t]=!0,!1)}function hT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dT(t,e,n,r){if(e===null||typeof e>"u"||hT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ff=/[\-:]([a-z])/g;function jf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ff,jf);kt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ff,jf);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ff,jf);kt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uf(t,e,n,r){var i=kt.hasOwnProperty(e)?kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dT(e,n,i,r)&&(n=null),r||i===null?cT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=lT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),vd=Symbol.for("react.profiler"),C_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),zf=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),R_=Symbol.for("react.offscreen"),ng=Symbol.iterator;function wa(t){return t===null||typeof t!="object"?null:(t=ng&&t[ng]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Fh;function ka(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var jh=!1;function Uh(t,e){if(!t||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=u);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ka(t):""}function fT(t){switch(t.tag){case 5:return ka(t.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Td(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Zs:return"Portal";case vd:return"Profiler";case Bf:return"StrictMode";case wd:return"Suspense";case Ed:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P_:return(t.displayName||"Context")+".Consumer";case C_:return(t._context.displayName||"Context")+".Provider";case $f:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zf:return e=t.displayName||null,e!==null?e:Td(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return Td(t(e))}catch{}}return null}function pT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Td(e);case 8:return e===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function k_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mT(t){var e=k_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _u(t){t._valueTracker||(t._valueTracker=mT(t))}function x_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=k_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Id(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N_(t,e){e=e.checked,e!=null&&Uf(t,"checked",e,!1)}function Ad(t,e){N_(t,e);var n=Pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Sd(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ig(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Sd(t,e,n){(e!=="number"||ec(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function ho(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(xa(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function D_(t,e){var n=Pi(e.value),r=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,V_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gT=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(t){gT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ma[e]=Ma[t]})});function O_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ma.hasOwnProperty(t)&&Ma[t]?(""+e).trim():e+"px"}function L_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yT=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(t,e){if(e){if(yT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function kd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=null;function Wf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nd=null,fo=null,po=null;function ag(t){if(t=Rl(t)){if(typeof Nd!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bc(e),Nd(t.stateNode,t.type,e))}}function M_(t){fo?po?po.push(t):po=[t]:fo=t}function F_(){if(fo){var t=fo,e=po;if(po=fo=null,ag(t),e)for(t=0;t<e.length;t++)ag(e[t])}}function j_(t,e){return t(e)}function U_(){}var Bh=!1;function B_(t,e,n){if(Bh)return t(e,n);Bh=!0;try{return j_(t,e,n)}finally{Bh=!1,(fo!==null||po!==null)&&(U_(),F_())}}function Za(t,e){var n=t.stateNode;if(n===null)return null;var r=Bc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Dd=!1;if(jr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Dd=!1}function _T(t,e,n,r,i,s,a,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var Fa=!1,tc=null,nc=!1,bd=null,vT={onError:function(t){Fa=!0,tc=t}};function wT(t,e,n,r,i,s,a,u,c){Fa=!1,tc=null,_T.apply(vT,arguments)}function ET(t,e,n,r,i,s,a,u,c){if(wT.apply(this,arguments),Fa){if(Fa){var f=tc;Fa=!1,tc=null}else throw Error(q(198));nc||(nc=!0,bd=f)}}function Is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lg(t){if(Is(t)!==t)throw Error(q(188))}function TT(t){var e=t.alternate;if(!e){if(e=Is(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return lg(i),t;if(s===r)return lg(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function z_(t){return t=TT(t),t!==null?W_(t):null}function W_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W_(t);if(e!==null)return e;t=t.sibling}return null}var H_=pn.unstable_scheduleCallback,ug=pn.unstable_cancelCallback,IT=pn.unstable_shouldYield,AT=pn.unstable_requestPaint,st=pn.unstable_now,ST=pn.unstable_getCurrentPriorityLevel,Hf=pn.unstable_ImmediatePriority,q_=pn.unstable_UserBlockingPriority,rc=pn.unstable_NormalPriority,CT=pn.unstable_LowPriority,Q_=pn.unstable_IdlePriority,Mc=null,hr=null;function PT(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:xT,RT=Math.log,kT=Math.LN2;function xT(t){return t>>>=0,t===0?32:31-(RT(t)/kT|0)|0}var wu=64,Eu=4194304;function Na(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var u=a&~i;u!==0?r=Na(u):(s&=a,s!==0&&(r=Na(s)))}else a=n&~i,a!==0?r=Na(a):s!==0&&(r=Na(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),i=1<<n,r|=t[n],e&=~i;return r}function NT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Kn(s),u=1<<a,c=i[a];c===-1?(!(u&n)||u&r)&&(i[a]=NT(u,e)):c<=e&&(t.expiredLanes|=u),s&=~u}}function Vd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K_(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function $h(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function bT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Kn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function G_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y_,Qf,X_,J_,Z_,Od=!1,Tu=[],gi=null,yi=null,_i=null,el=new Map,tl=new Map,ci=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cg(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":el.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(e.pointerId)}}function Ta(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rl(e),e!==null&&Qf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function OT(t,e,n,r,i){switch(e){case"focusin":return gi=Ta(gi,t,e,n,r,i),!0;case"dragenter":return yi=Ta(yi,t,e,n,r,i),!0;case"mouseover":return _i=Ta(_i,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return el.set(s,Ta(el.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tl.set(s,Ta(tl.get(s)||null,t,e,n,r,i)),!0}return!1}function ev(t){var e=is(t.target);if(e!==null){var n=Is(e);if(n!==null){if(e=n.tag,e===13){if(e=$_(n),e!==null){t.blockedOn=e,Z_(t.priority,function(){X_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xd=r,n.target.dispatchEvent(r),xd=null}else return e=Rl(n),e!==null&&Qf(e),t.blockedOn=n,!1;e.shift()}return!0}function hg(t,e,n){ju(t)&&n.delete(e)}function LT(){Od=!1,gi!==null&&ju(gi)&&(gi=null),yi!==null&&ju(yi)&&(yi=null),_i!==null&&ju(_i)&&(_i=null),el.forEach(hg),tl.forEach(hg)}function Ia(t,e){t.blockedOn===e&&(t.blockedOn=null,Od||(Od=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,LT)))}function nl(t){function e(i){return Ia(i,t)}if(0<Tu.length){Ia(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Ia(gi,t),yi!==null&&Ia(yi,t),_i!==null&&Ia(_i,t),el.forEach(e),tl.forEach(e),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)ev(n),n.blockedOn===null&&ci.shift()}var mo=qr.ReactCurrentBatchConfig,sc=!0;function MT(t,e,n,r){var i=be,s=mo.transition;mo.transition=null;try{be=1,Kf(t,e,n,r)}finally{be=i,mo.transition=s}}function FT(t,e,n,r){var i=be,s=mo.transition;mo.transition=null;try{be=4,Kf(t,e,n,r)}finally{be=i,mo.transition=s}}function Kf(t,e,n,r){if(sc){var i=Ld(t,e,n,r);if(i===null)Jh(t,e,r,oc,n),cg(t,r);else if(OT(i,t,e,n,r))r.stopPropagation();else if(cg(t,r),e&4&&-1<VT.indexOf(t)){for(;i!==null;){var s=Rl(i);if(s!==null&&Y_(s),s=Ld(t,e,n,r),s===null&&Jh(t,e,r,oc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var oc=null;function Ld(t,e,n,r){if(oc=null,t=Wf(r),t=is(t),t!==null)if(e=Is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oc=t,null}function tv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ST()){case Hf:return 1;case q_:return 4;case rc:case CT:return 16;case Q_:return 536870912;default:return 16}default:return 16}}var di=null,Gf=null,Uu=null;function nv(){if(Uu)return Uu;var t,e=Gf,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Uu=i.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function dg(){return!1}function gn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Iu:dg,this.isPropagationStopped=dg,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yf=gn(Lo),Pl=Ge({},Lo,{view:0,detail:0}),jT=gn(Pl),zh,Wh,Aa,Fc=Ge({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(zh=t.screenX-Aa.screenX,Wh=t.screenY-Aa.screenY):Wh=zh=0,Aa=t),zh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),fg=gn(Fc),UT=Ge({},Fc,{dataTransfer:0}),BT=gn(UT),$T=Ge({},Pl,{relatedTarget:0}),Hh=gn($T),zT=Ge({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),WT=gn(zT),HT=Ge({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qT=gn(HT),QT=Ge({},Lo,{data:0}),pg=gn(QT),KT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YT[t])?!!e[t]:!1}function Xf(){return XT}var JT=Ge({},Pl,{key:function(t){if(t.key){var e=KT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xf,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZT=gn(JT),eI=Ge({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=gn(eI),tI=Ge({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xf}),nI=gn(tI),rI=Ge({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=gn(rI),sI=Ge({},Fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oI=gn(sI),aI=[9,13,27,32],Jf=jr&&"CompositionEvent"in window,ja=null;jr&&"documentMode"in document&&(ja=document.documentMode);var lI=jr&&"TextEvent"in window&&!ja,rv=jr&&(!Jf||ja&&8<ja&&11>=ja),gg=" ",yg=!1;function iv(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function uI(t,e){switch(t){case"compositionend":return sv(e);case"keypress":return e.which!==32?null:(yg=!0,gg);case"textInput":return t=e.data,t===gg&&yg?null:t;default:return null}}function cI(t,e){if(to)return t==="compositionend"||!Jf&&iv(t,e)?(t=nv(),Uu=Gf=di=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rv&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function ov(t,e,n,r){M_(r),e=ac(e,"onChange"),0<e.length&&(n=new Yf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,rl=null;function dI(t){yv(t,0)}function jc(t){var e=io(t);if(x_(e))return t}function fI(t,e){if(t==="change")return e}var av=!1;if(jr){var qh;if(jr){var Qh="oninput"in document;if(!Qh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Qh=typeof vg.oninput=="function"}qh=Qh}else qh=!1;av=qh&&(!document.documentMode||9<document.documentMode)}function wg(){Ua&&(Ua.detachEvent("onpropertychange",lv),rl=Ua=null)}function lv(t){if(t.propertyName==="value"&&jc(rl)){var e=[];ov(e,rl,t,Wf(t)),B_(dI,e)}}function pI(t,e,n){t==="focusin"?(wg(),Ua=e,rl=n,Ua.attachEvent("onpropertychange",lv)):t==="focusout"&&wg()}function mI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc(rl)}function gI(t,e){if(t==="click")return jc(e)}function yI(t,e){if(t==="input"||t==="change")return jc(e)}function _I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:_I;function il(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_d.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,e){var n=Eg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eg(n)}}function uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cv(){for(var t=window,e=ec();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ec(t.document)}return e}function Zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vI(t){var e=cv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uv(n.ownerDocument.documentElement,n)){if(r!==null&&Zf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Tg(n,s);var a=Tg(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wI=jr&&"documentMode"in document&&11>=document.documentMode,no=null,Md=null,Ba=null,Fd=!1;function Ig(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||no==null||no!==ec(r)||(r=no,"selectionStart"in r&&Zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ba&&il(Ba,r)||(Ba=r,r=ac(Md,"onSelect"),0<r.length&&(e=new Yf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=no)))}function Au(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ro={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Kh={},hv={};jr&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Uc(t){if(Kh[t])return Kh[t];if(!ro[t])return t;var e=ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hv)return Kh[t]=e[n];return t}var dv=Uc("animationend"),fv=Uc("animationiteration"),pv=Uc("animationstart"),mv=Uc("transitionend"),gv=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){gv.set(t,e),Ts(e,[t])}for(var Gh=0;Gh<Ag.length;Gh++){var Yh=Ag[Gh],EI=Yh.toLowerCase(),TI=Yh[0].toUpperCase()+Yh.slice(1);Di(EI,"on"+TI)}Di(dv,"onAnimationEnd");Di(fv,"onAnimationIteration");Di(pv,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(mv,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),II=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function Sg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ET(r,e,void 0,t),t.currentTarget=null}function yv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;Sg(i,u,f),s=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;Sg(i,u,f),s=c}}}if(nc)throw t=bd,nc=!1,bd=null,t}function ze(t,e){var n=e[zd];n===void 0&&(n=e[zd]=new Set);var r=t+"__bubble";n.has(r)||(_v(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),_v(n,t,r,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function sl(t){if(!t[Su]){t[Su]=!0,S_.forEach(function(n){n!=="selectionchange"&&(II.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Xh("selectionchange",!1,e))}}function _v(t,e,n,r){switch(tv(e)){case 1:var i=MT;break;case 4:i=FT;break;default:i=Kf}n=i.bind(null,e,n,t),i=void 0,!Dd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=is(u),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}u=u.parentNode}}r=r.return}B_(function(){var f=s,g=Wf(n),_=[];e:{var E=gv.get(t);if(E!==void 0){var k=Yf,O=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":k=ZT;break;case"focusin":O="focus",k=Hh;break;case"focusout":O="blur",k=Hh;break;case"beforeblur":case"afterblur":k=Hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=BT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=nI;break;case dv:case fv:case pv:k=WT;break;case mv:k=iI;break;case"scroll":k=jT;break;case"wheel":k=oI;break;case"copy":case"cut":case"paste":k=qT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=mg}var M=(e&4)!==0,F=!M&&t==="scroll",S=M?E!==null?E+"Capture":null:E;M=[];for(var T=f,R;T!==null;){R=T;var U=R.stateNode;if(R.tag===5&&U!==null&&(R=U,S!==null&&(U=Za(T,S),U!=null&&M.push(ol(T,U,R)))),F)break;T=T.return}0<M.length&&(E=new k(E,O,null,n,g),_.push({event:E,listeners:M}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",E&&n!==xd&&(O=n.relatedTarget||n.fromElement)&&(is(O)||O[Ur]))break e;if((k||E)&&(E=g.window===g?g:(E=g.ownerDocument)?E.defaultView||E.parentWindow:window,k?(O=n.relatedTarget||n.toElement,k=f,O=O?is(O):null,O!==null&&(F=Is(O),O!==F||O.tag!==5&&O.tag!==6)&&(O=null)):(k=null,O=f),k!==O)){if(M=fg,U="onMouseLeave",S="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(M=mg,U="onPointerLeave",S="onPointerEnter",T="pointer"),F=k==null?E:io(k),R=O==null?E:io(O),E=new M(U,T+"leave",k,n,g),E.target=F,E.relatedTarget=R,U=null,is(g)===f&&(M=new M(S,T+"enter",O,n,g),M.target=R,M.relatedTarget=F,U=M),F=U,k&&O)t:{for(M=k,S=O,T=0,R=M;R;R=Gs(R))T++;for(R=0,U=S;U;U=Gs(U))R++;for(;0<T-R;)M=Gs(M),T--;for(;0<R-T;)S=Gs(S),R--;for(;T--;){if(M===S||S!==null&&M===S.alternate)break t;M=Gs(M),S=Gs(S)}M=null}else M=null;k!==null&&Cg(_,E,k,M,!1),O!==null&&F!==null&&Cg(_,F,O,M,!0)}}e:{if(E=f?io(f):window,k=E.nodeName&&E.nodeName.toLowerCase(),k==="select"||k==="input"&&E.type==="file")var Q=fI;else if(_g(E))if(av)Q=yI;else{Q=mI;var G=pI}else(k=E.nodeName)&&k.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Q=gI);if(Q&&(Q=Q(t,f))){ov(_,Q,n,g);break e}G&&G(t,E,f),t==="focusout"&&(G=E._wrapperState)&&G.controlled&&E.type==="number"&&Sd(E,"number",E.value)}switch(G=f?io(f):window,t){case"focusin":(_g(G)||G.contentEditable==="true")&&(no=G,Md=f,Ba=null);break;case"focusout":Ba=Md=no=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,Ig(_,n,g);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":Ig(_,n,g)}var A;if(Jf)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else to?iv(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(rv&&n.locale!=="ko"&&(to||w!=="onCompositionStart"?w==="onCompositionEnd"&&to&&(A=nv()):(di=g,Gf="value"in di?di.value:di.textContent,to=!0)),G=ac(f,w),0<G.length&&(w=new pg(w,t,null,n,g),_.push({event:w,listeners:G}),A?w.data=A:(A=sv(n),A!==null&&(w.data=A)))),(A=lI?uI(t,n):cI(t,n))&&(f=ac(f,"onBeforeInput"),0<f.length&&(g=new pg("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:f}),g.data=A))}yv(_,e)})}function ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ac(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Za(t,n),s!=null&&r.unshift(ol(t,s,i)),s=Za(t,e),s!=null&&r.push(ol(t,s,i))),t=t.return}return r}function Gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cg(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=Za(n,s),c!=null&&a.unshift(ol(n,c,u))):i||(c=Za(n,s),c!=null&&a.push(ol(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var AI=/\r\n?/g,SI=/\u0000|\uFFFD/g;function Pg(t){return(typeof t=="string"?t:""+t).replace(AI,`
`).replace(SI,"")}function Cu(t,e,n){if(e=Pg(e),Pg(t)!==e&&n)throw Error(q(425))}function lc(){}var jd=null,Ud=null;function Bd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(t){return Rg.resolve(null).then(t).catch(RI)}:$d;function RI(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nl(e)}function vi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),cr="__reactFiber$"+Mo,al="__reactProps$"+Mo,Ur="__reactContainer$"+Mo,zd="__reactEvents$"+Mo,kI="__reactListeners$"+Mo,xI="__reactHandles$"+Mo;function is(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kg(t);t!==null;){if(n=t[cr])return n;t=kg(t)}return e}t=n,n=t.parentNode}return null}function Rl(t){return t=t[cr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bc(t){return t[al]||null}var Wd=[],so=-1;function bi(t){return{current:t}}function He(t){0>so||(t.current=Wd[so],Wd[so]=null,so--)}function Be(t,e){so++,Wd[so]=t.current,t.current=e}var Ri={},Ut=bi(Ri),rn=bi(!1),fs=Ri;function Eo(t,e){var n=t.type.contextTypes;if(!n)return Ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function uc(){He(rn),He(Ut)}function xg(t,e,n){if(Ut.current!==Ri)throw Error(q(168));Be(Ut,e),Be(rn,n)}function vv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,pT(t)||"Unknown",i));return Ge({},n,r)}function cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,fs=Ut.current,Be(Ut,t),Be(rn,rn.current),!0}function Ng(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=vv(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,He(rn),He(Ut),Be(Ut,t)):He(rn),Be(rn,n)}var br=null,$c=!1,ed=!1;function wv(t){br===null?br=[t]:br.push(t)}function NI(t){$c=!0,wv(t)}function Vi(){if(!ed&&br!==null){ed=!0;var t=0,e=be;try{var n=br;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,$c=!1}catch(i){throw br!==null&&(br=br.slice(t+1)),H_(Hf,Vi),i}finally{be=e,ed=!1}}return null}var oo=[],ao=0,hc=null,dc=0,Cn=[],Pn=0,ps=null,Vr=1,Or="";function ts(t,e){oo[ao++]=dc,oo[ao++]=hc,hc=t,dc=e}function Ev(t,e,n){Cn[Pn++]=Vr,Cn[Pn++]=Or,Cn[Pn++]=ps,ps=t;var r=Vr;t=Or;var i=32-Kn(r)-1;r&=~(1<<i),n+=1;var s=32-Kn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vr=1<<32-Kn(e)+i|n<<i|r,Or=s+t}else Vr=1<<s|n<<i|r,Or=t}function ep(t){t.return!==null&&(ts(t,1),Ev(t,1,0))}function tp(t){for(;t===hc;)hc=oo[--ao],oo[ao]=null,dc=oo[--ao],oo[ao]=null;for(;t===ps;)ps=Cn[--Pn],Cn[Pn]=null,Or=Cn[--Pn],Cn[Pn]=null,Vr=Cn[--Pn],Cn[Pn]=null}var fn=null,dn=null,qe=!1,qn=null;function Tv(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,dn=vi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:Vr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fn=t,dn=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qd(t){if(qe){var e=dn;if(e){var n=e;if(!Dg(t,e)){if(Hd(t))throw Error(q(418));e=vi(n.nextSibling);var r=fn;e&&Dg(t,e)?Tv(r,n):(t.flags=t.flags&-4097|2,qe=!1,fn=t)}}else{if(Hd(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,fn=t}}}function bg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Pu(t){if(t!==fn)return!1;if(!qe)return bg(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bd(t.type,t.memoizedProps)),e&&(e=dn)){if(Hd(t))throw Iv(),Error(q(418));for(;e;)Tv(t,e),e=vi(e.nextSibling)}if(bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dn=vi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=fn?vi(t.stateNode.nextSibling):null;return!0}function Iv(){for(var t=dn;t;)t=vi(t.nextSibling)}function To(){dn=fn=null,qe=!1}function np(t){qn===null?qn=[t]:qn.push(t)}var DI=qr.ReactCurrentBatchConfig;function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vg(t){var e=t._init;return e(t._payload)}function Av(t){function e(S,T){if(t){var R=S.deletions;R===null?(S.deletions=[T],S.flags|=16):R.push(T)}}function n(S,T){if(!t)return null;for(;T!==null;)e(S,T),T=T.sibling;return null}function r(S,T){for(S=new Map;T!==null;)T.key!==null?S.set(T.key,T):S.set(T.index,T),T=T.sibling;return S}function i(S,T){return S=Ii(S,T),S.index=0,S.sibling=null,S}function s(S,T,R){return S.index=R,t?(R=S.alternate,R!==null?(R=R.index,R<T?(S.flags|=2,T):R):(S.flags|=2,T)):(S.flags|=1048576,T)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function u(S,T,R,U){return T===null||T.tag!==6?(T=ad(R,S.mode,U),T.return=S,T):(T=i(T,R),T.return=S,T)}function c(S,T,R,U){var Q=R.type;return Q===eo?g(S,T,R.props.children,U,R.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===li&&Vg(Q)===T.type)?(U=i(T,R.props),U.ref=Sa(S,T,R),U.return=S,U):(U=Ku(R.type,R.key,R.props,null,S.mode,U),U.ref=Sa(S,T,R),U.return=S,U)}function f(S,T,R,U){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=ld(R,S.mode,U),T.return=S,T):(T=i(T,R.children||[]),T.return=S,T)}function g(S,T,R,U,Q){return T===null||T.tag!==7?(T=cs(R,S.mode,U,Q),T.return=S,T):(T=i(T,R),T.return=S,T)}function _(S,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return T=ad(""+T,S.mode,R),T.return=S,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yu:return R=Ku(T.type,T.key,T.props,null,S.mode,R),R.ref=Sa(S,null,T),R.return=S,R;case Zs:return T=ld(T,S.mode,R),T.return=S,T;case li:var U=T._init;return _(S,U(T._payload),R)}if(xa(T)||wa(T))return T=cs(T,S.mode,R,null),T.return=S,T;Ru(S,T)}return null}function E(S,T,R,U){var Q=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return Q!==null?null:u(S,T,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yu:return R.key===Q?c(S,T,R,U):null;case Zs:return R.key===Q?f(S,T,R,U):null;case li:return Q=R._init,E(S,T,Q(R._payload),U)}if(xa(R)||wa(R))return Q!==null?null:g(S,T,R,U,null);Ru(S,R)}return null}function k(S,T,R,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number")return S=S.get(R)||null,u(T,S,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case yu:return S=S.get(U.key===null?R:U.key)||null,c(T,S,U,Q);case Zs:return S=S.get(U.key===null?R:U.key)||null,f(T,S,U,Q);case li:var G=U._init;return k(S,T,R,G(U._payload),Q)}if(xa(U)||wa(U))return S=S.get(R)||null,g(T,S,U,Q,null);Ru(T,U)}return null}function O(S,T,R,U){for(var Q=null,G=null,A=T,w=T=0,I=null;A!==null&&w<R.length;w++){A.index>w?(I=A,A=null):I=A.sibling;var P=E(S,A,R[w],U);if(P===null){A===null&&(A=I);break}t&&A&&P.alternate===null&&e(S,A),T=s(P,T,w),G===null?Q=P:G.sibling=P,G=P,A=I}if(w===R.length)return n(S,A),qe&&ts(S,w),Q;if(A===null){for(;w<R.length;w++)A=_(S,R[w],U),A!==null&&(T=s(A,T,w),G===null?Q=A:G.sibling=A,G=A);return qe&&ts(S,w),Q}for(A=r(S,A);w<R.length;w++)I=k(A,S,w,R[w],U),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?w:I.key),T=s(I,T,w),G===null?Q=I:G.sibling=I,G=I);return t&&A.forEach(function(x){return e(S,x)}),qe&&ts(S,w),Q}function M(S,T,R,U){var Q=wa(R);if(typeof Q!="function")throw Error(q(150));if(R=Q.call(R),R==null)throw Error(q(151));for(var G=Q=null,A=T,w=T=0,I=null,P=R.next();A!==null&&!P.done;w++,P=R.next()){A.index>w?(I=A,A=null):I=A.sibling;var x=E(S,A,P.value,U);if(x===null){A===null&&(A=I);break}t&&A&&x.alternate===null&&e(S,A),T=s(x,T,w),G===null?Q=x:G.sibling=x,G=x,A=I}if(P.done)return n(S,A),qe&&ts(S,w),Q;if(A===null){for(;!P.done;w++,P=R.next())P=_(S,P.value,U),P!==null&&(T=s(P,T,w),G===null?Q=P:G.sibling=P,G=P);return qe&&ts(S,w),Q}for(A=r(S,A);!P.done;w++,P=R.next())P=k(A,S,w,P.value,U),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?w:P.key),T=s(P,T,w),G===null?Q=P:G.sibling=P,G=P);return t&&A.forEach(function(b){return e(S,b)}),qe&&ts(S,w),Q}function F(S,T,R,U){if(typeof R=="object"&&R!==null&&R.type===eo&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case yu:e:{for(var Q=R.key,G=T;G!==null;){if(G.key===Q){if(Q=R.type,Q===eo){if(G.tag===7){n(S,G.sibling),T=i(G,R.props.children),T.return=S,S=T;break e}}else if(G.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===li&&Vg(Q)===G.type){n(S,G.sibling),T=i(G,R.props),T.ref=Sa(S,G,R),T.return=S,S=T;break e}n(S,G);break}else e(S,G);G=G.sibling}R.type===eo?(T=cs(R.props.children,S.mode,U,R.key),T.return=S,S=T):(U=Ku(R.type,R.key,R.props,null,S.mode,U),U.ref=Sa(S,T,R),U.return=S,S=U)}return a(S);case Zs:e:{for(G=R.key;T!==null;){if(T.key===G)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){n(S,T.sibling),T=i(T,R.children||[]),T.return=S,S=T;break e}else{n(S,T);break}else e(S,T);T=T.sibling}T=ld(R,S.mode,U),T.return=S,S=T}return a(S);case li:return G=R._init,F(S,T,G(R._payload),U)}if(xa(R))return O(S,T,R,U);if(wa(R))return M(S,T,R,U);Ru(S,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,T!==null&&T.tag===6?(n(S,T.sibling),T=i(T,R),T.return=S,S=T):(n(S,T),T=ad(R,S.mode,U),T.return=S,S=T),a(S)):n(S,T)}return F}var Io=Av(!0),Sv=Av(!1),fc=bi(null),pc=null,lo=null,rp=null;function ip(){rp=lo=pc=null}function sp(t){var e=fc.current;He(fc),t._currentValue=e}function Qd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function go(t,e){pc=t,rp=lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(nn=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(rp!==t)if(t={context:t,memoizedValue:e,next:null},lo===null){if(pc===null)throw Error(q(308));lo=t,pc.dependencies={lanes:0,firstContext:t}}else lo=lo.next=t;return e}var ss=null;function op(t){ss===null?ss=[t]:ss.push(t)}function Cv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,op(e)):(n.next=i.next,i.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ui=!1;function ap(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Br(t,n)}return i=r.interleaved,i===null?(e.next=e,op(r)):(e.next=i.next,i.next=e),r.interleaved=e,Br(t,n)}function $u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qf(t,n)}}function Og(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mc(t,e,n,r){var i=t.updateQueue;ui=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?s=f:a.next=f,a=c;var g=t.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==a&&(u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=c))}if(s!==null){var _=i.baseState;a=0,g=f=c=null,u=s;do{var E=u.lane,k=u.eventTime;if((r&E)===E){g!==null&&(g=g.next={eventTime:k,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var O=t,M=u;switch(E=e,k=n,M.tag){case 1:if(O=M.payload,typeof O=="function"){_=O.call(k,_,E);break e}_=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,E=typeof O=="function"?O.call(k,_,E):O,E==null)break e;_=Ge({},_,E);break e;case 2:ui=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,E=i.effects,E===null?i.effects=[u]:E.push(u))}else k={eventTime:k,lane:E,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(f=g=k,c=_):g=g.next=k,a|=E;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;E=u,u=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);if(g===null&&(c=_),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=a,t.lanes=a,t.memoizedState=_}}function Lg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var kl={},dr=bi(kl),ll=bi(kl),ul=bi(kl);function os(t){if(t===kl)throw Error(q(174));return t}function lp(t,e){switch(Be(ul,e),Be(ll,t),Be(dr,kl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pd(e,t)}He(dr),Be(dr,e)}function Ao(){He(dr),He(ll),He(ul)}function Rv(t){os(ul.current);var e=os(dr.current),n=Pd(e,t.type);e!==n&&(Be(ll,t),Be(dr,n))}function up(t){ll.current===t&&(He(dr),He(ll))}var Qe=bi(0);function gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var td=[];function cp(){for(var t=0;t<td.length;t++)td[t]._workInProgressVersionPrimary=null;td.length=0}var zu=qr.ReactCurrentDispatcher,nd=qr.ReactCurrentBatchConfig,ms=0,Ke=null,mt=null,Et=null,yc=!1,$a=!1,cl=0,bI=0;function Vt(){throw Error(q(321))}function hp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function dp(t,e,n,r,i,s){if(ms=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?MI:FI,t=n(r,i),$a){s=0;do{if($a=!1,cl=0,25<=s)throw Error(q(301));s+=1,Et=mt=null,e.updateQueue=null,zu.current=jI,t=n(r,i)}while($a)}if(zu.current=_c,e=mt!==null&&mt.next!==null,ms=0,Et=mt=Ke=null,yc=!1,e)throw Error(q(300));return t}function fp(){var t=cl!==0;return cl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ke.memoizedState=Et=t:Et=Et.next=t,Et}function Dn(){if(mt===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Et===null?Ke.memoizedState:Et.next;if(e!==null)Et=e,mt=t;else{if(t===null)throw Error(q(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Et===null?Ke.memoizedState=Et=t:Et=Et.next=t}return Et}function hl(t,e){return typeof e=="function"?e(t):e}function rd(t){var e=Dn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=a=null,c=null,f=s;do{var g=f.lane;if((ms&g)===g)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var _={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=_,a=r):c=c.next=_,Ke.lanes|=g,gs|=g}f=f.next}while(f!==null&&f!==s);c===null?a=r:c.next=u,Yn(r,e.memoizedState)||(nn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function id(t){var e=Dn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Yn(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function kv(){}function xv(t,e){var n=Ke,r=Dn(),i=e(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,nn=!0),r=r.queue,pp(bv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,dl(9,Dv.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(q(349));ms&30||Nv(n,e,i)}return i}function Nv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dv(t,e,n,r){e.value=n,e.getSnapshot=r,Vv(e)&&Ov(t)}function bv(t,e,n){return n(function(){Vv(e)&&Ov(t)})}function Vv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function Ov(t){var e=Br(t,1);e!==null&&Gn(e,t,1,-1)}function Mg(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=LI.bind(null,Ke,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lv(){return Dn().memoizedState}function Wu(t,e,n,r){var i=ur();Ke.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function zc(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(mt!==null){var a=mt.memoizedState;if(s=a.destroy,r!==null&&hp(r,a.deps)){i.memoizedState=dl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=dl(1|e,n,s,r)}function Fg(t,e){return Wu(8390656,8,t,e)}function pp(t,e){return zc(2048,8,t,e)}function Mv(t,e){return zc(4,2,t,e)}function Fv(t,e){return zc(4,4,t,e)}function jv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Uv(t,e,n){return n=n!=null?n.concat([t]):null,zc(4,4,jv.bind(null,e,t),n)}function mp(){}function Bv(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $v(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zv(t,e,n){return ms&21?(Yn(n,e)||(n=K_(),Ke.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,nn=!0),t.memoizedState=n)}function VI(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=nd.transition;nd.transition={};try{t(!1),e()}finally{be=n,nd.transition=r}}function Wv(){return Dn().memoizedState}function OI(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hv(t))qv(e,n);else if(n=Cv(t,e,n,r),n!==null){var i=Kt();Gn(n,t,r,i),Qv(n,e,r)}}function LI(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hv(t))qv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,n);if(i.hasEagerState=!0,i.eagerState=u,Yn(u,a)){var c=e.interleaved;c===null?(i.next=i,op(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Cv(t,e,i,r),n!==null&&(i=Kt(),Gn(n,t,r,i),Qv(n,e,r))}}function Hv(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function qv(t,e){$a=yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qf(t,n)}}var _c={readContext:Nn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},MI={readContext:Nn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:Fg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,jv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=OI.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Mg,useDebugValue:mp,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Mg(!1),e=t[0];return t=VI.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=ur();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Tt===null)throw Error(q(349));ms&30||Nv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Fg(bv.bind(null,r,s,t),[t]),r.flags|=2048,dl(9,Dv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ur(),e=Tt.identifierPrefix;if(qe){var n=Or,r=Vr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FI={readContext:Nn,useCallback:Bv,useContext:Nn,useEffect:pp,useImperativeHandle:Uv,useInsertionEffect:Mv,useLayoutEffect:Fv,useMemo:$v,useReducer:rd,useRef:Lv,useState:function(){return rd(hl)},useDebugValue:mp,useDeferredValue:function(t){var e=Dn();return zv(e,mt.memoizedState,t)},useTransition:function(){var t=rd(hl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:kv,useSyncExternalStore:xv,useId:Wv,unstable_isNewReconciler:!1},jI={readContext:Nn,useCallback:Bv,useContext:Nn,useEffect:pp,useImperativeHandle:Uv,useInsertionEffect:Mv,useLayoutEffect:Fv,useMemo:$v,useReducer:id,useRef:Lv,useState:function(){return id(hl)},useDebugValue:mp,useDeferredValue:function(t){var e=Dn();return mt===null?e.memoizedState=t:zv(e,mt.memoizedState,t)},useTransition:function(){var t=id(hl)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:kv,useSyncExternalStore:xv,useId:Wv,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wc={isMounted:function(t){return(t=t._reactInternals)?Is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Ti(t),s=Lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Gn(e,t,i,r),$u(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kt(),i=Ti(t),s=Lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(Gn(e,t,i,r),$u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kt(),r=Ti(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(Gn(e,t,r,n),$u(e,t,r))}};function jg(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!il(n,r)||!il(i,s):!0}function Kv(t,e,n){var r=!1,i=Ri,s=e.contextType;return typeof s=="object"&&s!==null?s=Nn(s):(i=sn(e)?fs:Ut.current,r=e.contextTypes,s=(r=r!=null)?Eo(t,i):Ri),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ug(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wc.enqueueReplaceState(e,e.state,null)}function Gd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ap(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Nn(s):(s=sn(e)?fs:Ut.current,i.context=Eo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wc.enqueueReplaceState(i,i.state,null),mc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=fT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function Gv(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wc||(wc=!0,af=r),Yd(t,e)},n}function Yv(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yd(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Bg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eA.bind(null,t,e,n),e.then(t,t))}function $g(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t)}var BI=qr.ReactCurrentOwner,nn=!1;function Qt(t,e,n,r){e.child=t===null?Sv(e,null,n,r):Io(e,t.child,n,r)}function Wg(t,e,n,r,i){n=n.render;var s=e.ref;return go(e,i),r=dp(t,e,n,r,s,i),n=fp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(qe&&n&&ep(e),e.flags|=1,Qt(t,e,r,i),e.child)}function Hg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ip(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xv(t,e,s,r,i)):(t=Ku(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(a,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(il(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,$r(t,e,i)}return Xd(t,e,n,r,i)}function Jv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(co,hn),hn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(co,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(co,hn),hn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(co,hn),hn|=r;return Qt(t,e,i,n),e.child}function Zv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xd(t,e,n,r,i){var s=sn(n)?fs:Ut.current;return s=Eo(e,s),go(e,i),n=dp(t,e,n,r,s,i),r=fp(),t!==null&&!nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(qe&&r&&ep(e),e.flags|=1,Qt(t,e,n,i),e.child)}function qg(t,e,n,r,i){if(sn(n)){var s=!0;cc(e)}else s=!1;if(go(e,i),e.stateNode===null)Hu(t,e),Kv(e,n,r),Gd(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=Nn(f):(f=sn(n)?fs:Ut.current,f=Eo(e,f));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";_||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==f)&&Ug(e,a,r,f),ui=!1;var E=e.memoizedState;a.state=E,mc(e,r,a,i),c=e.memoizedState,u!==r||E!==c||rn.current||ui?(typeof g=="function"&&(Kd(e,n,g,r),c=e.memoizedState),(u=ui||jg(e,n,u,r,E,c,f))?(_||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=f,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Pv(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Wn(e.type,u),a.props=f,_=e.pendingProps,E=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nn(c):(c=sn(n)?fs:Ut.current,c=Eo(e,c));var k=n.getDerivedStateFromProps;(g=typeof k=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==_||E!==c)&&Ug(e,a,r,c),ui=!1,E=e.memoizedState,a.state=E,mc(e,r,a,i);var O=e.memoizedState;u!==_||E!==O||rn.current||ui?(typeof k=="function"&&(Kd(e,n,k,r),O=e.memoizedState),(f=ui||jg(e,n,f,r,E,O,c)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,O,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,O,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=O),a.props=r,a.state=O,a.context=c,r=f):(typeof a.componentDidUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return Jd(t,e,n,r,s,i)}function Jd(t,e,n,r,i,s){Zv(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Ng(e,n,!1),$r(t,e,s);r=e.stateNode,BI.current=e;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Io(e,t.child,null,s),e.child=Io(e,null,u,s)):Qt(t,e,u,s),e.memoizedState=r.state,i&&Ng(e,n,!0),e.child}function e0(t){var e=t.stateNode;e.pendingContext?xg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xg(t,e.context,!1),lp(t,e.containerInfo)}function Qg(t,e,n,r,i){return To(),np(i),e.flags|=256,Qt(t,e,n,r),e.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function t0(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Qe,i&1),t===null)return qd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Qc(a,r,0,null),t=cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ef(n),e.memoizedState=Zd,t):gp(e,a));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return $I(t,e,a,r,u,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ii(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=Ii(u,s):(s=cs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?ef(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Zd,r}return s=t.child,t=s.sibling,r=Ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gp(t,e){return e=Qc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,n,r){return r!==null&&np(r),Io(e,t.child,null,n),t=gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $I(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=sd(Error(q(422))),ku(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qc({mode:"visible",children:r.children},i,0,null),s=cs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Io(e,t.child,null,a),e.child.memoizedState=ef(a),e.memoizedState=Zd,s);if(!(e.mode&1))return ku(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(q(419)),r=sd(s,r,void 0),ku(t,e,a,r)}if(u=(a&t.childLanes)!==0,nn||u){if(r=Tt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Br(t,i),Gn(r,t,i,-1))}return Tp(),r=sd(Error(q(421))),ku(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=vi(i.nextSibling),fn=e,qe=!0,qn=null,t!==null&&(Cn[Pn++]=Vr,Cn[Pn++]=Or,Cn[Pn++]=ps,Vr=t.id,Or=t.overflow,ps=e),e=gp(e,r.children),e.flags|=4096,e)}function Kg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qd(t.return,e,n)}function od(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function n0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kg(t,n,e);else if(t.tag===19)Kg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),od(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}od(e,!0,n,null,s);break;case"together":od(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zI(t,e,n){switch(e.tag){case 3:e0(e),To();break;case 5:Rv(e);break;case 1:sn(e.type)&&cc(e);break;case 4:lp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(fc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?t0(t,e,n):(Be(Qe,Qe.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return n0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Jv(t,e,n)}return $r(t,e,n)}var r0,tf,i0,s0;r0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tf=function(){};i0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,os(dr.current);var s=null;switch(n){case"input":i=Id(t,i),r=Id(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=Cd(t,i),r=Cd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lc)}Rd(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Xa.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Xa.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&ze("scroll",t),s||u===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};s0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ca(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function WI(t,e,n){var r=e.pendingProps;switch(tp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return sn(e.type)&&uc(),Ot(e),null;case 3:return r=e.stateNode,Ao(),He(rn),He(Ut),cp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qn!==null&&(cf(qn),qn=null))),tf(t,e),Ot(e),null;case 5:up(e);var i=os(ul.current);if(n=e.type,t!==null&&e.stateNode!=null)i0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Ot(e),null}if(t=os(dr.current),Pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cr]=e,r[al]=s,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<Da.length;i++)ze(Da[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":rg(r,s),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ze("invalid",r);break;case"textarea":sg(r,s),ze("invalid",r)}Rd(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,u,t),i=["children",""+u]):Xa.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&ze("scroll",r)}switch(n){case"input":_u(r),ig(r,s,!0);break;case"textarea":_u(r),og(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[cr]=e,t[al]=r,r0(t,e,!1,!1),e.stateNode=t;e:{switch(a=kd(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<Da.length;i++)ze(Da[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":rg(t,r),i=Id(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),ze("invalid",t);break;case"textarea":sg(t,r),i=Cd(t,r),ze("invalid",t);break;default:i=r}Rd(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?L_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&V_(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ja(t,c):typeof c=="number"&&Ja(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ze("scroll",t):c!=null&&Uf(t,s,c,a))}switch(n){case"input":_u(t),ig(t,r,!1);break;case"textarea":_u(t),og(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ho(t,!!r.multiple,s,!1):r.defaultValue!=null&&ho(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)s0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=os(ul.current),os(dr.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(s=r.nodeValue!==n)&&(t=fn,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Ot(e),null;case 13:if(He(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&dn!==null&&e.mode&1&&!(e.flags&128))Iv(),To(),e.flags|=98560,s=!1;else if(s=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[cr]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else qn!==null&&(cf(qn),qn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?gt===0&&(gt=3):Tp())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return Ao(),tf(t,e),t===null&&sl(e.stateNode.containerInfo),Ot(e),null;case 10:return sp(e.type._context),Ot(e),null;case 17:return sn(e.type)&&uc(),Ot(e),null;case 19:if(He(Qe),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Ca(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gc(t),a!==null){for(e.flags|=128,Ca(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&st()>Co&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304)}else{if(!r)if(t=gc(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!qe)return Ot(e),null}else 2*st()-s.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Ca(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=st(),e.sibling=null,n=Qe.current,Be(Qe,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return Ep(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function HI(t,e){switch(tp(e),e.tag){case 1:return sn(e.type)&&uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ao(),He(rn),He(Ut),cp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return up(e),null;case 13:if(He(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Qe),null;case 4:return Ao(),null;case 10:return sp(e.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var xu=!1,Ft=!1,qI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function nf(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var Gg=!1;function QI(t,e){if(jd=sc,t=cv(),Zf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,g=0,_=t,E=null;t:for(;;){for(var k;_!==n||i!==0&&_.nodeType!==3||(u=a+i),_!==s||r!==0&&_.nodeType!==3||(c=a+r),_.nodeType===3&&(a+=_.nodeValue.length),(k=_.firstChild)!==null;)E=_,_=k;for(;;){if(_===t)break t;if(E===n&&++f===i&&(u=a),E===s&&++g===r&&(c=a),(k=_.nextSibling)!==null)break;_=E,E=_.parentNode}_=k}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ud={focusedElem:t,selectionRange:n},sc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var O=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var M=O.memoizedProps,F=O.memoizedState,S=e.stateNode,T=S.getSnapshotBeforeUpdate(e.elementType===e.type?M:Wn(e.type,M),F);S.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(U){Ze(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return O=Gg,Gg=!1,O}function za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nf(e,n,s)}i=i.next}while(i!==r)}}function Hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function o0(t){var e=t.alternate;e!==null&&(t.alternate=null,o0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[al],delete e[zd],delete e[kI],delete e[xI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a0(t){return t.tag===5||t.tag===3||t.tag===4}function Yg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lc));else if(r!==4&&(t=t.child,t!==null))for(sf(t,e,n),t=t.sibling;t!==null;)sf(t,e,n),t=t.sibling}function of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(of(t,e,n),t=t.sibling;t!==null;)of(t,e,n),t=t.sibling}var At=null,Hn=!1;function ai(t,e,n){for(n=n.child;n!==null;)l0(t,e,n),n=n.sibling}function l0(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 5:Ft||uo(n,e);case 6:var r=At,i=Hn;At=null,ai(t,e,n),At=r,Hn=i,At!==null&&(Hn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Hn?(t=At,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),nl(t)):Zh(At,n.stateNode));break;case 4:r=At,i=Hn,At=n.stateNode.containerInfo,Hn=!0,ai(t,e,n),At=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&nf(n,e,a),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!Ft&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ze(n,e,u)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ai(t,e,n),Ft=r):ai(t,e,n);break;default:ai(t,e,n)}}function Xg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qI),e.forEach(function(r){var i=nA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:At=u.stateNode,Hn=!1;break e;case 3:At=u.stateNode.containerInfo,Hn=!0;break e;case 4:At=u.stateNode.containerInfo,Hn=!0;break e}u=u.return}if(At===null)throw Error(q(160));l0(s,a,i),At=null,Hn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){Ze(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u0(e,t),e=e.sibling}function u0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),lr(t),r&4){try{za(3,t,t.return),Hc(3,t)}catch(M){Ze(t,t.return,M)}try{za(5,t,t.return)}catch(M){Ze(t,t.return,M)}}break;case 1:zn(e,t),lr(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(zn(e,t),lr(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var i=t.stateNode;try{Ja(i,"")}catch(M){Ze(t,t.return,M)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&N_(i,s),kd(u,a);var f=kd(u,s);for(a=0;a<c.length;a+=2){var g=c[a],_=c[a+1];g==="style"?L_(i,_):g==="dangerouslySetInnerHTML"?V_(i,_):g==="children"?Ja(i,_):Uf(i,g,_,f)}switch(u){case"input":Ad(i,s);break;case"textarea":D_(i,s);break;case"select":var E=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var k=s.value;k!=null?ho(i,!!s.multiple,k,!1):E!==!!s.multiple&&(s.defaultValue!=null?ho(i,!!s.multiple,s.defaultValue,!0):ho(i,!!s.multiple,s.multiple?[]:"",!1))}i[al]=s}catch(M){Ze(t,t.return,M)}}break;case 6:if(zn(e,t),lr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(M){Ze(t,t.return,M)}}break;case 3:if(zn(e,t),lr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(M){Ze(t,t.return,M)}break;case 4:zn(e,t),lr(t);break;case 13:zn(e,t),lr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vp=st())),r&4&&Xg(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(f=Ft)||g,zn(e,t),Ft=f):zn(e,t),lr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(ne=t,g=t.child;g!==null;){for(_=ne=g;ne!==null;){switch(E=ne,k=E.child,E.tag){case 0:case 11:case 14:case 15:za(4,E,E.return);break;case 1:uo(E,E.return);var O=E.stateNode;if(typeof O.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,O.props=e.memoizedProps,O.state=e.memoizedState,O.componentWillUnmount()}catch(M){Ze(r,n,M)}}break;case 5:uo(E,E.return);break;case 22:if(E.memoizedState!==null){Zg(_);continue}}k!==null?(k.return=E,ne=k):Zg(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{i=_.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=_.stateNode,c=_.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=O_("display",a))}catch(M){Ze(t,t.return,M)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(M){Ze(t,t.return,M)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:zn(e,t),lr(t),r&4&&Xg(t);break;case 21:break;default:zn(e,t),lr(t)}}function lr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a0(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ja(i,""),r.flags&=-33);var s=Yg(t);of(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,u=Yg(t);sf(t,u,a);break;default:throw Error(q(161))}}catch(c){Ze(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KI(t,e,n){ne=t,c0(t)}function c0(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||xu;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Ft;u=xu;var f=Ft;if(xu=a,(Ft=c)&&!f)for(ne=i;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?ey(i):c!==null?(c.return=a,ne=c):ey(i);for(;s!==null;)ne=s,c0(s),s=s.sibling;ne=i,xu=u,Ft=f}Jg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Jg(t)}}function Jg(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lg(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lg(e,a,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&nl(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ft||e.flags&512&&rf(e)}catch(E){Ze(e,e.return,E)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Zg(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function ey(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hc(4,e)}catch(c){Ze(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ze(e,i,c)}}var s=e.return;try{rf(e)}catch(c){Ze(e,s,c)}break;case 5:var a=e.return;try{rf(e)}catch(c){Ze(e,a,c)}}}catch(c){Ze(e,e.return,c)}if(e===t){ne=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ne=u;break}ne=e.return}}var GI=Math.ceil,vc=qr.ReactCurrentDispatcher,yp=qr.ReactCurrentOwner,xn=qr.ReactCurrentBatchConfig,Se=0,Tt=null,lt=null,Pt=0,hn=0,co=bi(0),gt=0,fl=null,gs=0,qc=0,_p=0,Wa=null,tn=null,vp=0,Co=1/0,Dr=null,wc=!1,af=null,Ei=null,Nu=!1,fi=null,Ec=0,Ha=0,lf=null,qu=-1,Qu=0;function Kt(){return Se&6?st():qu!==-1?qu:qu=st()}function Ti(t){return t.mode&1?Se&2&&Pt!==0?Pt&-Pt:DI.transition!==null?(Qu===0&&(Qu=K_()),Qu):(t=be,t!==0||(t=window.event,t=t===void 0?16:tv(t.type)),t):1}function Gn(t,e,n,r){if(50<Ha)throw Ha=0,lf=null,Error(q(185));Cl(t,n,r),(!(Se&2)||t!==Tt)&&(t===Tt&&(!(Se&2)&&(qc|=n),gt===4&&hi(t,Pt)),on(t,r),n===1&&Se===0&&!(e.mode&1)&&(Co=st()+500,$c&&Vi()))}function on(t,e){var n=t.callbackNode;DT(t,e);var r=ic(t,t===Tt?Pt:0);if(r===0)n!==null&&ug(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ug(n),e===1)t.tag===0?NI(ty.bind(null,t)):wv(ty.bind(null,t)),PI(function(){!(Se&6)&&Vi()}),n=null;else{switch(G_(r)){case 1:n=Hf;break;case 4:n=q_;break;case 16:n=rc;break;case 536870912:n=Q_;break;default:n=rc}n=_0(n,h0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h0(t,e){if(qu=-1,Qu=0,Se&6)throw Error(q(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=ic(t,t===Tt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tc(t,r);else{e=r;var i=Se;Se|=2;var s=f0();(Tt!==t||Pt!==e)&&(Dr=null,Co=st()+500,us(t,e));do try{JI();break}catch(u){d0(t,u)}while(!0);ip(),vc.current=s,Se=i,lt!==null?e=0:(Tt=null,Pt=0,e=gt)}if(e!==0){if(e===2&&(i=Vd(t),i!==0&&(r=i,e=uf(t,i))),e===1)throw n=fl,us(t,0),hi(t,r),on(t,st()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!YI(i)&&(e=Tc(t,r),e===2&&(s=Vd(t),s!==0&&(r=s,e=uf(t,s))),e===1))throw n=fl,us(t,0),hi(t,r),on(t,st()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ns(t,tn,Dr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=vp+500-st(),10<e)){if(ic(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$d(ns.bind(null,t,tn,Dr),e);break}ns(t,tn,Dr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Kn(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*GI(r/1960))-r,10<r){t.timeoutHandle=$d(ns.bind(null,t,tn,Dr),r);break}ns(t,tn,Dr);break;case 5:ns(t,tn,Dr);break;default:throw Error(q(329))}}}return on(t,st()),t.callbackNode===n?h0.bind(null,t):null}function uf(t,e){var n=Wa;return t.current.memoizedState.isDehydrated&&(us(t,e).flags|=256),t=Tc(t,e),t!==2&&(e=tn,tn=n,e!==null&&cf(e)),t}function cf(t){tn===null?tn=t:tn.push.apply(tn,t)}function YI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~_p,e&=~qc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function ty(t){if(Se&6)throw Error(q(327));yo();var e=ic(t,0);if(!(e&1))return on(t,st()),null;var n=Tc(t,e);if(t.tag!==0&&n===2){var r=Vd(t);r!==0&&(e=r,n=uf(t,r))}if(n===1)throw n=fl,us(t,0),hi(t,e),on(t,st()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,tn,Dr),on(t,st()),null}function wp(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Co=st()+500,$c&&Vi())}}function ys(t){fi!==null&&fi.tag===0&&!(Se&6)&&yo();var e=Se;Se|=1;var n=xn.transition,r=be;try{if(xn.transition=null,be=1,t)return t()}finally{be=r,xn.transition=n,Se=e,!(Se&6)&&Vi()}}function Ep(){hn=co.current,He(co)}function us(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CI(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(tp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uc();break;case 3:Ao(),He(rn),He(Ut),cp();break;case 5:up(r);break;case 4:Ao();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:sp(r.type._context);break;case 22:case 23:Ep()}n=n.return}if(Tt=t,lt=t=Ii(t.current,null),Pt=hn=e,gt=0,fl=null,_p=qc=gs=0,tn=Wa=null,ss!==null){for(e=0;e<ss.length;e++)if(n=ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ss=null}return t}function d0(t,e){do{var n=lt;try{if(ip(),zu.current=_c,yc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yc=!1}if(ms=0,Et=mt=Ke=null,$a=!1,cl=0,yp.current=null,n===null||n.return===null){gt=1,fl=e,lt=null;break}e:{var s=t,a=n.return,u=n,c=e;if(e=Pt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,g=u,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var E=g.alternate;E?(g.updateQueue=E.updateQueue,g.memoizedState=E.memoizedState,g.lanes=E.lanes):(g.updateQueue=null,g.memoizedState=null)}var k=$g(a);if(k!==null){k.flags&=-257,zg(k,a,u,s,e),k.mode&1&&Bg(s,f,e),e=k,c=f;var O=e.updateQueue;if(O===null){var M=new Set;M.add(c),e.updateQueue=M}else O.add(c);break e}else{if(!(e&1)){Bg(s,f,e),Tp();break e}c=Error(q(426))}}else if(qe&&u.mode&1){var F=$g(a);if(F!==null){!(F.flags&65536)&&(F.flags|=256),zg(F,a,u,s,e),np(So(c,u));break e}}s=c=So(c,u),gt!==4&&(gt=2),Wa===null?Wa=[s]:Wa.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=Gv(s,c,e);Og(s,S);break e;case 1:u=c;var T=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ei===null||!Ei.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=Yv(s,u,e);Og(s,U);break e}}s=s.return}while(s!==null)}m0(n)}catch(Q){e=Q,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function f0(){var t=vc.current;return vc.current=_c,t===null?_c:t}function Tp(){(gt===0||gt===3||gt===2)&&(gt=4),Tt===null||!(gs&268435455)&&!(qc&268435455)||hi(Tt,Pt)}function Tc(t,e){var n=Se;Se|=2;var r=f0();(Tt!==t||Pt!==e)&&(Dr=null,us(t,e));do try{XI();break}catch(i){d0(t,i)}while(!0);if(ip(),Se=n,vc.current=r,lt!==null)throw Error(q(261));return Tt=null,Pt=0,gt}function XI(){for(;lt!==null;)p0(lt)}function JI(){for(;lt!==null&&!IT();)p0(lt)}function p0(t){var e=y0(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?m0(t):lt=e,yp.current=null}function m0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HI(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,lt=null;return}}else if(n=WI(n,e,hn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);gt===0&&(gt=5)}function ns(t,e,n){var r=be,i=xn.transition;try{xn.transition=null,be=1,ZI(t,e,n,r)}finally{xn.transition=i,be=r}return null}function ZI(t,e,n,r){do yo();while(fi!==null);if(Se&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bT(t,s),t===Tt&&(lt=Tt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,_0(rc,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xn.transition,xn.transition=null;var a=be;be=1;var u=Se;Se|=4,yp.current=null,QI(t,n),u0(n,t),vI(Ud),sc=!!jd,Ud=jd=null,t.current=n,KI(n),AT(),Se=u,be=a,xn.transition=s}else t.current=n;if(Nu&&(Nu=!1,fi=t,Ec=i),s=t.pendingLanes,s===0&&(Ei=null),PT(n.stateNode),on(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wc)throw wc=!1,t=af,af=null,t;return Ec&1&&t.tag!==0&&yo(),s=t.pendingLanes,s&1?t===lf?Ha++:(Ha=0,lf=t):Ha=0,Vi(),null}function yo(){if(fi!==null){var t=G_(Ec),e=xn.transition,n=be;try{if(xn.transition=null,be=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,Ec=0,Se&6)throw Error(q(331));var i=Se;for(Se|=4,ne=t.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(ne=f;ne!==null;){var g=ne;switch(g.tag){case 0:case 11:case 15:za(8,g,s)}var _=g.child;if(_!==null)_.return=g,ne=_;else for(;ne!==null;){g=ne;var E=g.sibling,k=g.return;if(o0(g),g===f){ne=null;break}if(E!==null){E.return=k,ne=E;break}ne=k}}}var O=s.alternate;if(O!==null){var M=O.child;if(M!==null){O.child=null;do{var F=M.sibling;M.sibling=null,M=F}while(M!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:za(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ne=S;break e}ne=s.return}}var T=t.current;for(ne=T;ne!==null;){a=ne;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,ne=R;else e:for(a=T;ne!==null;){if(u=ne,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Hc(9,u)}}catch(Q){Ze(u,u.return,Q)}if(u===a){ne=null;break e}var U=u.sibling;if(U!==null){U.return=u.return,ne=U;break e}ne=u.return}}if(Se=i,Vi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Mc,t)}catch{}r=!0}return r}finally{be=n,xn.transition=e}}return!1}function ny(t,e,n){e=So(n,e),e=Gv(t,e,1),t=wi(t,e,1),e=Kt(),t!==null&&(Cl(t,1,e),on(t,e))}function Ze(t,e,n){if(t.tag===3)ny(t,t,n);else for(;e!==null;){if(e.tag===3){ny(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=So(n,t),t=Yv(e,t,1),e=wi(e,t,1),t=Kt(),e!==null&&(Cl(e,1,t),on(e,t));break}}e=e.return}}function eA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Pt&n)===n&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>st()-vp?us(t,0):_p|=n),on(t,e)}function g0(t,e){e===0&&(t.mode&1?(e=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):e=1);var n=Kt();t=Br(t,e),t!==null&&(Cl(t,e,n),on(t,n))}function tA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g0(t,n)}function nA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),g0(t,n)}var y0;y0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return nn=!1,zI(t,e,n);nn=!!(t.flags&131072)}else nn=!1,qe&&e.flags&1048576&&Ev(e,dc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var i=Eo(e,Ut.current);go(e,n),i=dp(null,e,r,t,i,n);var s=fp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(r)?(s=!0,cc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ap(e),i.updater=Wc,e.stateNode=i,i._reactInternals=e,Gd(e,r,t,n),e=Jd(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&ep(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iA(r),t=Wn(r,t),i){case 0:e=Xd(null,e,r,t,n);break e;case 1:e=qg(null,e,r,t,n);break e;case 11:e=Wg(null,e,r,t,n);break e;case 14:e=Hg(null,e,r,Wn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Xd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),qg(t,e,r,i,n);case 3:e:{if(e0(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Pv(t,e),mc(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=So(Error(q(423)),e),e=Qg(t,e,r,n,i);break e}else if(r!==i){i=So(Error(q(424)),e),e=Qg(t,e,r,n,i);break e}else for(dn=vi(e.stateNode.containerInfo.firstChild),fn=e,qe=!0,qn=null,n=Sv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){e=$r(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return Rv(e),t===null&&qd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Bd(r,i)?a=null:s!==null&&Bd(r,s)&&(e.flags|=32),Zv(t,e),Qt(t,e,a,n),e.child;case 6:return t===null&&qd(e),null;case 13:return t0(t,e,n);case 4:return lp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Wg(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Be(fc,r._currentValue),r._currentValue=a,s!==null)if(Yn(s.value,a)){if(s.children===i.children&&!rn.current){e=$r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Lr(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?c.next=c:(c.next=g.next,g.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Qd(s.return,n,e),u.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(q(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Qd(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,go(e,n),i=Nn(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),Hg(t,e,r,i,n);case 15:return Xv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),Hu(t,e),e.tag=1,sn(r)?(t=!0,cc(e)):t=!1,go(e,n),Kv(e,r,i),Gd(e,r,i,n),Jd(null,e,r,!0,t,n);case 19:return n0(t,e,n);case 22:return Jv(t,e,n)}throw Error(q(156,e.tag))};function _0(t,e){return H_(t,e)}function rA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new rA(t,e,n,r)}function Ip(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iA(t){if(typeof t=="function")return Ip(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$f)return 11;if(t===zf)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ku(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Ip(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case eo:return cs(n.children,i,s,e);case Bf:a=8,i|=8;break;case vd:return t=kn(12,n,e,i|2),t.elementType=vd,t.lanes=s,t;case wd:return t=kn(13,n,e,i),t.elementType=wd,t.lanes=s,t;case Ed:return t=kn(19,n,e,i),t.elementType=Ed,t.lanes=s,t;case R_:return Qc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C_:a=10;break e;case P_:a=9;break e;case $f:a=11;break e;case zf:a=14;break e;case li:a=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=kn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cs(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Qc(t,e,n,r){return t=kn(22,t,r,e),t.elementType=R_,t.lanes=n,t.stateNode={isHidden:!1},t}function ad(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function ld(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ap(t,e,n,r,i,s,a,u,c){return t=new sA(t,e,n,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ap(s),t}function oA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v0(t){if(!t)return Ri;t=t._reactInternals;e:{if(Is(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(sn(n))return vv(t,n,e)}return e}function w0(t,e,n,r,i,s,a,u,c){return t=Ap(n,r,!0,t,i,s,a,u,c),t.context=v0(null),n=t.current,r=Kt(),i=Ti(n),s=Lr(r,i),s.callback=e??null,wi(n,s,i),t.current.lanes=i,Cl(t,i,r),on(t,r),t}function Kc(t,e,n,r){var i=e.current,s=Kt(),a=Ti(i);return n=v0(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,a),t!==null&&(Gn(t,i,a,s),$u(t,i,a)),a}function Ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sp(t,e){ry(t,e),(t=t.alternate)&&ry(t,e)}function aA(){return null}var E0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cp(t){this._internalRoot=t}Gc.prototype.render=Cp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Kc(t,e,null,null)};Gc.prototype.unmount=Cp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Kc(null,t,null,null)}),e[Ur]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var e=J_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ci.length&&e!==0&&e<ci[n].priority;n++);ci.splice(n,0,t),n===0&&ev(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iy(){}function lA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Ic(a);s.call(f)}}var a=w0(e,r,t,0,null,!1,!1,"",iy);return t._reactRootContainer=a,t[Ur]=a.current,sl(t.nodeType===8?t.parentNode:t),ys(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Ic(c);u.call(f)}}var c=Ap(t,0,!1,null,null,!1,!1,"",iy);return t._reactRootContainer=c,t[Ur]=c.current,sl(t.nodeType===8?t.parentNode:t),ys(function(){Kc(e,c,n,r)}),c}function Xc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=Ic(a);u.call(c)}}Kc(e,a,t,i)}else a=lA(n,e,t,i,r);return Ic(a)}Y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Na(e.pendingLanes);n!==0&&(qf(e,n|1),on(e,st()),!(Se&6)&&(Co=st()+500,Vi()))}break;case 13:ys(function(){var r=Br(t,1);if(r!==null){var i=Kt();Gn(r,t,1,i)}}),Sp(t,1)}};Qf=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Kt();Gn(e,t,134217728,n)}Sp(t,134217728)}};X_=function(t){if(t.tag===13){var e=Ti(t),n=Br(t,e);if(n!==null){var r=Kt();Gn(n,t,e,r)}Sp(t,e)}};J_=function(){return be};Z_=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};Nd=function(t,e,n){switch(e){case"input":if(Ad(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bc(r);if(!i)throw Error(q(90));x_(r),Ad(r,i)}}}break;case"textarea":D_(t,n);break;case"select":e=n.value,e!=null&&ho(t,!!n.multiple,e,!1)}};j_=wp;U_=ys;var uA={usingClientEntryPoint:!1,Events:[Rl,io,Bc,M_,F_,wp]},Pa={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cA={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z_(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||aA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Mc=Du.inject(cA),hr=Du}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(e))throw Error(q(200));return oA(t,e,null,n)};mn.createRoot=function(t,e){if(!Pp(t))throw Error(q(299));var n=!1,r="",i=E0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ap(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,sl(t.nodeType===8?t.parentNode:t),new Cp(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=z_(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return ys(t)};mn.hydrate=function(t,e,n){if(!Yc(e))throw Error(q(200));return Xc(null,t,e,!0,n)};mn.hydrateRoot=function(t,e,n){if(!Pp(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=E0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=w0(e,null,t,1,n??null,i,!1,s,a),t[Ur]=e.current,sl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gc(e)};mn.render=function(t,e,n){if(!Yc(e))throw Error(q(200));return Xc(null,t,e,!1,n)};mn.unmountComponentAtNode=function(t){if(!Yc(t))throw Error(q(40));return t._reactRootContainer?(ys(function(){Xc(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};mn.unstable_batchedUpdates=wp;mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yc(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Xc(t,e,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function T0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T0)}catch(t){console.error(t)}}T0(),T_.exports=mn;var hA=T_.exports,I0,sy=hA;I0=sy.createRoot,sy.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const oy="popstate";function dA(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:u}=r.location;return hf("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:S0(i)}return pA(e,n,null,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fA(){return Math.random().toString(36).substr(2,8)}function ay(t,e){return{usr:t.state,key:t.key,idx:e}}function hf(t,e,n,r){return n===void 0&&(n=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fo(e):e,{state:n,key:e&&e.key||r||fA()})}function S0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,u=pi.Pop,c=null,f=g();f==null&&(f=0,a.replaceState(pl({},a.state,{idx:f}),""));function g(){return(a.state||{idx:null}).idx}function _(){u=pi.Pop;let F=g(),S=F==null?null:F-f;f=F,c&&c({action:u,location:M.location,delta:S})}function E(F,S){u=pi.Push;let T=hf(M.location,F,S);f=g()+1;let R=ay(T,f),U=M.createHref(T);try{a.pushState(R,"",U)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(U)}s&&c&&c({action:u,location:M.location,delta:1})}function k(F,S){u=pi.Replace;let T=hf(M.location,F,S);f=g();let R=ay(T,f),U=M.createHref(T);a.replaceState(R,"",U),s&&c&&c({action:u,location:M.location,delta:0})}function O(F){let S=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof F=="string"?F:S0(F);return T=T.replace(/ $/,"%20"),yt(S,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,S)}let M={get action(){return u},get location(){return t(i,a)},listen(F){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oy,_),c=F,()=>{i.removeEventListener(oy,_),c=null}},createHref(F){return e(i,F)},createURL:O,encodeLocation(F){let S=O(F);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:E,replace:k,go(F){return a.go(F)}};return M}var ly;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ly||(ly={}));function mA(t,e,n){return n===void 0&&(n="/"),gA(t,e,n,!1)}function gA(t,e,n,r){let i=typeof e=="string"?Fo(e):e,s=R0(i.pathname||"/",n);if(s==null)return null;let a=C0(t);yA(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let f=RA(s);u=CA(a[c],f,r)}return u}function C0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(yt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=hs([r,c.relativePath]),g=n.concat(c);s.children&&s.children.length>0&&(yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),C0(s.children,e,g,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:AA(f,s.index),routesMeta:g})};return t.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of P0(s.path))i(s,a,c)}),e}function P0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=P0(r.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function yA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:SA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _A=/^:[\w-]+$/,vA=3,wA=2,EA=1,TA=10,IA=-2,uy=t=>t==="*";function AA(t,e){let n=t.split("/"),r=n.length;return n.some(uy)&&(r+=IA),e&&(r+=wA),n.filter(i=>!uy(i)).reduce((i,s)=>i+(_A.test(s)?vA:s===""?EA:TA),r)}function SA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CA(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",_=cy({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},g),E=c.route;if(!_&&f&&n&&!r[r.length-1].route.index&&(_=cy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),a.push({params:i,pathname:hs([s,_.pathname]),pathnameBase:VA(hs([s,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(s=hs([s,_.pathnameBase]))}return a}function cy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,g,_)=>{let{paramName:E,isOptional:k}=g;if(E==="*"){let M=u[_]||"";a=s.slice(0,s.length-M.length).replace(/(.)\/+$/,"$1")}const O=u[_];return k&&!O?f[E]=void 0:f[E]=(O||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function PA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),A0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function R0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function kA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fo(t):t;return{pathname:n?n.startsWith("/")?n:xA(n,e):e,search:OA(r),hash:LA(i)}}function xA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ud(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DA(t,e){let n=NA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fo(t):(i=pl({},t),yt(!i.pathname||!i.pathname.includes("?"),ud("?","pathname","search",i)),yt(!i.pathname||!i.pathname.includes("#"),ud("#","pathname","hash",i)),yt(!i.search||!i.search.includes("#"),ud("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=n;else{let _=e.length-1;if(!r&&a.startsWith("..")){let E=a.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}u=_>=0?e[_]:"/"}let c=kA(i,u),f=a&&a!=="/"&&a.endsWith("/"),g=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||g)&&(c.pathname+="/"),c}const hs=t=>t.join("/").replace(/\/\/+/g,"/"),VA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k0=["post","put","patch","delete"];new Set(k0);const FA=["get",...k0];new Set(FA);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}const Rp=X.createContext(null),jA=X.createContext(null),Jc=X.createContext(null),Zc=X.createContext(null),jo=X.createContext({outlet:null,matches:[],isDataRoute:!1}),x0=X.createContext(null);function eh(){return X.useContext(Zc)!=null}function N0(){return eh()||yt(!1),X.useContext(Zc).location}function D0(t){X.useContext(Jc).static||X.useLayoutEffect(t)}function b0(){let{isDataRoute:t}=X.useContext(jo);return t?JA():UA()}function UA(){eh()||yt(!1);let t=X.useContext(Rp),{basename:e,future:n,navigator:r}=X.useContext(Jc),{matches:i}=X.useContext(jo),{pathname:s}=N0(),a=JSON.stringify(DA(i,n.v7_relativeSplatPath)),u=X.useRef(!1);return D0(()=>{u.current=!0}),X.useCallback(function(f,g){if(g===void 0&&(g={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let _=bA(f,JSON.parse(a),s,g.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:hs([e,_.pathname])),(g.replace?r.replace:r.push)(_,g.state,g)},[e,r,a,s,t])}function BA(t,e){return $A(t,e)}function $A(t,e,n,r){eh()||yt(!1);let{navigator:i}=X.useContext(Jc),{matches:s}=X.useContext(jo),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=N0(),g;if(e){var _;let F=typeof e=="string"?Fo(e):e;c==="/"||(_=F.pathname)!=null&&_.startsWith(c)||yt(!1),g=F}else g=f;let E=g.pathname||"/",k=E;if(c!=="/"){let F=c.replace(/^\//,"").split("/");k="/"+E.replace(/^\//,"").split("/").slice(F.length).join("/")}let O=mA(t,{pathname:k}),M=QA(O&&O.map(F=>Object.assign({},F,{params:Object.assign({},u,F.params),pathname:hs([c,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?c:hs([c,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),s,n,r);return e&&M?X.createElement(Zc.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:pi.Pop}},M):M}function zA(){let t=XA(),e=MA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:i},n):null,null)}const WA=X.createElement(zA,null);class HA extends X.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?X.createElement(jo.Provider,{value:this.props.routeContext},X.createElement(x0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qA(t){let{routeContext:e,match:n,children:r}=t,i=X.useContext(Rp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),X.createElement(jo.Provider,{value:e},r)}function QA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);g>=0||yt(!1),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:E,errors:k}=n,O=_.route.loader&&E[_.route.id]===void 0&&(!k||k[_.route.id]===void 0);if(_.route.lazy||O){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((g,_,E)=>{let k,O=!1,M=null,F=null;n&&(k=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||WA,c&&(f<0&&E===0?(O=!0,F=null):f===E&&(O=!0,F=_.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,E+1)),T=()=>{let R;return k?R=M:O?R=F:_.route.Component?R=X.createElement(_.route.Component,null):_.route.element?R=_.route.element:R=g,X.createElement(qA,{match:_,routeContext:{outlet:g,matches:S,isDataRoute:n!=null},children:R})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?X.createElement(HA,{location:n.location,revalidation:n.revalidation,component:M,error:k,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}var V0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V0||{}),Ac=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ac||{});function KA(t){let e=X.useContext(Rp);return e||yt(!1),e}function GA(t){let e=X.useContext(jA);return e||yt(!1),e}function YA(t){let e=X.useContext(jo);return e||yt(!1),e}function O0(t){let e=YA(),n=e.matches[e.matches.length-1];return n.route.id||yt(!1),n.route.id}function XA(){var t;let e=X.useContext(x0),n=GA(Ac.UseRouteError),r=O0(Ac.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JA(){let{router:t}=KA(V0.UseNavigateStable),e=O0(Ac.UseNavigateStable),n=X.useRef(!1);return D0(()=>{n.current=!0}),X.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ml({fromRouteId:e},s)))},[t,e])}function df(t){yt(!1)}function ZA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:a=!1,future:u}=t;eh()&&yt(!1);let c=e.replace(/^\/*/,"/"),f=X.useMemo(()=>({basename:c,navigator:s,static:a,future:ml({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof r=="string"&&(r=Fo(r));let{pathname:g="/",search:_="",hash:E="",state:k=null,key:O="default"}=r,M=X.useMemo(()=>{let F=R0(g,c);return F==null?null:{location:{pathname:F,search:_,hash:E,state:k,key:O},navigationType:i}},[c,g,_,E,k,O,i]);return M==null?null:X.createElement(Jc.Provider,{value:f},X.createElement(Zc.Provider,{children:n,value:M}))}function eS(t){let{children:e,location:n}=t;return BA(ff(e),n)}new Promise(()=>{});function ff(t,e){e===void 0&&(e=[]);let n=[];return X.Children.forEach(t,(r,i)=>{if(!X.isValidElement(r))return;let s=[...e,i];if(r.type===X.Fragment){n.push.apply(n,ff(r.props.children,s));return}r.type!==df&&yt(!1),!r.props.index||!r.props.children||yt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ff(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const tS="6";try{window.__reactRouterVersion=tS}catch{}const nS="startTransition",hy=eT[nS];function rS(t){let{basename:e,children:n,future:r,window:i}=t,s=X.useRef();s.current==null&&(s.current=dA({window:i,v5Compat:!0}));let a=s.current,[u,c]=X.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},g=X.useCallback(_=>{f&&hy?hy(()=>c(_)):c(_)},[c,f]);return X.useLayoutEffect(()=>a.listen(g),[a,g]),X.createElement(ZA,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}var dy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dy||(dy={}));var fy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fy||(fy={}));var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,g=s>>2,_=(s&3)<<4|u>>4;let E=(u&15)<<2|f>>6,k=f&63;c||(k=64,a||(E=64)),r.push(n[g],n[_],n[E],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||f==null||_==null)throw new sS;const E=s<<2|u>>4;if(r.push(E),f!==64){const k=u<<4&240|f>>2;if(r.push(k),_!==64){const O=f<<6&192|_;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(t){const e=L0(t);return M0.encodeByteArray(e,!0)},Sc=function(t){return oS(t).replace(/\./g,"")},aS=function(t){try{return M0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=()=>lS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof py>"u")return;const t=py.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},kp=()=>{try{return uS()||cS()||hS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dS=t=>{var e,n;return(n=(e=kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fS=t=>{const e=dS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F0=()=>{var t;return(t=kp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Sc(JSON.stringify(n)),Sc(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){var t;const e=(t=kp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return!yS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="FirebaseError";class Uo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ES,Object.setPrototypeOf(this,Uo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j0.prototype.create)}}class j0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?TS(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new Uo(i,u,r)}}function TS(t,e){return t.replace(IS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IS=/\{\$([^}]+)}/g;function pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(my(s)&&my(a)){if(!pf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function my(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return t&&t._delegate?t._delegate:t}class gl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(t){return t===rs?void 0:t}function CS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const RS={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},kS=Ae.INFO,xS={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},NS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class U0{constructor(e){this.name=e,this._logLevel=kS,this._logHandler=NS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const DS=(t,e)=>e.some(n=>t instanceof n);let gy,yy;function bS(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VS(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,mf=new WeakMap,$0=new WeakMap,cd=new WeakMap,xp=new WeakMap;function OS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ai(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&B0.set(n,t)}).catch(()=>{}),xp.set(e,t),e}function LS(t){if(mf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});mf.set(t,e)}let gf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MS(t){gf=t(gf)}function FS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hd(this),e,...n);return $0.set(r,e.sort?e.sort():[e]),Ai(r)}:VS().includes(t)?function(...e){return t.apply(hd(this),e),Ai(B0.get(this))}:function(...e){return Ai(t.apply(hd(this),e))}}function jS(t){return typeof t=="function"?FS(t):(t instanceof IDBTransaction&&LS(t),DS(t,bS())?new Proxy(t,gf):t)}function Ai(t){if(t instanceof IDBRequest)return OS(t);if(cd.has(t))return cd.get(t);const e=jS(t);return e!==t&&(cd.set(t,e),xp.set(e,t)),e}const hd=t=>xp.get(t);function US(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),u=Ai(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ai(a.result),c.oldVersion,c.newVersion,Ai(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const BS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],dd=new Map;function _y(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dd.get(e))return dd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$S.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BS.includes(n)))return;const s=async function(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return dd.set(e,s),s}MS(t=>({...t,get:(e,n,r)=>_y(e,n)||t.get(e,n,r),has:(e,n)=>!!_y(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yf="@firebase/app",vy="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new U0("@firebase/app"),HS="@firebase/app-compat",qS="@firebase/analytics-compat",QS="@firebase/analytics",KS="@firebase/app-check-compat",GS="@firebase/app-check",YS="@firebase/auth",XS="@firebase/auth-compat",JS="@firebase/database",ZS="@firebase/database-compat",eC="@firebase/functions",tC="@firebase/functions-compat",nC="@firebase/installations",rC="@firebase/installations-compat",iC="@firebase/messaging",sC="@firebase/messaging-compat",oC="@firebase/performance",aC="@firebase/performance-compat",lC="@firebase/remote-config",uC="@firebase/remote-config-compat",cC="@firebase/storage",hC="@firebase/storage-compat",dC="@firebase/firestore",fC="@firebase/vertexai-preview",pC="@firebase/firestore-compat",mC="firebase",gC="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",yC={[yf]:"fire-core",[HS]:"fire-core-compat",[QS]:"fire-analytics",[qS]:"fire-analytics-compat",[GS]:"fire-app-check",[KS]:"fire-app-check-compat",[YS]:"fire-auth",[XS]:"fire-auth-compat",[JS]:"fire-rtdb",[ZS]:"fire-rtdb-compat",[eC]:"fire-fn",[tC]:"fire-fn-compat",[nC]:"fire-iid",[rC]:"fire-iid-compat",[iC]:"fire-fcm",[sC]:"fire-fcm-compat",[oC]:"fire-perf",[aC]:"fire-perf-compat",[lC]:"fire-rc",[uC]:"fire-rc-compat",[cC]:"fire-gcs",[hC]:"fire-gcs-compat",[dC]:"fire-fst",[pC]:"fire-fst-compat",[fC]:"fire-vertex","fire-js":"fire-js",[mC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,_C=new Map,vf=new Map;function wy(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pc(t){const e=t.name;if(vf.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,t);for(const n of Cc.values())wy(n,t);for(const n of _C.values())wy(n,t);return!0}function vC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new j0("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=gC;function z0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Si.create("bad-app-name",{appName:String(i)});if(n||(n=F0()),!n)throw Si.create("no-options");const s=Cc.get(i);if(s){if(pf(n,s.options)&&pf(r,s.config))return s;throw Si.create("duplicate-app",{appName:i})}const a=new PS(i);for(const c of vf.values())a.addComponent(c);const u=new EC(n,r,a);return Cc.set(i,u),u}function IC(t=_f){const e=Cc.get(t);if(!e&&t===_f&&F0())return z0();if(!e)throw Si.create("no-app",{appName:t});return e}function _o(t,e,n){var r;let i=(r=yC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(u.join(" "));return}Pc(new gl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",SC=1,yl="firebase-heartbeat-store";let fd=null;function W0(){return fd||(fd=US(AC,SC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Si.create("idb-open",{originalErrorMessage:t.message})})),fd}async function CC(t){try{const n=(await W0()).transaction(yl),r=await n.objectStore(yl).get(H0(t));return await n.done,r}catch(e){if(e instanceof Uo)zr.warn(e.message);else{const n=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function Ey(t,e){try{const r=(await W0()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,H0(t)),await r.done}catch(n){if(n instanceof Uo)zr.warn(n.message);else{const r=Si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function H0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1024,RC=30*24*60*60*1e3;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ty();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=RC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ty(),{heartbeatsToSend:r,unsentEntries:i}=xC(this._heartbeatsCache.heartbeats),s=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zr.warn(n),""}}}function Ty(){return new Date().toISOString().substring(0,10)}function xC(t,e=PC){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Iy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vS()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iy(t){return Sc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){Pc(new gl("platform-logger",e=>new zS(e),"PRIVATE")),Pc(new gl("heartbeat",e=>new kC(e),"PRIVATE")),_o(yf,vy,t),_o(yf,vy,"esm2017"),_o("fire-js","")}DC("");var bC="firebase",VC="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_o(bC,VC,"app");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,q0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function I(){}I.prototype=w.prototype,A.D=w.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(P,x,b){for(var C=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)C[ct-2]=arguments[ct];return w.prototype[x].apply(P,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,w,I){I||(I=0);var P=Array(16);if(typeof w=="string")for(var x=0;16>x;++x)P[x]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(x=0;16>x;++x)P[x]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=A.g[0],I=A.g[1],x=A.g[2];var b=A.g[3],C=w+(b^I&(x^b))+P[0]+3614090360&4294967295;w=I+(C<<7&4294967295|C>>>25),C=b+(x^w&(I^x))+P[1]+3905402710&4294967295,b=w+(C<<12&4294967295|C>>>20),C=x+(I^b&(w^I))+P[2]+606105819&4294967295,x=b+(C<<17&4294967295|C>>>15),C=I+(w^x&(b^w))+P[3]+3250441966&4294967295,I=x+(C<<22&4294967295|C>>>10),C=w+(b^I&(x^b))+P[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=b+(x^w&(I^x))+P[5]+1200080426&4294967295,b=w+(C<<12&4294967295|C>>>20),C=x+(I^b&(w^I))+P[6]+2821735955&4294967295,x=b+(C<<17&4294967295|C>>>15),C=I+(w^x&(b^w))+P[7]+4249261313&4294967295,I=x+(C<<22&4294967295|C>>>10),C=w+(b^I&(x^b))+P[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=b+(x^w&(I^x))+P[9]+2336552879&4294967295,b=w+(C<<12&4294967295|C>>>20),C=x+(I^b&(w^I))+P[10]+4294925233&4294967295,x=b+(C<<17&4294967295|C>>>15),C=I+(w^x&(b^w))+P[11]+2304563134&4294967295,I=x+(C<<22&4294967295|C>>>10),C=w+(b^I&(x^b))+P[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=b+(x^w&(I^x))+P[13]+4254626195&4294967295,b=w+(C<<12&4294967295|C>>>20),C=x+(I^b&(w^I))+P[14]+2792965006&4294967295,x=b+(C<<17&4294967295|C>>>15),C=I+(w^x&(b^w))+P[15]+1236535329&4294967295,I=x+(C<<22&4294967295|C>>>10),C=w+(x^b&(I^x))+P[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=b+(I^x&(w^I))+P[6]+3225465664&4294967295,b=w+(C<<9&4294967295|C>>>23),C=x+(w^I&(b^w))+P[11]+643717713&4294967295,x=b+(C<<14&4294967295|C>>>18),C=I+(b^w&(x^b))+P[0]+3921069994&4294967295,I=x+(C<<20&4294967295|C>>>12),C=w+(x^b&(I^x))+P[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=b+(I^x&(w^I))+P[10]+38016083&4294967295,b=w+(C<<9&4294967295|C>>>23),C=x+(w^I&(b^w))+P[15]+3634488961&4294967295,x=b+(C<<14&4294967295|C>>>18),C=I+(b^w&(x^b))+P[4]+3889429448&4294967295,I=x+(C<<20&4294967295|C>>>12),C=w+(x^b&(I^x))+P[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=b+(I^x&(w^I))+P[14]+3275163606&4294967295,b=w+(C<<9&4294967295|C>>>23),C=x+(w^I&(b^w))+P[3]+4107603335&4294967295,x=b+(C<<14&4294967295|C>>>18),C=I+(b^w&(x^b))+P[8]+1163531501&4294967295,I=x+(C<<20&4294967295|C>>>12),C=w+(x^b&(I^x))+P[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=b+(I^x&(w^I))+P[2]+4243563512&4294967295,b=w+(C<<9&4294967295|C>>>23),C=x+(w^I&(b^w))+P[7]+1735328473&4294967295,x=b+(C<<14&4294967295|C>>>18),C=I+(b^w&(x^b))+P[12]+2368359562&4294967295,I=x+(C<<20&4294967295|C>>>12),C=w+(I^x^b)+P[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=b+(w^I^x)+P[8]+2272392833&4294967295,b=w+(C<<11&4294967295|C>>>21),C=x+(b^w^I)+P[11]+1839030562&4294967295,x=b+(C<<16&4294967295|C>>>16),C=I+(x^b^w)+P[14]+4259657740&4294967295,I=x+(C<<23&4294967295|C>>>9),C=w+(I^x^b)+P[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=b+(w^I^x)+P[4]+1272893353&4294967295,b=w+(C<<11&4294967295|C>>>21),C=x+(b^w^I)+P[7]+4139469664&4294967295,x=b+(C<<16&4294967295|C>>>16),C=I+(x^b^w)+P[10]+3200236656&4294967295,I=x+(C<<23&4294967295|C>>>9),C=w+(I^x^b)+P[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=b+(w^I^x)+P[0]+3936430074&4294967295,b=w+(C<<11&4294967295|C>>>21),C=x+(b^w^I)+P[3]+3572445317&4294967295,x=b+(C<<16&4294967295|C>>>16),C=I+(x^b^w)+P[6]+76029189&4294967295,I=x+(C<<23&4294967295|C>>>9),C=w+(I^x^b)+P[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=b+(w^I^x)+P[12]+3873151461&4294967295,b=w+(C<<11&4294967295|C>>>21),C=x+(b^w^I)+P[15]+530742520&4294967295,x=b+(C<<16&4294967295|C>>>16),C=I+(x^b^w)+P[2]+3299628645&4294967295,I=x+(C<<23&4294967295|C>>>9),C=w+(x^(I|~b))+P[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=b+(I^(w|~x))+P[7]+1126891415&4294967295,b=w+(C<<10&4294967295|C>>>22),C=x+(w^(b|~I))+P[14]+2878612391&4294967295,x=b+(C<<15&4294967295|C>>>17),C=I+(b^(x|~w))+P[5]+4237533241&4294967295,I=x+(C<<21&4294967295|C>>>11),C=w+(x^(I|~b))+P[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=b+(I^(w|~x))+P[3]+2399980690&4294967295,b=w+(C<<10&4294967295|C>>>22),C=x+(w^(b|~I))+P[10]+4293915773&4294967295,x=b+(C<<15&4294967295|C>>>17),C=I+(b^(x|~w))+P[1]+2240044497&4294967295,I=x+(C<<21&4294967295|C>>>11),C=w+(x^(I|~b))+P[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=b+(I^(w|~x))+P[15]+4264355552&4294967295,b=w+(C<<10&4294967295|C>>>22),C=x+(w^(b|~I))+P[6]+2734768916&4294967295,x=b+(C<<15&4294967295|C>>>17),C=I+(b^(x|~w))+P[13]+1309151649&4294967295,I=x+(C<<21&4294967295|C>>>11),C=w+(x^(I|~b))+P[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=b+(I^(w|~x))+P[11]+3174756917&4294967295,b=w+(C<<10&4294967295|C>>>22),C=x+(w^(b|~I))+P[2]+718787259&4294967295,x=b+(C<<15&4294967295|C>>>17),C=I+(b^(x|~w))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+b&4294967295}r.prototype.u=function(A,w){w===void 0&&(w=A.length);for(var I=w-this.blockSize,P=this.B,x=this.h,b=0;b<w;){if(x==0)for(;b<=I;)i(this,A,b),b+=this.blockSize;if(typeof A=="string"){for(;b<w;)if(P[x++]=A.charCodeAt(b++),x==this.blockSize){i(this,P),x=0;break}}else for(;b<w;)if(P[x++]=A[b++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=w},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;var I=8*this.o;for(w=A.length-8;w<A.length;++w)A[w]=I&255,I/=256;for(this.u(A),A=Array(16),w=I=0;4>w;++w)for(var P=0;32>P;P+=8)A[I++]=this.g[w]>>>P&255;return A};function s(A,w){var I=u;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=w(A)}function a(A,w){this.h=w;for(var I=[],P=!0,x=A.length-1;0<=x;x--){var b=A[x]|0;P&&b==w||(I[x]=b,P=!1)}this.g=I}var u={};function c(A){return-128<=A&&128>A?s(A,function(w){return new a([w|0],0>w?-1:0)}):new a([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return _;if(0>A)return F(f(-A));for(var w=[],I=1,P=0;A>=I;P++)w[P]=A/I|0,I*=4294967296;return new a(w,0)}function g(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return F(g(A.substring(1),w));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(w,8)),P=_,x=0;x<A.length;x+=8){var b=Math.min(8,A.length-x),C=parseInt(A.substring(x,x+b),w);8>b?(b=f(Math.pow(w,b)),P=P.j(b).add(f(C))):(P=P.j(I),P=P.add(f(C)))}return P}var _=c(0),E=c(1),k=c(16777216);t=a.prototype,t.m=function(){if(M(this))return-F(this).m();for(var A=0,w=1,I=0;I<this.g.length;I++){var P=this.i(I);A+=(0<=P?P:4294967296+P)*w,w*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(M(this))return"-"+F(this).toString(A);for(var w=f(Math.pow(A,6)),I=this,P="";;){var x=U(I,w).g;I=S(I,x.j(w));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=x,O(I))return b+P;for(;6>b.length;)b="0"+b;P=b+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(var w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function M(A){return A.h==-1}t.l=function(A){return A=S(this,A),M(A)?-1:O(A)?0:1};function F(A){for(var w=A.g.length,I=[],P=0;P<w;P++)I[P]=~A.g[P];return new a(I,~A.h).add(E)}t.abs=function(){return M(this)?F(this):this},t.add=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],P=0,x=0;x<=w;x++){var b=P+(this.i(x)&65535)+(A.i(x)&65535),C=(b>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);P=C>>>16,b&=65535,C&=65535,I[x]=C<<16|b}return new a(I,I[I.length-1]&-2147483648?-1:0)};function S(A,w){return A.add(F(w))}t.j=function(A){if(O(this)||O(A))return _;if(M(this))return M(A)?F(this).j(F(A)):F(F(this).j(A));if(M(A))return F(this.j(F(A)));if(0>this.l(k)&&0>A.l(k))return f(this.m()*A.m());for(var w=this.g.length+A.g.length,I=[],P=0;P<2*w;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<A.g.length;x++){var b=this.i(P)>>>16,C=this.i(P)&65535,ct=A.i(x)>>>16,Bt=A.i(x)&65535;I[2*P+2*x]+=C*Bt,T(I,2*P+2*x),I[2*P+2*x+1]+=b*Bt,T(I,2*P+2*x+1),I[2*P+2*x+1]+=C*ct,T(I,2*P+2*x+1),I[2*P+2*x+2]+=b*ct,T(I,2*P+2*x+2)}for(P=0;P<w;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=w;P<2*w;P++)I[P]=0;return new a(I,0)};function T(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function R(A,w){this.g=A,this.h=w}function U(A,w){if(O(w))throw Error("division by zero");if(O(A))return new R(_,_);if(M(A))return w=U(F(A),w),new R(F(w.g),F(w.h));if(M(w))return w=U(A,F(w)),new R(F(w.g),w.h);if(30<A.g.length){if(M(A)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=w;0>=P.l(A);)I=Q(I),P=Q(P);var x=G(I,1),b=G(P,1);for(P=G(P,2),I=G(I,2);!O(P);){var C=b.add(P);0>=C.l(A)&&(x=x.add(I),b=C),P=G(P,1),I=G(I,1)}return w=S(A,x.j(w)),new R(x,w)}for(x=_;0<=A.l(w);){for(I=Math.max(1,Math.floor(A.m()/w.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),b=f(I),C=b.j(w);M(C)||0<C.l(A);)I-=P,b=f(I),C=b.j(w);O(b)&&(b=E),x=x.add(b),A=S(A,C)}return new R(x,A)}t.A=function(A){return U(this,A).h},t.and=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)&A.i(P);return new a(I,this.h&A.h)},t.or=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)|A.i(P);return new a(I,this.h|A.h)},t.xor=function(A){for(var w=Math.max(this.g.length,A.g.length),I=[],P=0;P<w;P++)I[P]=this.i(P)^A.i(P);return new a(I,this.h^A.h)};function Q(A){for(var w=A.g.length+1,I=[],P=0;P<w;P++)I[P]=A.i(P)<<1|A.i(P-1)>>>31;return new a(I,A.h)}function G(A,w){var I=w>>5;w%=32;for(var P=A.g.length-I,x=[],b=0;b<P;b++)x[b]=0<w?A.i(b+I)>>>w|A.i(b+I+1)<<32-w:A.i(b+I);return new a(x,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q0=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=g,ds=a}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,K0,ba,G0,Gu,wf,Y0,X0,J0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,p){return o==Array.prototype||o==Object.prototype||(o[h]=p.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var h=0;h<o.length;++h){var p=o[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(o,h){if(h)e:{var p=r;o=o.split(".");for(var v=0;v<o.length-1;v++){var V=o[v];if(!(V in p))break e;p=p[V]}o=o[o.length-1],v=p[o],h=h(v),h!=v&&h!=null&&e(p,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var p=0,v=!1,V={next:function(){if(!v&&p<o.length){var B=p++;return{value:h(B,o[B]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(o){return o||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function c(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function f(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function g(o,h,p){return o.call.apply(o.bind,arguments)}function _(o,h,p){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),o.apply(h,V)}}return function(){return o.apply(h,arguments)}}function E(o,h,p){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function k(o,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function O(o,h){function p(){}p.prototype=h.prototype,o.aa=h.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(v,V,B){for(var K=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)K[xe-2]=arguments[xe];return h.prototype[V].apply(v,K)}}function M(o){const h=o.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=o[v];return p}return[]}function F(o,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const V=o.length||0,B=v.length||0;o.length=V+B;for(let K=0;K<B;K++)o[V+K]=v[K]}else o.push(v)}}class S{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function T(o){return/^[\s\xa0]*$/.test(o)}function R(){var o=u.navigator;return o&&(o=o.userAgent)?o:""}function U(o){return U[" "](o),o}U[" "]=function(){};var Q=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function G(o,h,p){for(const v in o)h.call(p,o[v],v,o)}function A(o,h){for(const p in o)h.call(void 0,o[p],p,o)}function w(o){const h={};for(const p in o)h[p]=o[p];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(o,h){let p,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(p in v)o[p]=v[p];for(let B=0;B<I.length;B++)p=I[B],Object.prototype.hasOwnProperty.call(v,p)&&(o[p]=v[p])}}function x(o){var h=1;o=o.split(":");const p=[];for(;0<h&&o.length;)p.push(o.shift()),h--;return o.length&&p.push(o.join(":")),p}function b(o){u.setTimeout(()=>{throw o},0)}function C(){var o=ae;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class ct{constructor(){this.h=this.g=null}add(h,p){const v=Bt.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Bt=new S(()=>new Jn,o=>o.reset());class Jn{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,J=!1,ae=new ct,j=()=>{const o=u.Promise.resolve(void 0);$t=()=>{o.then(ke)}};var ke=()=>{for(var o;o=C();){try{o.h.call(o.g)}catch(p){b(p)}var h=Bt;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}J=!1};function Ie(){this.s=this.s,this.C=this.C}Ie.prototype.s=!1,Ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};u.addEventListener("test",p,h),u.removeEventListener("test",p,h)}catch{}return o}();function zt(o,h){if($e.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(Q){e:{try{U(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else p=="mouseover"?h=o.fromElement:p=="mouseout"&&(h=o.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&zt.aa.h.call(this)}}O(zt,$e);var tt={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ln="closure_listenable_"+(1e6*Math.random()|0),se=0;function Ps(o,h,p,v,V){this.listener=o,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=V,this.key=++se,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Rs(o){this.src=o,this.g={},this.h=0}Rs.prototype.add=function(o,h,p,v,V){var B=o.toString();o=this.g[B],o||(o=this.g[B]=[],this.h++);var K=gr(o,h,v,V);return-1<K?(h=o[K],p||(h.fa=!1)):(h=new Ps(h,this.src,B,!!v,V),h.fa=p,o.push(h)),h};function qo(o,h){var p=h.type;if(p in o.g){var v=o.g[p],V=Array.prototype.indexOf.call(v,h,void 0),B;(B=0<=V)&&Array.prototype.splice.call(v,V,1),B&&(Oi(h),o.g[p].length==0&&(delete o.g[p],o.h--))}}function gr(o,h,p,v){for(var V=0;V<o.length;++V){var B=o[V];if(!B.da&&B.listener==h&&B.capture==!!p&&B.ha==v)return V}return-1}var ks="closure_lm_"+(1e6*Math.random()|0),yr={};function _r(o,h,p,v,V){if(Array.isArray(h)){for(var B=0;B<h.length;B++)_r(o,h[B],p,v,V);return null}return p=bn(p),o&&o[ln]?o.K(h,p,f(v)?!!v.capture:!!v,V):mh(o,h,p,!1,v,V)}function mh(o,h,p,v,V,B){if(!h)throw Error("Invalid event type");var K=f(V)?!!V.capture:!!V,xe=Ko(o);if(xe||(o[ks]=xe=new Rs(o)),p=xe.add(h,p,v,K,B),p.proxy)return p;if(v=gh(),p.proxy=v,v.src=o,v.listener=p,o.addEventListener)ht||(V=K),V===void 0&&(V=!1),o.addEventListener(h.toString(),v,V);else if(o.attachEvent)o.attachEvent(Ml(h.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gh(){function o(p){return h.call(o.src,o.listener,p)}const h=yh;return o}function Ll(o,h,p,v,V){if(Array.isArray(h))for(var B=0;B<h.length;B++)Ll(o,h[B],p,v,V);else v=f(v)?!!v.capture:!!v,p=bn(p),o&&o[ln]?(o=o.i,h=String(h).toString(),h in o.g&&(B=o.g[h],p=gr(B,p,v,V),-1<p&&(Oi(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete o.g[h],o.h--)))):o&&(o=Ko(o))&&(h=o.g[h.toString()],o=-1,h&&(o=gr(h,p,v,V)),(p=-1<o?h[o]:null)&&Qo(p))}function Qo(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ln])qo(h.i,o);else{var p=o.type,v=o.proxy;h.removeEventListener?h.removeEventListener(p,v,o.capture):h.detachEvent?h.detachEvent(Ml(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Ko(h))?(qo(p,o),p.h==0&&(p.src=null,h[ks]=null)):Oi(o)}}}function Ml(o){return o in yr?yr[o]:yr[o]="on"+o}function yh(o,h){if(o.da)o=!0;else{h=new zt(h,this);var p=o.listener,v=o.ha||o.src;o.fa&&Qo(o),o=p.call(v,h)}return o}function Ko(o){return o=o[ks],o instanceof Rs?o:null}var Qr="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(o){return typeof o=="function"?o:(o[Qr]||(o[Qr]=function(h){return o.handleEvent(h)}),o[Qr])}function dt(){Ie.call(this),this.i=new Rs(this),this.M=this,this.F=null}O(dt,Ie),dt.prototype[ln]=!0,dt.prototype.removeEventListener=function(o,h,p,v){Ll(this,o,h,p,v)};function nt(o,h){var p,v=o.F;if(v)for(p=[];v;v=v.F)p.push(v);if(o=o.M,v=h.type||h,typeof h=="string")h=new $e(h,o);else if(h instanceof $e)h.target=h.target||o;else{var V=h;h=new $e(v,o),P(h,V)}if(V=!0,p)for(var B=p.length-1;0<=B;B--){var K=h.g=p[B];V=Vn(K,v,!0,h)&&V}if(K=h.g=o,V=Vn(K,v,!0,h)&&V,V=Vn(K,v,!1,h)&&V,p)for(B=0;B<p.length;B++)K=h.g=p[B],V=Vn(K,v,!1,h)&&V}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var p=o.g[h],v=0;v<p.length;v++)Oi(p[v]);delete o.g[h],o.h--}}this.F=null},dt.prototype.K=function(o,h,p,v){return this.i.add(String(o),h,!1,p,v)},dt.prototype.L=function(o,h,p,v){return this.i.add(String(o),h,!0,p,v)};function Vn(o,h,p,v){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,B=0;B<h.length;++B){var K=h[B];if(K&&!K.da&&K.capture==p){var xe=K.listener,ft=K.ha||K.src;K.fa&&qo(o.i,K),V=xe.call(ft,v)!==!1&&V}}return V&&!v.defaultPrevented}function vr(o,h,p){if(typeof o=="function")p&&(o=E(o,p));else if(o&&typeof o.handleEvent=="function")o=E(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:u.setTimeout(o,h||0)}function Li(o){o.g=vr(()=>{o.g=null,o.i&&(o.i=!1,Li(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class _h extends Ie{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Li(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(o){Ie.call(this),this.h=o,this.g={}}O(wr,Ie);var Fl=[];function jl(o){G(o.g,function(h,p){this.g.hasOwnProperty(p)&&Qo(h)},o),o.g={}}wr.prototype.N=function(){wr.aa.N.call(this),jl(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Go=u.JSON.stringify,vh=u.JSON.parse,wh=class{stringify(o){return u.JSON.stringify(o,void 0)}parse(o){return u.JSON.parse(o,void 0)}};function Yo(){}Yo.prototype.h=null;function Xo(o){return o.h||(o.h=o.i())}function Mi(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xs(){$e.call(this,"d")}O(xs,$e);function Jo(){$e.call(this,"c")}O(Jo,$e);var Er={},Ul=null;function Ns(){return Ul=Ul||new dt}Er.La="serverreachability";function Tr(o){$e.call(this,Er.La,o)}O(Tr,$e);function On(o){const h=Ns();nt(h,new Tr(h))}Er.STAT_EVENT="statevent";function Bl(o,h){$e.call(this,Er.STAT_EVENT,o),this.stat=h}O(Bl,$e);function It(o){const h=Ns();nt(h,new Bl(h,o))}Er.Ma="timingevent";function $l(o,h){$e.call(this,Er.Ma,o),this.size=h}O($l,$e);function Fi(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){o()},h)}function ji(){this.g=!0}ji.prototype.xa=function(){this.g=!1};function Zo(o,h,p,v,V,B){o.info(function(){if(o.g)if(B)for(var K="",xe=B.split("&"),ft=0;ft<xe.length;ft++){var Ee=xe[ft].split("=");if(1<Ee.length){var Ve=Ee[0];Ee=Ee[1];var pt=Ve.split("_");K=2<=pt.length&&pt[1]=="type"?K+(Ve+"="+Ee+"&"):K+(Ve+"=redacted&")}}else K=null;else K=B;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+h+`
`+p+`
`+K})}function Gr(o,h,p,v,V,B,K){o.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+h+`
`+p+`
`+B+" "+K})}function Ln(o,h,p,v){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+ea(o,p)+(v?" "+v:"")})}function Eh(o,h){o.info(function(){return"TIMEOUT: "+h})}ji.prototype.info=function(){};function ea(o,h){if(!o.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var v=p[o];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var B=V[0];if(B!="noop"&&B!="stop"&&B!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Go(p)}catch{return h}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function ot(){}O(ot,Yo),ot.prototype.g=function(){return new XMLHttpRequest},ot.prototype.i=function(){return{}},Zn=new ot;function Xe(o,h,p,v){this.j=o,this.i=h,this.l=p,this.R=v||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}var _t={},Yr={};function er(o,h,p){o.L=1,o.v=Jr(un(h)),o.m=p,o.P=!0,tr(o,null)}function tr(o,h){o.F=Date.now(),Xr(o),o.A=un(o.v);var p=o.A,v=o.R;Array.isArray(v)||(v=[String(v)]),la(p.i,"t",v),o.C=0,p=o.j.J,o.h=new Nt,o.g=iu(o.j,p?h:null,!o.m),0<o.O&&(o.M=new _h(E(o.Y,o,o.g),o.O)),h=o.U,p=o.g,v=o.ca;var V="readystatechange";Array.isArray(V)||(V&&(Fl[0]=V.toString()),V=Fl);for(var B=0;B<V.length;B++){var K=_r(p,V[B],v||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=o.H?w(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),On(),Zo(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const h=this.M;h&&wn(o)==3?h.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)e:{const pt=wn(this.g);var h=this.g.Ba();const kr=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||da(this.g)))){this.J||pt!=4||h==7||(h==8||0>=kr?On(3):On(2)),bs(this);var p=this.g.Z();this.X=p;t:if(Ir(this)){var v=da(this.g);o="";var V=v.length,B=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Sr(this);var K="";break t}this.h.i=new u.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,o+=this.h.i.decode(v[h],{stream:!(B&&h==V-1)});v.length=0,this.h.g+=o,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,Gr(this.i,this.u,this.A,this.l,this.R,pt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,ft=this.g;if((xe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(xe)){var Ee=xe;break t}}Ee=null}if(p=Ee)Ln(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vs(this,p);else{this.o=!1,this.s=3,It(12),Mn(this),Sr(this);break e}}if(this.P){p=!0;let en;for(;!this.J&&this.C<K.length;)if(en=Wl(this,K),en==Yr){pt==4&&(this.s=4,It(14),p=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(en==_t){this.s=4,It(15),Ln(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else Ln(this.i,this.l,en,null),Vs(this,en);if(Ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||K.length!=0||this.h.h||(this.s=1,It(16),p=!1),this.o=this.o&&p,!p)Ln(this.i,this.l,K,"[Invalid Chunked Response]"),Mn(this),Sr(this);else if(0<K.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Ws(Ve),Ve.M=!0,It(11))}}else Ln(this.i,this.l,K,null),Vs(this,K);pt==4&&Mn(this),this.o&&!this.J&&(pt==4?Hs(this.j,this):(this.o=!1,Xr(this)))}else Yl(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),Mn(this),Sr(this)}}}catch{}finally{}};function Ir(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Wl(o,h){var p=o.C,v=h.indexOf(`
`,p);return v==-1?Yr:(p=Number(h.substring(p,v)),isNaN(p)?_t:(v+=1,v+p>h.length?Yr:(h=h.slice(v,v+p),o.C=v+p,h)))}Xe.prototype.cancel=function(){this.J=!0,Mn(this)};function Xr(o){o.S=Date.now()+o.I,Ar(o,o.I)}function Ar(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Fi(E(o.ba,o),h)}function bs(o){o.B&&(u.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Eh(this.i,this.A),this.L!=2&&(On(),It(17)),Mn(this),this.s=2,Sr(this)):Ar(this,this.S-o)};function Sr(o){o.j.G==0||o.J||Hs(o.j,o)}function Mn(o){bs(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,jl(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function Vs(o,h){try{var p=o.j;if(p.G!=0&&(p.g==o||Os(p.h,o))){if(!o.K&&Os(p.h,o)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)En(p),qi(p);else break e;Qi(p),It(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=Fi(E(p.Za,p),6e3));if(1>=ra(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else sr(p,11)}else if((o.K||p.g==o)&&En(p),!T(h))for(V=p.Da.g.parse(h),h=0;h<V.length;h++){let Ee=V[h];if(p.T=Ee[0],Ee=Ee[1],p.G==2)if(Ee[0]=="c"){p.K=Ee[1],p.ia=Ee[2];const Ve=Ee[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const pt=Ee[4];pt!=null&&(p.Aa=pt,p.j.info("SVER="+p.Aa));const kr=Ee[5];kr!=null&&typeof kr=="number"&&0<kr&&(v=1.5*kr,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const en=o.g;if(en){const qs=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var B=v.h;B.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ls(B,B.h),B.h=null))}if(v.D){const ga=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(v.ya=ga,Ce(v.I,v.D,ga))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var K=o;if(v.qa=ru(v,v.J?v.ia:null,v.W),K.K){ia(v.h,K);var xe=K,ft=v.L;ft&&(xe.I=ft),xe.B&&(bs(xe),Xr(xe)),v.g=K}else eu(v);0<p.i.length&&zs(p)}else Ee[0]!="stop"&&Ee[0]!="close"||sr(p,7);else p.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?sr(p,7):Hi(p):Ee[0]!="noop"&&p.l&&p.l.ta(Ee),p.v=0)}}On(4)}catch{}}var Hl=class{constructor(o,h){this.g=o,this.map=h}};function ta(o){this.l=o||10,u.PerformanceNavigationTiming?(o=u.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ra(o){return o.h?1:o.g?o.g.size:0}function Os(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Ls(o,h){o.g?o.g.add(h):o.h=h}function ia(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}ta.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function sa(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const p of o.g.values())h=h.concat(p.D);return h}return M(o.i)}function ql(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var h=[],p=o.length,v=0;v<p;v++)h.push(o[v]);return h}h=[],p=0;for(v in o)h[p++]=o[v];return h}function yn(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var h=[];o=o.length;for(var p=0;p<o;p++)h.push(p);return h}h=[],p=0;for(const v in o)h[p++]=v;return h}}}function Dt(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var p=yn(o),v=ql(o),V=v.length,B=0;B<V;B++)h.call(void 0,v[B],p&&p[B],o)}var nr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(o,h){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var v=o[p].indexOf("="),V=null;if(0<=v){var B=o[p].substring(0,v);V=o[p].substring(v+1)}else B=o[p];h(B,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Fn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Fn){this.h=o.h,Wt(this,o.j),this.o=o.o,this.g=o.g,_n(this,o.s),this.l=o.l;var h=o.i,p=new ei;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Ui(this,p),this.m=o.m}else o&&(h=String(o).match(nr))?(this.h=!1,Wt(this,h[1]||"",!0),this.o=Zr(h[2]||""),this.g=Zr(h[3]||"",!0),_n(this,h[4]),this.l=Zr(h[5]||"",!0),Ui(this,h[6]||"",!0),this.m=Zr(h[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}Fn.prototype.toString=function(){var o=[],h=this.j;h&&o.push(vn(h,aa,!0),":");var p=this.g;return(p||h=="file")&&(o.push("//"),(h=this.o)&&o.push(vn(h,aa,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(vn(p,p.charAt(0)=="/"?Th:jn,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",vn(p,Ms)),o.join("")};function un(o){return new Fn(o)}function Wt(o,h,p){o.j=p?Zr(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function _n(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Ui(o,h,p){h instanceof ei?(o.i=h,Ql(o.i,o.h)):(p||(h=vn(h,rr)),o.i=new ei(h,o.h))}function Ce(o,h,p){o.i.set(h,p)}function Jr(o){return Ce(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zr(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function vn(o,h,p){return typeof o=="string"?(o=encodeURI(o).replace(h,oa),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function oa(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var aa=/[#\/\?@]/g,jn=/[#\?:]/g,Th=/[#\?]/g,rr=/[#\?@]/g,Ms=/#/g;function ei(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Jt(o){o.g||(o.g=new Map,o.h=0,o.i&&Xt(o.i,function(h,p){o.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ei.prototype,t.add=function(o,h){Jt(this),this.i=null,o=Cr(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(h),this.h+=1,this};function Fs(o,h){Jt(o),h=Cr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function ti(o,h){return Jt(o),h=Cr(o,h),o.g.has(h)}t.forEach=function(o,h){Jt(this),this.g.forEach(function(p,v){p.forEach(function(V){o.call(h,V,v,this)},this)},this)},t.na=function(){Jt(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const V=o[v];for(let B=0;B<V.length;B++)p.push(h[v])}return p},t.V=function(o){Jt(this);let h=[];if(typeof o=="string")ti(this,o)&&(h=h.concat(this.g.get(Cr(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)h=h.concat(o[p])}return h},t.set=function(o,h){return Jt(this),this.i=null,o=Cr(this,o),ti(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function la(o,h,p){Fs(o,h),0<p.length&&(o.i=null,o.g.set(Cr(o,h),M(p)),o.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const B=encodeURIComponent(String(v)),K=this.V(v);for(v=0;v<K.length;v++){var V=B;K[v]!==""&&(V+="="+encodeURIComponent(String(K[v]))),o.push(V)}}return this.i=o.join("&")};function Cr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Ql(o,h){h&&!o.j&&(Jt(o),o.i=null,o.g.forEach(function(p,v){var V=v.toLowerCase();v!=V&&(Fs(this,v),la(this,V,p))},o)),o.j=h}function ni(o,h){const p=new ji;if(u.Image){const v=new Image;v.onload=k(Un,p,"TestLoadImage: loaded",!0,h,v),v.onerror=k(Un,p,"TestLoadImage: error",!1,h,v),v.onabort=k(Un,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=k(Un,p,"TestLoadImage: timeout",!1,h,v),u.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=o}else h(!1)}function Ih(o,h){const p=new ji,v=new AbortController,V=setTimeout(()=>{v.abort(),Un(p,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:v.signal}).then(B=>{clearTimeout(V),B.ok?Un(p,"TestPingServer: ok",!0,h):Un(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Un(p,"TestPingServer: error",!1,h)})}function Un(o,h,p,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(p)}catch{}}function ua(){this.g=new wh}function js(o,h,p){const v=p||"";try{Dt(o,function(V,B){let K=V;f(V)&&(K=Go(V)),h.push(v+B+"="+encodeURIComponent(K))})}catch(V){throw h.push(v+"type="+encodeURIComponent("_badmap")),V}}function Pr(o){this.l=o.Ub||null,this.j=o.eb||!1}O(Pr,Yo),Pr.prototype.g=function(){return new Us(this.l,this.j)},Pr.prototype.i=function(o){return function(){return o}}({});function Us(o,h){dt.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Us,dt),t=Us.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,ri(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||u).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bi(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bi(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?$i(this):ri(this),this.readyState==3&&Bi(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,$i(this))},t.Qa=function(o){this.g&&(this.response=o,$i(this))},t.ga=function(){this.g&&$i(this)};function $i(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ri(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=h.next();return o.join(`\r
`)};function ri(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let h="";return G(o,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function zi(o,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Bs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Ce(o,h,p))}function je(o){dt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(je,dt);var Kl=/^https?$/i,Wi=["POST","PUT"];t=je.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Xo(this.o):Xo(Zn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(B){$s(this,B);return}if(o=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)p.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const B of v.keys())p.set(B,v.get(B));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),V=u.FormData&&o instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wi,h,void 0))||v||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,K]of p)this.g.setRequestHeader(B,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gl(this),this.u=!0,this.g.send(o),this.u=!1}catch(B){$s(this,B)}};function $s(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,ca(o),Bn(o)}function ca(o){o.A||(o.A=!0,nt(o,"complete"),nt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,nt(this,"complete"),nt(this,"abort"),Bn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bn(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},t.bb=function(){ha(this)};function ha(o){if(o.h&&typeof a<"u"&&(!o.v[1]||wn(o)!=4||o.Z()!=2)){if(o.u&&wn(o)==4)vr(o.Ea,0,o);else if(nt(o,"readystatechange"),wn(o)==4){o.h=!1;try{const K=o.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=K===0){var V=String(o.D).match(nr)[1]||null;!V&&u.self&&u.self.location&&(V=u.self.location.protocol.slice(0,-1)),v=!Kl.test(V?V.toLowerCase():"")}p=v}if(p)nt(o,"complete"),nt(o,"success");else{o.m=6;try{var B=2<wn(o)?o.g.statusText:""}catch{B=""}o.l=B+" ["+o.Z()+"]",ca(o)}}finally{Bn(o)}}}}function Bn(o,h){if(o.g){Gl(o);const p=o.g,v=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||nt(o,"ready");try{p.onreadystatechange=v}catch{}}}function Gl(o){o.I&&(u.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),vh(h)}};function da(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Yl(o){const h={};o=(o.g&&2<=wn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<o.length;v++){if(T(o[v]))continue;var p=x(o[v]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=h[V]||[];h[V]=B,B.push(p)}A(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ii(o,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||h}function fa(o){this.Aa=0,this.i=[],this.j=new ji,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ii("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ii("baseRetryDelayMs",5e3,o),this.cb=ii("retryDelaySeedMs",1e4,o),this.Wa=ii("forwardChannelMaxRetries",2,o),this.wa=ii("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(o&&o.concurrentRequestLimit),this.Da=new ua,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fa.prototype,t.la=8,t.G=1,t.connect=function(o,h,p,v){It(0),this.W=o,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=ru(this,null,this.W),zs(this)};function Hi(o){if(Xl(o),o.G==3){var h=o.U++,p=un(o.I);if(Ce(p,"SID",o.K),Ce(p,"RID",h),Ce(p,"TYPE","terminate"),ir(o,p),h=new Xe(o,o.j,h),h.L=2,h.v=Jr(un(p)),p=!1,u.navigator&&u.navigator.sendBeacon)try{p=u.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&u.Image&&(new Image().src=h.v,p=!0),p||(h.g=iu(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Xr(h)}nu(o)}function qi(o){o.g&&(Ws(o),o.g.cancel(),o.g=null)}function Xl(o){qi(o),o.u&&(u.clearTimeout(o.u),o.u=null),En(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&u.clearTimeout(o.s),o.s=null)}function zs(o){if(!na(o.h)&&!o.s){o.s=!0;var h=o.Ga;$t||j(),J||($t(),J=!0),ae.add(h,o),o.B=0}}function Jl(o,h){return ra(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Fi(E(o.Ga,o,h),tu(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const V=new Xe(this,this.j,o);let B=this.o;if(this.S&&(B?(B=w(B),P(B,this.S)):B=this.S),this.m!==null||this.O||(V.H=B,B=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=Zl(this,V,h),p=un(this.I),Ce(p,"RID",o),Ce(p,"CVER",22),this.D&&Ce(p,"X-HTTP-Session-Id",this.D),ir(this,p),B&&(this.O?h="headers="+encodeURIComponent(String(Bs(B)))+"&"+h:this.m&&zi(p,this.m,B)),Ls(this.h,V),this.Ua&&Ce(p,"TYPE","init"),this.P?(Ce(p,"$req",h),Ce(p,"SID","null"),V.T=!0,er(V,p,null)):er(V,p,h),this.G=2}}else this.G==3&&(o?pa(this,o):this.i.length==0||na(this.h)||pa(this))};function pa(o,h){var p;h?p=h.l:p=o.U++;const v=un(o.I);Ce(v,"SID",o.K),Ce(v,"RID",p),Ce(v,"AID",o.T),ir(o,v),o.m&&o.o&&zi(v,o.m,o.o),p=new Xe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),h&&(o.i=h.D.concat(o.i)),h=Zl(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ls(o.h,p),er(p,v,h)}function ir(o,h){o.H&&G(o.H,function(p,v){Ce(h,v,p)}),o.l&&Dt({},function(p,v){Ce(h,v,p)})}function Zl(o,h,p){p=Math.min(o.i.length,p);var v=o.l?E(o.l.Na,o.l,o):null;e:{var V=o.i;let B=-1;for(;;){const K=["count="+p];B==-1?0<p?(B=V[0].g,K.push("ofs="+B)):B=0:K.push("ofs="+B);let xe=!0;for(let ft=0;ft<p;ft++){let Ee=V[ft].g;const Ve=V[ft].map;if(Ee-=B,0>Ee)B=Math.max(0,V[ft].g-100),xe=!1;else try{js(Ve,K,"req"+Ee+"_")}catch{v&&v(Ve)}}if(xe){v=K.join("&");break e}}}return o=o.i.splice(0,p),h.D=o,v}function eu(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;$t||j(),J||($t(),J=!0),ae.add(h,o),o.v=0}}function Qi(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Fi(E(o.Fa,o),tu(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,ma(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Fi(E(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),qi(this),ma(this))};function Ws(o){o.A!=null&&(u.clearTimeout(o.A),o.A=null)}function ma(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=un(o.qa);Ce(h,"RID","rpc"),Ce(h,"SID",o.K),Ce(h,"AID",o.T),Ce(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ce(h,"TO",o.ja),Ce(h,"TYPE","xmlhttp"),ir(o,h),o.m&&o.o&&zi(h,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Jr(un(h)),p.m=null,p.P=!0,tr(p,o)}t.Za=function(){this.C!=null&&(this.C=null,qi(this),Qi(this),It(19))};function En(o){o.C!=null&&(u.clearTimeout(o.C),o.C=null)}function Hs(o,h){var p=null;if(o.g==h){En(o),Ws(o),o.g=null;var v=2}else if(Os(o.h,h))p=h.D,ia(o.h,h),v=1;else return;if(o.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var V=o.B;v=Ns(),nt(v,new $l(v,p)),zs(o)}else eu(o);else if(V=h.s,V==3||V==0&&0<h.X||!(v==1&&Jl(o,h)||v==2&&Qi(o)))switch(p&&0<p.length&&(h=o.h,h.i=h.i.concat(p)),V){case 1:sr(o,5);break;case 4:sr(o,10);break;case 3:sr(o,6);break;default:sr(o,2)}}}function tu(o,h){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*h}function sr(o,h){if(o.j.info("Error code "+h),h==2){var p=E(o.fb,o),v=o.Xa;const V=!v;v=new Fn(v||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Wt(v,"https"),Jr(v),V?ni(v.toString(),p):Ih(v.toString(),p)}else It(2);o.G=0,o.l&&o.l.sa(h),nu(o),Xl(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function nu(o){if(o.G=0,o.ka=[],o.l){const h=sa(o.h);(h.length!=0||o.i.length!=0)&&(F(o.ka,h),F(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function ru(o,h,p){var v=p instanceof Fn?un(p):new Fn(p);if(v.g!="")h&&(v.g=h+"."+v.g),_n(v,v.s);else{var V=u.location;v=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var B=new Fn(null);v&&Wt(B,v),h&&(B.g=h),V&&_n(B,V),p&&(B.l=p),v=B}return p=o.D,h=o.ya,p&&h&&Ce(v,p,h),Ce(v,"VER",o.la),ir(o,v),v}function iu(o,h,p){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new je(new Pr({eb:p})):new je(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function su(){}t=su.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ki(){}Ki.prototype.g=function(o,h){return new bt(o,h)};function bt(o,h){dt.call(this),this.g=new fa(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!T(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!T(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Zt(this)}O(bt,dt),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){Hi(this.g)},bt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Go(o),o=p);h.i.push(new Hl(h.Ya++,o)),h.G==3&&zs(h)},bt.prototype.N=function(){this.g.l=null,delete this.j,Hi(this.g),delete this.g,bt.aa.N.call(this)};function ou(o){xs.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const p in h){o=p;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}O(ou,xs);function Rr(){Jo.call(this),this.status=1}O(Rr,Jo);function Zt(o){this.g=o}O(Zt,su),Zt.prototype.ua=function(){nt(this.g,"a")},Zt.prototype.ta=function(o){nt(this.g,new ou(o))},Zt.prototype.sa=function(o){nt(this.g,new Rr)},Zt.prototype.ra=function(){nt(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,J0=function(){return new Ki},X0=function(){return Ns()},Y0=Er,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Gu=Ds,zl.COMPLETE="complete",G0=zl,Mi.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ba=Mi,K0=Pr,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Q0=je}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});const Sy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new U0("@firebase/firestore");function Ra(){return _s.logLevel}function ie(t,...e){if(_s.logLevel<=Ae.DEBUG){const n=e.map(Np);_s.debug(`Firestore (${Bo}): ${t}`,...n)}}function Wr(t,...e){if(_s.logLevel<=Ae.ERROR){const n=e.map(Np);_s.error(`Firestore (${Bo}): ${t}`,...n)}}function Ro(t,...e){if(_s.logLevel<=Ae.WARN){const n=e.map(Np);_s.warn(`Firestore (${Bo}): ${t}`,...n)}}function Np(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function Fe(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Uo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MC{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Z0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Mt(e)}}class FC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new FC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new UC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$C(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new et(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new et(0,0))}static max(){return new fe(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _l.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class We extends _l{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new We(n)}static emptyPath(){return new We([])}}const zC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends _l{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return zC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(a=!a,i++):u!=="."||a?(r+=u,i++):(s(),i++)}if(s(),a)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(We.fromString(e))}static fromName(e){return new oe(We.fromString(e).popFirst(5))}static empty(){return new oe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new We(e.slice()))}}function WC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new ki(i,oe.empty(),e)}function HC(t){return new ki(t.readTime,t.key,-1)}class ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ki(fe.min(),oe.empty(),-1)}static max(){return new ki(fe.max(),oe.empty(),-1)}}function qC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==QC)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,a=!1;e.forEach(u=>{++i,u.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,a=new Array(s);let u=0;for(let c=0;c<s;c++){const f=c;n(e[f]).next(g=>{a[f]=g,++u,u===s&&r(a)},g=>i(g))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function GC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dp.oe=-1;function th(t){return t==null}function Rc(t){return t===0&&1/t==-1/0}function YC(t){return typeof t=="number"&&Number.isInteger(t)&&!Rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new St(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(e){return new Py(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class Py{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Rt(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nw("Invalid base64 string: "+s):s}}(e);return new xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const XC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=XC.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vp(t){const e=t.mapValue.fields.__previous_value__;return bp(e)?Vp(e):e}function vl(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i,s,a,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bp(t)?4:eP(t)?9007199254740991:ZC(t)?10:11:ce()}function mr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=xi(i.timestampValue),u=xi(s.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vs(i.bytesValue).isEqual(vs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return it(i.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return it(i.integerValue)===it(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=it(i.doubleValue),u=it(s.doubleValue);return a===u?Rc(a)===Rc(u):isNaN(a)&&isNaN(u)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},u=s.mapValue.fields||{};if(Cy(a)!==Cy(u))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(u[c]===void 0||!mr(a[c],u[c])))return!1;return!0}(t,e);default:return ce()}}function El(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const u=it(s.integerValue||s.doubleValue),c=it(a.integerValue||a.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Ry(t.timestampValue,e.timestampValue);case 4:return Ry(vl(t),vl(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,a){const u=vs(s),c=vs(a);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const u=s.split("/"),c=a.split("/");for(let f=0;f<u.length&&f<c.length;f++){const g=Pe(u[f],c[f]);if(g!==0)return g}return Pe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const u=Pe(it(s.latitude),it(a.latitude));return u!==0?u:Pe(it(s.longitude),it(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ky(t.arrayValue,e.arrayValue);case 10:return function(s,a){var u,c,f,g;const _=s.fields||{},E=a.fields||{},k=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=(c=E.value)===null||c===void 0?void 0:c.arrayValue,M=Pe(((f=k==null?void 0:k.values)===null||f===void 0?void 0:f.length)||0,((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0);return M!==0?M:ky(k,O)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ou.mapValue&&a===Ou.mapValue)return 0;if(s===Ou.mapValue)return 1;if(a===Ou.mapValue)return-1;const u=s.fields||{},c=Object.keys(u),f=a.fields||{},g=Object.keys(f);c.sort(),g.sort();for(let _=0;_<c.length&&_<g.length;++_){const E=Pe(c[_],g[_]);if(E!==0)return E;const k=xo(u[c[_]],f[g[_]]);if(k!==0)return k}return Pe(c.length,g.length)}(t.mapValue,e.mapValue);default:throw ce()}}function Ry(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=xi(t),r=xi(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function ky(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=xo(n[i],r[i]);if(s)return s}return Pe(n.length,r.length)}function No(t){return Ef(t)}function Ef(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ef(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Ef(n.fields[a])}`;return i+"}"}(t.mapValue):ce()}function xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tf(t){return!!t&&"integerValue"in t}function Op(t){return!!t&&"arrayValue"in t}function Ny(t){return!!t&&"nullValue"in t}function Dy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function ZC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((a,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}a?r[u.lastSegment()]=qa(a):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Rn(qa(this.value))}}function rw(t){const e=[];return $o(t.fields,(n,r)=>{const i=new Ct([n]);if(Yu(r)){const s=rw(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,a,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=u}static newInvalidDocument(e){return new jt(e,0,fe.min(),fe.min(),fe.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,fe.min(),fe.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,fe.min(),fe.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.position=e,this.inclusive=n}}function by(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=xo(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function tP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class ut extends iw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rP(e,n,r):n==="array-contains"?new oP(e,r):n==="in"?new aP(e,r):n==="not-in"?new lP(e,r):n==="array-contains-any"?new uP(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iP(e,r):new sP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends iw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return sw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sw(t){return t.op==="and"}function ow(t){return nP(t)&&sw(t)}function nP(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function If(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+No(t.value);if(ow(t))return t.filters.map(e=>If(e)).join(",");{const e=t.filters.map(n=>If(n)).join(",");return`${t.op}(${e})`}}function aw(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,u)=>s&&aw(a,i.filters[u]),!0):!1}(t,e):void ce()}function lw(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(lw).join(" ,")+"}"}(t):"Filter"}class rP extends ut{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class iP extends ut{constructor(e,n){super(e,"in",n),this.keys=uw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sP extends ut{constructor(e,n){super(e,"not-in",n),this.keys=uw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class oP extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&El(n.arrayValue,this.value)}}class aP extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&El(this.value.arrayValue,n)}}class lP extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!El(this.value.arrayValue,n)}}class uP extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>El(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n=null,r=[],i=[],s=null,a=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=u,this.ue=null}}function Oy(t,e=null,n=[],r=[],i=null,s=null,a=null){return new cP(t,e,n,r,i,s,a)}function Lp(t){const e=pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>If(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>No(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>No(r)).join(",")),e.ue=n}return e.ue}function Mp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function Af(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n=null,r=[],i=[],s=null,a="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hP(t,e,n,r,i,s,a,u){return new zo(t,e,n,r,i,s,a,u)}function Fp(t){return new zo(t)}function Ly(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cw(t){return t.collectionGroup!==null}function Qa(t){const e=pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let u=new Rt(Ct.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Tl(s,r))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new Tl(Ct.keyField(),r))}return e.ce}function fr(t){const e=pe(t);return e.le||(e.le=dP(e,Qa(t))),e.le}function dP(t,e){if(t.limitType==="F")return Oy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Tl(i.field,s)});const n=t.endAt?new kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kc(t.startAt.position,t.startAt.inclusive):null;return Oy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sf(t,e){const n=t.filters.concat([e]);return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cf(t,e,n){return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return Mp(fr(t),fr(e))&&t.limitType===e.limitType}function hw(t){return`${Lp(fr(t))}|lt:${t.limitType}`}function Ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lw(i)).join(", ")}]`),th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function rh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,u,c){const f=by(a,u,c);return a.inclusive?f<=0:f<0}(r.startAt,Qa(r),i)||r.endAt&&!function(a,u,c){const f=by(a,u,c);return a.inclusive?f>=0:f>0}(r.endAt,Qa(r),i))}(t,e)}function fP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dw(t){return(e,n)=>{let r=!1;for(const i of Qa(t)){const s=pP(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pP(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,a,u){const c=a.data.field(s),f=u.data.field(s);return c!==null&&f!==null?xo(c,f):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=new Ye(oe.comparator);function Hr(){return mP}const fw=new Ye(oe.comparator);function Va(...t){let e=fw;for(const n of t)e=e.insert(n.key,n);return e}function pw(t){let e=fw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function as(){return Ka()}function mw(){return Ka()}function Ka(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const gP=new Ye(oe.comparator),yP=new Rt(oe.comparator);function ve(...t){let e=yP;for(const n of t)e=e.add(n);return e}const _P=new Rt(Pe);function vP(){return _P}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function gw(t){return{integerValue:""+t}}function wP(t,e){return YC(e)?gw(e):jp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function EP(t,e,n){return t instanceof xc?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bp(s)&&(s=Vp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Il?_w(t,e):t instanceof Al?vw(t,e):function(i,s){const a=yw(i,s),u=My(a)+My(i.Pe);return Tf(a)&&Tf(i.Pe)?gw(u):jp(i.serializer,u)}(t,e)}function TP(t,e,n){return t instanceof Il?_w(t,e):t instanceof Al?vw(t,e):n}function yw(t,e){return t instanceof Nc?function(r){return Tf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xc extends ih{}class Il extends ih{constructor(e){super(),this.elements=e}}function _w(t,e){const n=ww(e);for(const r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Al extends ih{constructor(e){super(),this.elements=e}}function vw(t,e){let n=ww(e);for(const r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}class Nc extends ih{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function My(t){return it(t.integerValue||t.doubleValue)}function ww(t){return Op(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Il&&i instanceof Il||r instanceof Al&&i instanceof Al?ko(r.elements,i.elements,mr):r instanceof Nc&&i instanceof Nc?mr(r.Pe,i.Pe):r instanceof xc&&i instanceof xc}(t.transform,e.transform)}class AP{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sh{}function Ew(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iw(t.key,Fr.none()):new Dl(t.key,t.data,Fr.none());{const n=t.data,r=Rn.empty();let i=new Rt(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new As(t.key,r,new Qn(i.toArray()),Fr.none())}}function SP(t,e,n){t instanceof Dl?function(i,s,a){const u=i.value.clone(),c=jy(i.fieldTransforms,s,a.transformResults);u.setAll(c),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):t instanceof As?function(i,s,a){if(!Xu(i.precondition,s))return void s.convertToUnknownDocument(a.version);const u=jy(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(Tw(i)),c.setAll(u),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ga(t,e,n,r){return t instanceof Dl?function(s,a,u,c){if(!Xu(s.precondition,a))return u;const f=s.value.clone(),g=Uy(s.fieldTransforms,c,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof As?function(s,a,u,c){if(!Xu(s.precondition,a))return u;const f=Uy(s.fieldTransforms,c,a),g=a.data;return g.setAll(Tw(s)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(s,a,u){return Xu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u}(t,e,n)}function CP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=yw(r.transform,i||null);s!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,s))}return n||null}function Fy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,a)=>IP(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends sh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class As extends sh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Tw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jy(t,e,n){const r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,u=e.data.field(s.field);r.set(s.field,TP(a,u,n[i]))}return r}function Uy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,EP(s,a,e))}return r}class Iw extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PP extends sh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SP(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=mw();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let u=this.applyToLocalView(a,s.mutatedFields);u=n.has(i.key)?null:u;const c=Ew(a,u);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>Fy(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>Fy(n,r))}}class Up{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fe(e.mutations.length===r.length);let i=function(){return gP}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Up(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Te;function NP(t){switch(t){default:return ce();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Aw(t){if(t===void 0)return Wr("GRPC error has no .code"),z.UNKNOWN;switch(t){case at.OK:return z.OK;case at.CANCELLED:return z.CANCELLED;case at.UNKNOWN:return z.UNKNOWN;case at.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case at.INTERNAL:return z.INTERNAL;case at.UNAVAILABLE:return z.UNAVAILABLE;case at.UNAUTHENTICATED:return z.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case at.NOT_FOUND:return z.NOT_FOUND;case at.ALREADY_EXISTS:return z.ALREADY_EXISTS;case at.PERMISSION_DENIED:return z.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case at.ABORTED:return z.ABORTED;case at.OUT_OF_RANGE:return z.OUT_OF_RANGE;case at.UNIMPLEMENTED:return z.UNIMPLEMENTED;case at.DATA_LOSS:return z.DATA_LOSS;default:return ce()}}(Te=at||(at={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new ds([4294967295,4294967295],0);function By(t){const e=DP().encode(t),n=new q0;return n.update(e),new Uint8Array(n.digest())}function $y(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ds([n,r],0),new ds([i,s],0)]}class Bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oa(`Invalid padding: ${n}`);if(r<0)throw new Oa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ds.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ds.fromNumber(r)));return i.compare(bP)===1&&(i=new ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=By(e),[r,i]=$y(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Bp(s,i,n);return r.forEach(u=>a.insert(u)),a}insert(e){if(this.Ie===0)return;const n=By(e),[r,i]=$y(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(fe.min(),i,new Ye(Pe),Hr(),ve())}}class bl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Sw{constructor(e,n){this.targetId=e,this.me=n}}class Cw{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zy{constructor(){this.fe=0,this.ge=Hy(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new bl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Hy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VP{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=Wy(),this.Qe=new Ye(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Af(s))if(r===0){const a=new oe(s.path);this.Ue(n,a,jt.newNoDocument(a,fe.min()))}else Fe(r===1);else{const a=this.Ye(n);if(a!==r){const u=this.Ze(e),c=u?this.Xe(u,e,a):1;if(c!==0){this.je(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,u;try{a=vs(r).toUint8Array()}catch(c){if(c instanceof nw)return Ro("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Bp(a,i,s)}catch(c){return Ro(c instanceof Oa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),u=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const u=this.Je(a);if(u){if(s.current&&Af(u.target)){const c=new oe(u.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,jt.newNoDocument(c,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,a)=>{let u=!0;a.forEachWhile(c=>{const f=this.Je(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new oh(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=Wy(),this.Qe=new Ye(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Wy(){return new Ye(oe.comparator)}function Hy(){return new Ye(oe.comparator)}const OP={asc:"ASCENDING",desc:"DESCENDING"},LP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MP={and:"AND",or:"OR"};class FP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json||th(e)?e:{value:e}}function Dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jP(t,e){return Dc(t,e.toTimestamp())}function pr(t){return Fe(!!t),fe.fromTimestamp(function(n){const r=xi(n);return new et(r.seconds,r.nanos)}(t))}function $p(t,e){return Rf(t,e).canonicalString()}function Rf(t,e){const n=function(i){return new We(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rw(t){const e=We.fromString(t);return Fe(bw(e)),e}function kf(t,e){return $p(t.databaseId,e.path)}function pd(t,e){const n=Rw(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(xw(n))}function kw(t,e){return $p(t.databaseId,e)}function UP(t){const e=Rw(t);return e.length===4?We.emptyPath():xw(e)}function xf(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xw(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qy(t,e,n){return{name:kf(t,e),fields:n.value.mapValue.fields}}function BP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(Fe(g===void 0||typeof g=="string"),xt.fromBase64String(g||"")):(Fe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),xt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(f){const g=f.code===void 0?z.UNKNOWN:Aw(f.code);return new ee(g,f.message||"")}(a);n=new Cw(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pd(t,r.document.name),s=pr(r.document.updateTime),a=r.document.createTime?pr(r.document.createTime):fe.min(),u=new Rn({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,s,a,u),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Ju(f,g,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pd(t,r.document),s=r.readTime?pr(r.readTime):fe.min(),a=jt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Ju([],u,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pd(t,r.document),s=r.removedTargetIds||[];n=new Ju([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new xP(i,s),u=r.targetId;n=new Sw(u,a)}}return n}function $P(t,e){let n;if(e instanceof Dl)n={update:qy(t,e.key,e.value)};else if(e instanceof Iw)n={delete:kf(t,e.key)};else if(e instanceof As)n={update:qy(t,e.key,e.data),updateMask:XP(e.fieldMask)};else{if(!(e instanceof PP))return ce();n={verify:kf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const u=a.transform;if(u instanceof xc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Il)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Al)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Nc)return{fieldPath:a.field.canonicalString(),increment:u.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:jP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function zP(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?pr(i.updateTime):pr(s);return a.isEqual(fe.min())&&(a=pr(s)),new AP(a,i.transformResults||[])}(n,e))):[]}function WP(t,e){return{documents:[kw(t,e.path)]}}function HP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kw(t,i);const s=function(f){if(f.length!==0)return Dw(Xn.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(g=>function(E){return{field:Xs(E.field),direction:KP(E.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const u=Pf(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function qP(t){let e=UP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fe(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(_){const E=Nw(_);return E instanceof Xn&&ow(E)?E.getFilters():[E]}(n.where));let a=[];n.orderBy&&(a=function(_){return _.map(E=>function(O){return new Tl(Js(O.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(n.orderBy));let u=null;n.limit&&(u=function(_){let E;return E=typeof _=="object"?_.value:_,th(E)?null:E}(n.limit));let c=null;n.startAt&&(c=function(_){const E=!!_.before,k=_.values||[];return new kc(k,E)}(n.startAt));let f=null;return n.endAt&&(f=function(_){const E=!_.before,k=_.values||[];return new kc(k,E)}(n.endAt)),hP(e,i,a,s,u,"F",c,f)}function QP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Js(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Js(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Js(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>Nw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function KP(t){return OP[t]}function GP(t){return LP[t]}function YP(t){return MP[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Ct.fromServerFormat(t.fieldPath)}function Dw(t){return t instanceof ut?function(n){if(n.op==="=="){if(Dy(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(Ny(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dy(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(Ny(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:GP(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(i=>Dw(i));return r.length===1?r[0]:{compositeFilter:{op:YP(n.op),filters:r}}}(t):ce()}function XP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=fe.min(),a=fe.min(),u=xt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.ct=e}}function ZP(t){const e=qP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.un=new tR}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ki.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class tR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(We.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ga(r.mutation,i,Qn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=as();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Va();return s.forEach((u,c)=>{a=a.insert(u,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=as();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,u)=>{n.set(a,u)})})}computeViews(e,n,r,i){let s=Hr();const a=Ka(),u=function(){return Ka()}();return n.forEach((c,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof As)?s=s.insert(f.key,f):g!==void 0?(a.set(f.key,g.mutation.getFieldMask()),Ga(g.mutation,f,g.mutation.getFieldMask(),et.now())):a.set(f.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((f,g)=>a.set(f,g)),n.forEach((f,g)=>{var _;return u.set(f,new rR(g,(_=a.get(f))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Ka();let i=new Ye((a,u)=>a-u),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const u of a)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let g=r.get(c)||Qn.empty();g=u.applyToLocalView(f,g),r.set(c,g);const _=(i.get(u.batchId)||ve()).add(c);i=i.insert(u.batchId,_)})}).next(()=>{const a=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,g=c.value,_=mw();g.forEach(E=>{if(!s.has(E)){const k=Ew(n.get(E),r.get(E));k!==null&&_.set(E,k),s=s.add(E)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,_))}return H.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(as());let u=-1,c=s;return a.next(f=>H.forEach(f,(g,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(g)?H.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{c=c.insert(g,E)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,c,f,ve())).next(g=>({batchId:u,changes:pw(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Va();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Va();return this.indexManager.getCollectionParents(e,s).next(u=>H.forEach(u,c=>{const f=function(_,E){return new zo(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,E)=>{a=a.insert(_,E)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,f)=>{const g=f.getKey();a.get(g)===null&&(a=a.insert(g,jt.newInvalidDocument(g)))});let u=Va();return a.forEach((c,f)=>{const g=s.get(c);g!==void 0&&Ga(g.mutation,f,Qn.empty(),et.now()),rh(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ZP(i.bundledQuery),readTime:pr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.overlays=new Ye(oe.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=as();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=as(),s=n.length+1,a=new oe(n.child("")),u=this.overlays.getIteratorFrom(a);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((f,g)=>f-g);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=s.get(f.largestBatchId);g===null&&(g=as(),s=s.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const u=as(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,g)=>u.set(f,g)),!(u.size()>=i)););return H.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new kP(n,r));let s=this.Ir.get(n);s===void 0&&(s=ve(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Tr=new Rt(wt.Er),this.dr=new Rt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new We([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new We([])),r=new wt(n,e),i=new wt(n,e+1);let s=ve();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Pe(e.wr,n.wr)}static Ar(e,n){return Pe(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(wt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new RP(s,n,r,i);this.mutationQueue.push(a);for(const u of i)this.br=this.br.add(new wt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return H.resolve(a)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const u=this.Dr(a.wr);s.push(u)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Pe);return n.forEach(i=>{const s=new wt(i,0),a=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],u=>{r=r.add(u.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const a=new wt(new oe(s),0);let u=new Rt(Pe);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},a),H.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.Mr=e,this.docs=function(){return new Ye(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hr();const a=n.path,u=new oe(a.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:g}}=c.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||qC(HC(g),r)<=0||(i.has(g.key)||rh(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cR(this)}getSize(e){return H.resolve(this.size)}}class cR extends nR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.persistence=e,this.Nr=new Wo(n=>Lp(n),Mp),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zp,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Dp(0),this.Kr=!1,this.Kr=!0,this.$r=new aR,this.referenceDelegate=e(this),this.Ur=new hR(this),this.indexManager=new eR,this.remoteDocumentCache=function(i){return new uR(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new JP(n),this.Gr=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new lR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new fR(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class fR extends KC{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Jr=new zp,this.Yr=null}static Zr(e){return new Wp(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _S()?8:GC(gS())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new pR;return this.Xi(e,n,a).next(u=>{if(s.result=u,this.zi)return this.es(e,n,a,u.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ra()<=Ae.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Ra()<=Ae.DEBUG&&ie("QueryEngine","Query:",Ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ra()<=Ae.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):H.resolve())}Yi(e,n){if(Ly(n))return H.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cf(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=ve(...s);return this.Ji.getDocuments(e,a).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,u);return this.ns(n,f,a,c.readTime)?this.Yi(e,Cf(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return Ly(n)||i.isEqual(fe.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?H.resolve(null):(Ra()<=Ae.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ys(n)),this.rs(e,a,n,WC(i,-1)).next(u=>u))})}ts(e,n){let r=new Rt(dw(e));return n.forEach((i,s)=>{rh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ra()<=Ae.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Ys(n)),this.Ji.getDocumentsMatchingQuery(e,n,ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ye(Pe),this._s=new Wo(s=>Lp(s),Mp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function yR(t,e,n,r){return new gR(t,e,n,r)}async function Vw(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],u=[];let c=ve();for(const f of i){a.push(f.batchId);for(const g of f.mutations)c=c.add(g.key)}for(const f of s){u.push(f.batchId);for(const g of f.mutations)c=c.add(g.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:u}))})})}function _R(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,g){const _=f.batch,E=_.keys();let k=H.resolve();return E.forEach(O=>{k=k.next(()=>g.getEntry(c,O)).next(M=>{const F=f.docVersions.get(O);Fe(F!==null),M.version.compareTo(F)<0&&(_.applyToRemoteDocument(M,f),M.isValidDocument()&&(M.setReadTime(f.commitVersion),g.addEntry(M)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(c,_))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=ve();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ow(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vR(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;u.push(n.Ur.removeMatchingKeys(s,g.removedDocuments,_).next(()=>n.Ur.addMatchingKeys(s,g.addedDocuments,_)));let k=E.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?k=k.withResumeToken(xt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):g.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(g.resumeToken,r)),i=i.insert(_,k),function(M,F,S){return M.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(E,k,g)&&u.push(n.Ur.updateTargetData(s,k))});let c=Hr(),f=ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),u.push(wR(s,a,e.documentUpdates).next(g=>{c=g.Ps,f=g.Is})),!r.isEqual(fe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(s).next(_=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(g)}return H.waitFor(u).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,f)).next(()=>c)}).then(s=>(n.os=i,s))}function wR(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Hr();return n.forEach((u,c)=>{const f=s.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(u,c.readTime),a=a.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),a=a.insert(u,c)):ie("LocalStore","Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{Ps:a,Is:i}})}function ER(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TR(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new mi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Nf(t,e,n){const r=pe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Nl(a))throw a;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Qy(t,e,n){const r=pe(t);let i=fe.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,f,g){const _=pe(c),E=_._s.get(g);return E!==void 0?H.resolve(_.os.get(E)):_.Ur.getTargetData(f,g)}(r,a,fr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,u.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:fe.min(),n?s:ve())).next(u=>(IR(r,fP(e),u),{documents:u,Ts:s})))}function IR(t,e,n){let r=t.us.get(e)||fe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Ky{constructor(){this.activeTargetIds=vP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AR{constructor(){this.so=new Ky,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ky,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function md(){return Lu===null?Lu=function(){return 268435456+Math.round(2147483648*Math.random())}():Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class RR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const u=md(),c=this.xo(n,r.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,c,f,i).then(g=>(ie("RestConnection",`Received RPC '${n}' ${u}: `,g),g),g=>{throw Ro("RestConnection",`RPC '${n}' ${u} failed with error: `,g,"url: ",c,"request:",i),g})}Lo(n,r,i,s,a,u){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=CR[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=md();return new Promise((a,u)=>{const c=new Q0;c.setWithCredentials(!0),c.listenOnce(G0.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gu.NO_ERROR:const g=c.getResponseJson();ie(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Gu.TIMEOUT:ie(Lt,`RPC '${e}' ${s} timed out`),u(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const _=c.getStatus();if(ie(Lt,`RPC '${e}' ${s} failed with status:`,_,"response text:",c.getResponseText()),_>0){let E=c.getResponseJson();Array.isArray(E)&&(E=E[0]);const k=E==null?void 0:E.error;if(k&&k.status&&k.message){const O=function(F){const S=F.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(S)>=0?S:z.UNKNOWN}(k.status);u(new ee(O,k.message))}else u(new ee(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new ee(z.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{ie(Lt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);ie(Lt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=md(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=J0(),u=X0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.xmlHttpFactory=new K0({})),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const g=s.join("");ie(Lt,`Creating RPC '${e}' stream ${i}: ${g}`,c);const _=a.createWebChannel(g,c);let E=!1,k=!1;const O=new PR({Io:F=>{k?ie(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(E||(ie(Lt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),ie(Lt,`RPC '${e}' stream ${i} sending:`,F),_.send(F))},To:()=>_.close()}),M=(F,S,T)=>{F.listen(S,R=>{try{T(R)}catch(U){setTimeout(()=>{throw U},0)}})};return M(_,ba.EventType.OPEN,()=>{k||(ie(Lt,`RPC '${e}' stream ${i} transport opened.`),O.yo())}),M(_,ba.EventType.CLOSE,()=>{k||(k=!0,ie(Lt,`RPC '${e}' stream ${i} transport closed`),O.So())}),M(_,ba.EventType.ERROR,F=>{k||(k=!0,Ro(Lt,`RPC '${e}' stream ${i} transport errored:`,F),O.So(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),M(_,ba.EventType.MESSAGE,F=>{var S;if(!k){const T=F.data[0];Fe(!!T);const R=T,U=R.error||((S=R[0])===null||S===void 0?void 0:S.error);if(U){ie(Lt,`RPC '${e}' stream ${i} received error:`,U);const Q=U.status;let G=function(I){const P=at[I];if(P!==void 0)return Aw(P)}(Q),A=U.message;G===void 0&&(G=z.INTERNAL,A="Unknown error status: "+Q+" with message "+U.message),k=!0,O.So(new ee(G,A)),_.close()}else ie(Lt,`RPC '${e}' stream ${i} received:`,T),O.bo(T)}}),M(u,Y0.STAT_EVENT,F=>{F.stat===wf.PROXY?ie(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===wf.NOPROXY&&ie(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){return new FP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r,i,s,a,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Lw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kR extends Mw{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BP(this.serializer,e),r=function(s){if(!("targetChange"in s))return fe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?fe.min():a.readTime?pr(a.readTime):fe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xf(this.serializer),n.addTarget=function(s,a){let u;const c=a.target;if(u=Af(c)?{documents:WP(s,c)}:{query:HP(s,c)._t},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=Pw(s,a.resumeToken);const f=Pf(s,a.expectedCount);f!==null&&(u.expectedCount=f)}else if(a.snapshotVersion.compareTo(fe.min())>0){u.readTime=Dc(s,a.snapshotVersion.toTimestamp());const f=Pf(s,a.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=QP(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xf(this.serializer),n.removeTarget=e,this.a_(n)}}class xR extends Mw{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=zP(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$P(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Rf(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Lo(e,Rf(n,r),i,a,u,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(z.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class DR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(n),this.D_=!1):ie("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ss(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=pe(c);f.L_.add(4),await Vl(f),f.q_.set("Unknown"),f.L_.delete(4),await lh(f)}(this))})}),this.q_=new DR(r,i)}}async function lh(t){if(Ss(t))for(const e of t.B_)await e(!0)}async function Vl(t){for(const e of t.B_)await e(!1)}function Fw(t,e){const n=pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Gp(n)?Kp(n):Ho(n).r_()&&Qp(n,e))}function qp(t,e){const n=pe(t),r=Ho(n);n.N_.delete(e),r.r_()&&jw(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function Qp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).A_(e)}function jw(t,e){t.Q_.xe(e),Ho(t).R_(e)}function Kp(t){t.Q_=new VP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.q_.v_()}function Gp(t){return Ss(t)&&!Ho(t).n_()&&t.N_.size>0}function Ss(t){return pe(t).L_.size===0}function Uw(t){t.Q_=void 0}async function VR(t){t.q_.set("Online")}async function OR(t){t.N_.forEach((e,n)=>{Qp(t,e)})}async function LR(t,e){Uw(t),Gp(t)?(t.q_.M_(e),Kp(t)):t.q_.set("Unknown")}async function MR(t,e,n){if(t.q_.set("Online"),e instanceof Cw&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const u of s.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,a),i.N_.delete(u),i.Q_.removeTarget(u))}(t,e)}catch(r){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bc(t,r)}else if(e instanceof Ju?t.Q_.Ke(e):e instanceof Sw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(fe.min()))try{const r=await Ow(t.localStore);n.compareTo(r)>=0&&await function(s,a){const u=s.Q_.rt(a);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const g=s.N_.get(f);g&&s.N_.set(f,g.withResumeToken(c.resumeToken,a))}}),u.targetMismatches.forEach((c,f)=>{const g=s.N_.get(c);if(!g)return;s.N_.set(c,g.withResumeToken(xt.EMPTY_BYTE_STRING,g.snapshotVersion)),jw(s,c);const _=new mi(g.target,c,f,g.sequenceNumber);Qp(s,_)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){ie("RemoteStore","Failed to raise snapshot:",r),await bc(t,r)}}async function bc(t,e,n){if(!Nl(e))throw e;t.L_.add(1),await Vl(t),t.q_.set("Offline"),n||(n=()=>Ow(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lh(t)})}function Bw(t,e){return e().catch(n=>bc(t,n,e))}async function uh(t){const e=pe(t),n=Ni(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;FR(e);)try{const i=await ER(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,jR(e,i)}catch(i){await bc(e,i)}$w(e)&&zw(e)}function FR(t){return Ss(t)&&t.O_.length<10}function jR(t,e){t.O_.push(e);const n=Ni(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $w(t){return Ss(t)&&!Ni(t).n_()&&t.O_.length>0}function zw(t){Ni(t).start()}async function UR(t){Ni(t).p_()}async function BR(t){const e=Ni(t);for(const n of t.O_)e.m_(n.mutations)}async function $R(t,e,n){const r=t.O_.shift(),i=Up.from(r,e,n);await Bw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uh(t)}async function zR(t,e){e&&Ni(t).V_&&await async function(r,i){if(function(a){return NP(a)&&a!==z.ABORTED}(i.code)){const s=r.O_.shift();Ni(r).s_(),await Bw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await uh(r)}}(t,e),$w(t)&&zw(t)}async function Yy(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const r=Ss(n);n.L_.add(3),await Vl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lh(n)}async function WR(t,e){const n=pe(t);e?(n.L_.delete(2),await lh(n)):e||(n.L_.add(2),await Vl(n),n.q_.set("Unknown"))}function Ho(t){return t.K_||(t.K_=function(n,r,i){const s=pe(n);return s.w_(),new kR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:VR.bind(null,t),Ro:OR.bind(null,t),mo:LR.bind(null,t),d_:MR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Gp(t)?Kp(t):t.q_.set("Unknown")):(await t.K_.stop(),Uw(t))})),t.K_}function Ni(t){return t.U_||(t.U_=function(n,r,i){const s=pe(n);return s.w_(),new xR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UR.bind(null,t),mo:zR.bind(null,t),f_:BR.bind(null,t),g_:$R.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await uh(t)):(await t.U_.stop(),t.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,u=new Yp(e,n,a,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Nl(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Va(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.W_=new Ye(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,a,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(u=>{a.push({type:0,doc:u})}),new bo(e,n,vo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class qR{constructor(){this.queries=Jy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=pe(n),s=i.queries;i.queries=Jy(),s.forEach((a,u)=>{for(const c of u.j_)c.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function Jy(){return new Wo(t=>hw(t),nh)}async function Ww(t,e){const n=pe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new HR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const u=Xp(a,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jp(n)}async function Hw(t,e){const n=pe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QR(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const u of a.j_)u.X_(i)&&(r=!0);a.z_=i}}r&&Jp(n)}function KR(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Jp(t){t.Y_.forEach(e=>{e.next()})}var Df,Zy;(Zy=Df||(Df={})).ea="default",Zy.Cache="cache";class qw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Df.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class GR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=dw(e),this.Ra=new vo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Xy,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),k=rh(this.query,_)?_:null,O=!!E&&this.mutatedKeys.has(E.key),M=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;E&&k?E.data.isEqual(k.data)?O!==M&&(r.track({type:3,doc:k}),F=!0):this.ga(E,k)||(r.track({type:2,doc:k}),F=!0,(c&&this.Aa(k,c)>0||f&&this.Aa(k,f)<0)&&(u=!0)):!E&&k?(r.track({type:0,doc:k}),F=!0):E&&!k&&(r.track({type:1,doc:E}),F=!0,(c||f)&&(u=!0)),F&&(k?(a=a.add(k),s=M?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ra:a,fa:r,ns:u,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((g,_)=>function(k,O){const M=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return M(k)-M(O)}(g.type,_.type)||this.Aa(g.doc,_.doc)),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,f=c!==this.Ea;return this.Ea=c,a.length!==0||f?{snapshot:new bo(this.query,e.Ra,s,a,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Kw(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Qw(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class YR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XR{constructor(e){this.key=e,this.va=!1}}class JR{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Wo(u=>hw(u),nh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ye(oe.comparator),this.Na=new Map,this.La=new zp,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ZR(t,e,n=!0){const r=eE(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Gw(r,e,n,!0),i}async function ek(t,e){const n=eE(t);await Gw(n,e,!0,!1)}async function Gw(t,e,n,r){const i=await TR(t.localStore,fr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await tk(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Fw(t.remoteStore,i),u}async function tk(t,e,n,r,i){t.Ka=(_,E,k)=>async function(M,F,S,T){let R=F.view.ma(S);R.ns&&(R=await Qy(M.localStore,F.query,!1).then(({documents:A})=>F.view.ma(A,R)));const U=T&&T.targetChanges.get(F.targetId),Q=T&&T.targetMismatches.get(F.targetId)!=null,G=F.view.applyChanges(R,M.isPrimaryClient,U,Q);return t_(M,F.targetId,G.wa),G.snapshot}(t,_,E,k);const s=await Qy(t.localStore,e,!0),a=new GR(e,s.Ts),u=a.ma(s.documents),c=bl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(u,t.isPrimaryClient,c);t_(t,n,f.wa);const g=new YR(e,n,a);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function nk(t,e,n){const r=pe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!nh(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qp(r.remoteStore,i.targetId),bf(r,i.targetId)}).catch(xl)):(bf(r,i.targetId),await Nf(r.localStore,i.targetId,!0))}async function rk(t,e){const n=pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qp(n.remoteStore,r.targetId))}async function ik(t,e,n){const r=hk(t);try{const i=await function(a,u){const c=pe(a),f=et.now(),g=u.reduce((k,O)=>k.add(O.key),ve());let _,E;return c.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=Hr(),M=ve();return c.cs.getEntries(k,g).next(F=>{O=F,O.forEach((S,T)=>{T.isValidDocument()||(M=M.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(k,O)).next(F=>{_=F;const S=[];for(const T of u){const R=CP(T,_.get(T.key).overlayedDocument);R!=null&&S.push(new As(T.key,R,rw(R.value.mapValue),Fr.exists(!0)))}return c.mutationQueue.addMutationBatch(k,f,S,u)}).next(F=>{E=F;const S=F.applyToLocalDocumentSet(_,M);return c.documentOverlayCache.saveOverlays(k,F.batchId,S)})}).then(()=>({batchId:E.batchId,changes:pw(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,c){let f=a.Ba[a.currentUser.toKey()];f||(f=new Ye(Pe)),f=f.insert(u,c),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,n),await Ol(r,i.changes),await uh(r.remoteStore)}catch(i){const s=Xp(i,"Failed to persist write");n.reject(s)}}async function Yw(t,e){const n=pe(t);try{const r=await vR(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Fe(a.va):i.removedDocuments.size>0&&(Fe(a.va),a.va=!1))}),await Ol(n,r,e)}catch(r){await xl(r)}}function e_(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const u=a.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(a,u){const c=pe(a);c.onlineState=u;let f=!1;c.queries.forEach((g,_)=>{for(const E of _.j_)E.Z_(u)&&(f=!0)}),f&&Jp(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sk(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Ye(oe.comparator);a=a.insert(s,jt.newNoDocument(s,fe.min()));const u=ve().add(s),c=new oh(fe.min(),new Map,new Ye(Pe),a,u);await Yw(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Zp(r)}else await Nf(r.localStore,e,!1).then(()=>bf(r,e,n)).catch(xl)}async function ok(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await _R(n.localStore,e);Jw(n,r,null),Xw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ol(n,i)}catch(i){await xl(i)}}async function ak(t,e,n){const r=pe(t);try{const i=await function(a,u){const c=pe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return c.mutationQueue.lookupMutationBatch(f,u).next(_=>(Fe(_!==null),g=_.keys(),c.mutationQueue.removeMutationBatch(f,_))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,g,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>c.localDocuments.getDocuments(f,g))})}(r.localStore,e);Jw(r,e,n),Xw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ol(r,i)}catch(i){await xl(i)}}function Xw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Jw(t,e,n){const r=pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Zw(t,r)})}function Zw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(qp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zp(t))}function t_(t,e,n){for(const r of n)r instanceof Qw?(t.La.addReference(r.key,e),lk(t,r)):r instanceof Kw?(ie("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Zw(t,r.key)):ce()}function lk(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ie("SyncEngine","New document in limbo: "+n),t.xa.add(r),Zp(t))}function Zp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(We.fromString(e)),r=t.qa.next();t.Na.set(r,new XR(n)),t.Oa=t.Oa.insert(n,r),Fw(t.remoteStore,new mi(fr(Fp(n.path)),r,"TargetPurposeLimboResolution",Dp.oe))}}async function Ol(t,e,n){const r=pe(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{a.push(r.Ka(c,e,n).then(f=>{var g;if((f||n)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(c.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(c.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Hp.Wi(c.targetId,f);s.push(_)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(c,f){const g=pe(c);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>H.forEach(f,E=>H.forEach(E.$i,k=>g.persistence.referenceDelegate.addReference(_,E.targetId,k)).next(()=>H.forEach(E.Ui,k=>g.persistence.referenceDelegate.removeReference(_,E.targetId,k)))))}catch(_){if(!Nl(_))throw _;ie("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const E=_.targetId;if(!_.fromCache){const k=g.os.get(E),O=k.snapshotVersion,M=k.withLastLimboFreeSnapshotVersion(O);g.os=g.os.insert(E,M)}}}(r.localStore,s))}async function uk(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const r=await Vw(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(u=>{u.forEach(c=>{c.reject(new ee(z.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ol(n,r.hs)}}function ck(t,e){const n=pe(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const u=n.Fa.get(a);i=i.unionWith(u.view.Va)}return i}}function eE(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sk.bind(null,e),e.Ca.d_=QR.bind(null,e.eventManager),e.Ca.$a=KR.bind(null,e.eventManager),e}function hk(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ok.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ak.bind(null,e),e}class n_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yR(this.persistence,new mR,e.initialUser,this.serializer)}createPersistence(e){return new dR(Wp.Zr,this.serializer)}createSharedClientState(e){return new AR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>e_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uk.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qR}()}createDatastore(e){const n=ah(e.databaseInfo.databaseId),r=function(s){return new RR(s)}(e.databaseInfo);return function(s,a,u,c){return new NR(s,a,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,u){return new bR(r,i,s,a,u)}(this.localStore,this.datastore,e.asyncQueue,n=>e_(this.syncEngine,n,0),function(){return Gy.D()?new Gy:new SR}())}createSyncEngine(e,n){return function(i,s,a,u,c,f,g){const _=new JR(i,s,a,u,c,f);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=pe(i);ie("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Vl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ie("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ie("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yd(t,e){t.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Vw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mk(t);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Yy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Yy(e.remoteStore,i)),t._onlineComponents=e}function pk(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await yd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pk(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await yd(t,new n_)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await yd(t,new n_);return t._offlineComponents}async function nE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await r_(t,t._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await r_(t,new dk))),t._onlineComponents}function gk(t){return nE(t).then(e=>e.syncEngine)}async function rE(t){const e=await nE(t),n=e.eventManager;return n.onListen=ZR.bind(null,e.syncEngine),n.onUnlisten=nk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ek.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rk.bind(null,e.syncEngine),n}function yk(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const g=new tE({next:E=>{a.enqueueAndForget(()=>Hw(s,_));const k=E.docs.has(u);!k&&E.fromCache?f.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&E.fromCache&&c&&c.source==="server"?f.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),_=new qw(Fp(u.path),g,{includeMetadataChanges:!0,_a:!0});return Ww(s,_)}(await rE(t),t.asyncQueue,e,n,r)),r.promise}function _k(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,u,c,f){const g=new tE({next:E=>{a.enqueueAndForget(()=>Hw(s,_)),E.fromCache&&c.source==="server"?f.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),_=new qw(u,g,{includeMetadataChanges:!0,_a:!0});return Ww(s,_)}(await rE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vk(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function s_(t){if(!oe.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o_(t){if(oe.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ch(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OC;switch(r.type){case"firstParty":return new jC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i_.get(n);r&&(ie("ComponentProvider","Removing Datastore"),i_.delete(n),r.terminate())}(this),Promise.resolve()}}function wk(t,e,n,r={}){var i;const s=(t=Es(t,hh))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Mt.MOCK_USER;else{u=mS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Mt(f)}t._authCredentials=new LC(new Z0(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Ci extends Cs{constructor(e,n,r){super(e,n,Fp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new oe(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Vc(t,e,...n){if(t=Po(t),sE("collection","path",e),t instanceof hh){const r=We.fromString(e,...n);return o_(r),new Ci(t,null,r)}{if(!(t instanceof an||t instanceof Ci))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return o_(r),new Ci(t.firestore,null,r)}}function l_(t,e,...n){if(t=Po(t),arguments.length===1&&(e=ew.newId()),sE("doc","path",e),t instanceof hh){const r=We.fromString(e,...n);return s_(r),new an(t,null,new oe(r))}{if(!(t instanceof an||t instanceof Ci))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return s_(r),new an(t.firestore,t instanceof Ci?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Lw(this,"async_queue_retry"),this.Eu=()=>{const n=gd();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=gd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Mr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Nl(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),u}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Yp.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&ce()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class dh extends hh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Ek}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oE(this),this._firestoreClient.terminate()}}function Tk(t,e){const n=typeof t=="object"?t:IC(),r=typeof t=="string"?t:"(default)",i=vC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fS("firestore");s&&wk(i,...s)}return i}function em(t){return t._firestoreClient||oE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oE(t){var e,n,r;const i=t._freezeSettings(),s=function(u,c,f,g){return new JC(u,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iE(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new fk(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(xt.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=/^__.*__$/;class Ak{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}function lE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class im{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Oc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(lE(this.wu)&&Ik.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Sk{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}Nu(e,n,r,i=!1){return new im({wu:e,methodName:n,Ou:r,path:Ct.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new Sk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ck(t,e,n,r,i,s={}){const a=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);dE("Data must be an object, but it was:",a,r);const u=cE(r,a);let c,f;if(s.merge)c=new Qn(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const _ of s.mergeFields){const E=Rk(e,_,n);if(!a.contains(E))throw new ee(z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);xk(g,E)||g.push(E)}c=new Qn(g),f=a.fieldTransforms.filter(_=>c.covers(_.field))}else c=null,f=a.fieldTransforms;return new Ak(new Rn(u),c,f)}function Pk(t,e,n,r=!1){return sm(n,t.Nu(r?4:3,e))}function sm(t,e){if(hE(t=Po(t)))return dE("Unsupported field value:",e,t),cE(t,e);if(t instanceof aE)return function(r,i){if(!lE(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const u of r){let c=sm(u,i.Fu(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Po(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=et.fromDate(r);return{timestampValue:Dc(i.serializer,s)}}if(r instanceof et){const s=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dc(i.serializer,s)}}if(r instanceof nm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:Pw(i.serializer,r._byteString)};if(r instanceof an){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Mu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$p(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof rm)return function(a,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw u.Mu("VectorValues must only contain numeric values.");return jp(u.serializer,c)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${ch(r)}`)}(t,e)}function cE(t,e){const n={};return tw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(r,i)=>{const s=sm(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof nm||t instanceof Vo||t instanceof an||t instanceof aE||t instanceof rm)}function dE(t,e,n){if(!hE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ch(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Rk(t,e,n){if((e=Po(e))instanceof tm)return e._internalPath;if(typeof e=="string")return fE(t,e);throw Oc("Field path arguments must be of type string or ",t,!1,void 0,n)}const kk=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(kk)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oc(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new ee(z.INVALID_ARGUMENT,u+t+c)}function xk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Nk extends pE{data(){return super.data()}}function fh(t,e){return typeof e=="string"?fE(t,e):e instanceof tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class om{}class mE extends om{}function ls(t,e,...n){let r=[];e instanceof om&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof am).length,u=s.filter(c=>c instanceof ph).length;if(a>1||a>0&&u>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ph extends mE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ph(e,n,r)}_apply(e){const n=this._parse(e);return yE(e._query,n),new Cs(e.firestore,e.converter,Sf(e._query,n))}_parse(e){const n=uE(e.firestore);return function(s,a,u,c,f,g,_){let E;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){c_(_,g);const k=[];for(const O of _)k.push(u_(c,s,O));E={arrayValue:{values:k}}}else E=u_(c,s,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||c_(_,g),E=Pk(u,a,_,g==="in"||g==="not-in");return ut.create(f,g,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ya(t,e,n){const r=e,i=fh("where",t);return ph._create(i,r,n)}class am extends om{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new am(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const u=s.getFlattenedFilters();for(const c of u)yE(a,c),a=Sf(a,c)}(e._query,n),new Cs(e.firestore,e.converter,Sf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lm extends mE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lm(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tl(s,a)}(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new zo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function gE(t,e="asc"){const n=e,r=fh("orderBy",t);return lm._create(r,n)}function u_(t,e,n){if(typeof(n=Po(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cw(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!oe.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xy(t,new oe(r))}if(n instanceof an)return xy(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ch(n)}.`)}function c_(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yE(t,e){const n=function(i,s){for(const a of i)for(const u of a.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bk{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $o(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>it(a.doubleValue));return new rm(s)}convertGeoPoint(e){return new nm(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Fe(bw(r));const i=new wl(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _E extends pE{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zu extends _E{data(e={}){return super.data(e)}}class Ok{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new La(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zu(this._firestore,this._userDataWriter,r.key,r,new La(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>{const c=new Zu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new La(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const c=new Zu(i._firestore,i._userDataWriter,u.doc.key,u.doc,new La(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return u.type!==0&&(f=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),u.type!==1&&(a=a.add(u.doc),g=a.indexOf(u.doc.key)),{type:Lk(u.type),doc:c,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){t=Es(t,an);const e=Es(t.firestore,dh);return yk(em(e),t._key).then(n=>Uk(e,t,n))}class vE extends bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function um(t){t=Es(t,Cs);const e=Es(t.firestore,dh),n=em(e),r=new vE(e);return Dk(t._query),_k(n,t._query).then(i=>new Ok(e,r,t,i))}function Fk(t,e,n){t=Es(t,an);const r=Es(t.firestore,dh),i=Vk(t.converter,e);return jk(r,[Ck(uE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fr.none())])}function jk(t,e){return function(r,i){const s=new Mr;return r.asyncQueue.enqueueAndForget(async()=>ik(await gk(r),i,s)),s.promise}(em(t),e)}function Uk(t,e,n){const r=n.docs.get(e._key),i=new vE(t);return new _E(t,i,e._key,r,new La(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Bo=i})(TC),Pc(new gl("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),u=new dh(new MC(r.getProvider("auth-internal")),new BC(r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(f.options.projectId,g)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),_o(Sy,"4.7.2",e),_o(Sy,"4.7.2","esm2017")})();function Bk(t){const[e,n]=X.useState(null),[r,i]=X.useState(null),[s,a]=X.useState(null),[u,c]=X.useState(null),[f,g]=X.useState(null),[_,E]=X.useState(!1);X.useEffect(()=>{(async()=>{const Q=s==="date"?Date.parse(u):null,G=s==="date"?Date.parse(f)+864e5:null;if(Q&&G&&Q>G)return;const A=Vc(t.db,"accesshistory"),w=Ya("id","==",+r),I=Q?Ya("timestamp",">=",et.fromMillis(Q)):null,P=G?Ya("timestamp","<",et.fromMillis(G)):null,x=gE("timestamp","desc"),b=r&&s==="date"?ls(A,w,I,P,x):!r&&s==="date"?ls(A,I,P,x):r&&s!=="date"?ls(A,w,x):ls(A,x),C=await um(b);let ct=[];C.forEach(Bt=>{if(s!=="time")return ct.push(Bt.data());const[Jn,$t]=u.split(":"),[J,ae]=f.split(":"),j=Bt.data().timestamp.toDate().getUTCHours(),ke=Bt.data().timestamp.toDate().getUTCMinutes(),Ie=j*60+ke;+Jn*60+ +$t<=Ie&&Ie<=+J*60+ +ae&&ct.push(Bt.data())}),n(ct),E(!1),console.log("fetching")})().catch(Q=>console.log(Q))},[_]);const k=U=>i(U.target.value),O=U=>{i(null),document.getElementById("id").value=null,E(!0)},M=U=>{a(U.target.value),c(null),g(null),document.getElementById("end").value=null,document.getElementById("start").value=null},F=U=>c(U.target.value),S=U=>g(U.target.value),T=U=>{a(null),c(null),g(null),document.getElementById("start").value=null,document.getElementById("end").value=null;let Q=document.getElementsByName("filter-type");Q[0].checked=!1,Q[1].checked=!1,E(!0)},R=U=>E(!0);return L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"row align-items-center justify-content-center",style:{marginBottom:"1em"},children:[L.jsxs("div",{className:"col-auto",children:[L.jsxs("form",{className:"row align-items-center justify-content-center",style:{marginBottom:"0em",width:"45em"},children:[L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"id",className:"col-form-label",children:"Filter by Access ID"})}),L.jsx("div",{className:"col-auto",children:L.jsx("input",{type:"number",className:"form-control form-control-sm",id:"id",placeholder:"12345",onChange:k})}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:O,children:"Clear"})})]}),L.jsxs("form",{className:"row align-items-center justify-content-center",style:{marginBottom:"0em",width:"45em"},children:[L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"filter-type",className:"col-form-label",children:"Filter by"})}),L.jsxs("div",{className:"col-auto btn-group",role:"group",children:[L.jsx("input",{type:"radio",className:"btn-check",name:"filter-type",id:"date",value:"date",onClick:M}),L.jsx("label",{className:"btn btn-sm btn-outline-primary",htmlFor:"date",children:"Date"}),L.jsx("input",{type:"radio",className:"btn-check",name:"filter-type",id:"time",value:"time",onClick:M}),L.jsx("label",{className:"btn btn-sm btn-outline-primary",htmlFor:"time",children:"Time"})]}),L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"start",className:"col-form-label",children:"from"})}),L.jsx("div",{className:"col-md",children:L.jsx("input",{type:s,className:"form-control form-control-sm",id:"start",disabled:!s,onChange:F})}),L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"end",className:"col-form-label",children:"to"})}),L.jsx("div",{className:"col-md",children:L.jsx("input",{type:s,className:"form-control form-control-sm",id:"end",disabled:!s,onChange:S})}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{className:"btn btn-sm btn-danger",type:"button",onClick:T,children:"Clear"})})]})]}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{className:"btn btn-sm btn-primary",type:"button",onClick:R,children:"Filter"})})]}),L.jsx("div",{style:{maxHeight:"20em",overflowY:"scroll"},children:L.jsxs("table",{className:"table table-secondary table-striped table-hover",children:[L.jsxs("colgroup",{children:[L.jsx("col",{span:"1",style:{width:"18em"}}),L.jsx("col",{span:"1",style:{width:"7em"}}),L.jsx("col",{span:"1",style:{width:"14em"}}),L.jsx("col",{span:"1",style:{width:"7em"}})]}),L.jsx("thead",{className:"sticky-top table-dark",children:L.jsxs("tr",{children:[L.jsx("th",{scope:"col",children:"Timestamp"}),L.jsx("th",{scope:"col",children:"Access ID"}),L.jsx("th",{scope:"col",children:"Name"}),L.jsx("th",{scope:"col",children:"ID Type"})]})}),L.jsx("tbody",{children:e&&e.map(U=>L.jsxs("tr",{children:[L.jsx("th",{scope:"row",children:U.timestamp.toDate().toUTCString()}),L.jsx("td",{children:U.id}),L.jsx("td",{className:"text-start",children:U.name}),L.jsx("td",{children:U.type})]},U.timestamp.nanoseconds))})]})})]})}function $k(t){const[e,n]=X.useState(null);return X.useEffect(()=>{(async()=>{const i=ls(Vc(t.db,"accesspermissions"),Ya("type","!=","")),s=await um(i);let a=[];s.forEach(u=>{let c={type:u.data().type};u.data().accesstimes.forEach(f=>{c[f.day]={start:f.starttime,end:f.endtime}}),a.push(c)}),n(a),console.log("fetching")})().catch(i=>console.log(i))},[]),L.jsx(L.Fragment,{children:L.jsx("div",{style:{maxHeight:"20em",overflowY:"scroll"},children:L.jsxs("table",{className:"table table-secondary table-striped table-hover",children:[L.jsxs("colgroup",{children:[L.jsx("col",{span:"1",style:{width:"8em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}}),L.jsx("col",{span:"1",style:{width:"6em"}})]}),L.jsx("thead",{className:"sticky-top table-dark",children:L.jsxs("tr",{children:[L.jsx("th",{scope:"col",children:"Type"}),L.jsx("th",{scope:"col",children:"Sun"}),L.jsx("th",{scope:"col",children:"Mon"}),L.jsx("th",{scope:"col",children:"Tue"}),L.jsx("th",{scope:"col",children:"Wed"}),L.jsx("th",{scope:"col",children:"Thu"}),L.jsx("th",{scope:"col",children:"Fri"}),L.jsx("th",{scope:"col",children:"Sat"})]})}),L.jsx("tbody",{children:e&&e.map(r=>L.jsxs("tr",{children:[L.jsx("th",{scope:"row",children:r.type}),L.jsx("td",{children:r.sunday?r.sunday.start+" - "+r.sunday.end:"---"}),L.jsx("td",{children:r.monday?r.monday.start+" - "+r.monday.end:"---"}),L.jsx("td",{children:r.tuesday?r.tuesday.start+" - "+r.tuesday.end:"---"}),L.jsx("td",{children:r.wednesday?r.wednesday.start+" - "+r.wednesday.end:"---"}),L.jsx("td",{children:r.thursday?r.thursday.start+" - "+r.thursday.end:"---"}),L.jsx("td",{children:r.friday?r.friday.start+" - "+r.friday.end:"---"}),L.jsx("td",{children:r.saturday?r.saturday.start+" - "+r.saturday.end:"---"})]},r.type))})]})})})}function zk(t){const[e,n]=X.useState(null),[r,i]=X.useState(null),[s,a]=X.useState("");return X.useEffect(()=>{(async()=>{const c=r?ls(Vc(t.db,"user"),Ya("id","==",+r)):ls(Vc(t.db,"user"),gE("id")),f=await um(c);let g=[];f.forEach(_=>g.push(_.data())),n(g),console.log("fetching")})().catch(c=>console.log(c))},[r]),L.jsxs(L.Fragment,{children:[L.jsxs("form",{className:"row align-items-center justify-content-center",style:{marginBottom:"1em"},children:[L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"id",className:"col-form-label",children:"Filter by Access ID"})}),L.jsx("div",{className:"col-auto",children:L.jsx("input",{type:"number",className:"form-control",id:"id",placeholder:"12345",onChange:u=>a(u.target.value)})}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{className:"btn btn-primary",type:"button",onClick:()=>i(s),children:"Filter"})}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{className:"btn btn-danger",type:"button",onClick:()=>{i(null),a(null),document.getElementById("id").value=""},children:"Clear"})})]}),L.jsx("div",{style:{maxHeight:"20em",overflowY:"scroll"},children:L.jsxs("table",{className:"table table-secondary table-striped table-hover",children:[L.jsxs("colgroup",{children:[L.jsx("col",{span:"1",style:{width:"7em"}}),L.jsx("col",{span:"1",style:{width:"20em"}}),L.jsx("col",{span:"1",style:{width:"7em"}}),L.jsx("col",{span:"1",style:{width:"7em"}})]}),L.jsx("thead",{className:"sticky-top table-dark",children:L.jsxs("tr",{children:[L.jsx("th",{scope:"col",children:"Access ID"}),L.jsx("th",{scope:"col",children:"Name"}),L.jsx("th",{scope:"col",children:"ID Type"}),L.jsx("th",{scope:"col",children:"ID Status"})]})}),L.jsx("tbody",{children:e&&e.map(u=>L.jsxs("tr",{children:[L.jsx("th",{scope:"row",children:u.id}),L.jsx("td",{className:"text-start",children:u.name}),L.jsx("td",{children:u.type}),L.jsx("td",{children:u.status})]},u.id))})]})})]})}function Wk(t){const e=t.db,[n,r]=X.useState("accesshistory");function i(s){return"btn btn-outline-light"+(n===s?" active":"")}return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"admin-head",children:L.jsxs("div",{className:"btn-group",role:"group","aria-label":"Table nav",children:[L.jsx("button",{type:"button",className:i("accesshistory"),onClick:()=>r("accesshistory"),children:"Access history"}),L.jsx("button",{type:"button",className:i("userlist"),onClick:()=>r("userlist"),children:"User list"}),L.jsx("button",{type:"button",className:i("accesspermissions"),onClick:()=>r("accesspermissions"),children:"Access permissions"})]})}),n==="accesshistory"?L.jsx(Bk,{db:e}):n==="userlist"?L.jsx(zk,{db:e}):n==="accesspermissions"?L.jsx($k,{db:e}):L.jsx(L.Fragment,{})]})}function Hk(t){const[e,n]=X.useState(!1),[r,i]=X.useState(null),[s,a]=X.useState(null),[u,c]=X.useState(null),[f,g]=X.useState(!1);X.useEffect(()=>{r&&(async()=>{const k=r;i(null);const O=await Mk(l_(t.db,"user",""+k));if(!O.exists())return c("Invalid ID");if(O.data().status!=="active")return c("ID is deactivated");g(!0),Fk(l_(t.db,"accesshistory",""+Date.now()),{timestamp:et.fromMillis(Date.now()),id:+k,name:O.data().name,type:O.data().type}),setTimeout(()=>g(!1),3e3)})(),n(!1)},[r,e]);const _=()=>{if(n(!0),!s){n(!1),c("ID cannot be empty");return}i(s)};return L.jsxs(L.Fragment,{children:[L.jsxs("form",{className:"row align-items-center",style:{marginTop:"2em"},children:[L.jsx("div",{className:"col-auto",children:L.jsx("label",{htmlFor:"id",className:"col-form-label fs-4",children:"Access ID"})}),L.jsx("div",{className:"col-auto",children:L.jsx("input",{type:"number",className:"form-control form-control-lg",id:"id",placeholder:"12345",onChange:E=>{a(E.target.value),u&&c(null)}})}),L.jsx("div",{className:"col-auto",children:L.jsx("button",{type:"button",className:"btn btn-lg btn-primary",onClick:_,children:"Confirm"})})]}),L.jsx("div",{className:"alert fs-4 alert-"+(u?"danger fw-bold":"success"),style:{marginTop:"1em",marginBottom:0,visibility:u||f?"visible":"hidden"},"data-bs-theme":"dark",role:"alert",children:u??"Welcome to SUN Lab"})]})}function qk(){const t=b0();return L.jsx("button",{className:"btn btn-secondary",onClick:()=>t("/admin"),children:"Admin functions"})}function Qk(){const t=b0();return L.jsx("button",{className:"btn btn-secondary",onClick:()=>t("/"),children:"Back to login"})}function Kk(){const e=z0({apiKey:"AIzaSyB8Dsi7_0KMQuG-I51zDwyY7UWQylLH0aM",authDomain:"jxl6891cs487wpj1.firebaseapp.com",projectId:"jxl6891cs487wpj1",storageBucket:"jxl6891cs487wpj1.appspot.com",messagingSenderId:"563448018929",appId:"1:563448018929:web:bc611f1b949100a8b43650",measurementId:"G-3685CG9J53"}),n=Tk(e),r=L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"mid",children:L.jsx(Hk,{db:n})}),L.jsx("div",{className:"end",children:L.jsx(qk,{})})]}),i=L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"mid",children:L.jsx(Wk,{db:n})}),L.jsx("div",{className:"end",children:L.jsx(Qk,{})})]});return L.jsx(L.Fragment,{children:L.jsxs("div",{className:"window",children:[L.jsx("div",{className:"head",children:L.jsx("h3",{className:"display-5",children:"SUN Lab Access"})}),L.jsx(rS,{basename:"/487proj1",children:L.jsxs(eS,{children:[L.jsx(df,{index:!0,element:r}),L.jsx(df,{path:"/admin",element:i})]})})]})})}var Gk={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r()})(L1,function(){const n=new Map,r={set(m,l,d){n.has(m)||n.set(m,new Map);const y=n.get(m);y.has(l)||y.size===0?y.set(l,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(m,l)=>n.has(m)&&n.get(m).get(l)||null,remove(m,l){if(!n.has(m))return;const d=n.get(m);d.delete(l),d.size===0&&n.delete(m)}},i="transitionend",s=m=>(m&&window.CSS&&window.CSS.escape&&(m=m.replace(/#([^\s"#']+)/g,(l,d)=>`#${CSS.escape(d)}`)),m),a=m=>{m.dispatchEvent(new Event(i))},u=m=>!(!m||typeof m!="object")&&(m.jquery!==void 0&&(m=m[0]),m.nodeType!==void 0),c=m=>u(m)?m.jquery?m[0]:m:typeof m=="string"&&m.length>0?document.querySelector(s(m)):null,f=m=>{if(!u(m)||m.getClientRects().length===0)return!1;const l=getComputedStyle(m).getPropertyValue("visibility")==="visible",d=m.closest("details:not([open])");if(!d)return l;if(d!==m){const y=m.closest("summary");if(y&&y.parentNode!==d||y===null)return!1}return l},g=m=>!m||m.nodeType!==Node.ELEMENT_NODE||!!m.classList.contains("disabled")||(m.disabled!==void 0?m.disabled:m.hasAttribute("disabled")&&m.getAttribute("disabled")!=="false"),_=m=>{if(!document.documentElement.attachShadow)return null;if(typeof m.getRootNode=="function"){const l=m.getRootNode();return l instanceof ShadowRoot?l:null}return m instanceof ShadowRoot?m:m.parentNode?_(m.parentNode):null},E=()=>{},k=m=>{m.offsetHeight},O=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,M=[],F=()=>document.documentElement.dir==="rtl",S=m=>{var l;l=()=>{const d=O();if(d){const y=m.NAME,N=d.fn[y];d.fn[y]=m.jQueryInterface,d.fn[y].Constructor=m,d.fn[y].noConflict=()=>(d.fn[y]=N,m.jQueryInterface)}},document.readyState==="loading"?(M.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of M)d()}),M.push(l)):l()},T=(m,l=[],d=m)=>typeof m=="function"?m(...l):d,R=(m,l,d=!0)=>{if(!d)return void T(m);const y=($=>{if(!$)return 0;let{transitionDuration:W,transitionDelay:Y}=window.getComputedStyle($);const te=Number.parseFloat(W),re=Number.parseFloat(Y);return te||re?(W=W.split(",")[0],Y=Y.split(",")[0],1e3*(Number.parseFloat(W)+Number.parseFloat(Y))):0})(l)+5;let N=!1;const D=({target:$})=>{$===l&&(N=!0,l.removeEventListener(i,D),T(m))};l.addEventListener(i,D),setTimeout(()=>{N||a(l)},y)},U=(m,l,d,y)=>{const N=m.length;let D=m.indexOf(l);return D===-1?!d&&y?m[N-1]:m[0]:(D+=d?1:-1,y&&(D=(D+N)%N),m[Math.max(0,Math.min(D,N-1))])},Q=/[^.]*(?=\..*)\.|.*/,G=/\..*/,A=/::\d+$/,w={};let I=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},x=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function b(m,l){return l&&`${l}::${I++}`||m.uidEvent||I++}function C(m){const l=b(m);return m.uidEvent=l,w[l]=w[l]||{},w[l]}function ct(m,l,d=null){return Object.values(m).find(y=>y.callable===l&&y.delegationSelector===d)}function Bt(m,l,d){const y=typeof l=="string",N=y?d:l||d;let D=ae(m);return x.has(D)||(D=m),[y,N,D]}function Jn(m,l,d,y,N){if(typeof l!="string"||!m)return;let[D,$,W]=Bt(l,d,y);l in P&&($=(he=>function(ue){if(!ue.relatedTarget||ue.relatedTarget!==ue.delegateTarget&&!ue.delegateTarget.contains(ue.relatedTarget))return he.call(this,ue)})($));const Y=C(m),te=Y[W]||(Y[W]={}),re=ct(te,$,D?d:null);if(re)return void(re.oneOff=re.oneOff&&N);const Z=b($,l.replace(Q,"")),me=D?function(le,he,ue){return function de(Oe){const Ue=le.querySelectorAll(he);for(let{target:ye}=Oe;ye&&ye!==this;ye=ye.parentNode)for(const Re of Ue)if(Re===ye)return ke(Oe,{delegateTarget:ye}),de.oneOff&&j.off(le,Oe.type,he,ue),ue.apply(ye,[Oe])}}(m,d,$):function(le,he){return function ue(de){return ke(de,{delegateTarget:le}),ue.oneOff&&j.off(le,de.type,he),he.apply(le,[de])}}(m,$);me.delegationSelector=D?d:null,me.callable=$,me.oneOff=N,me.uidEvent=Z,te[Z]=me,m.addEventListener(W,me,D)}function $t(m,l,d,y,N){const D=ct(l[d],y,N);D&&(m.removeEventListener(d,D,!!N),delete l[d][D.uidEvent])}function J(m,l,d,y){const N=l[d]||{};for(const[D,$]of Object.entries(N))D.includes(y)&&$t(m,l,d,$.callable,$.delegationSelector)}function ae(m){return m=m.replace(G,""),P[m]||m}const j={on(m,l,d,y){Jn(m,l,d,y,!1)},one(m,l,d,y){Jn(m,l,d,y,!0)},off(m,l,d,y){if(typeof l!="string"||!m)return;const[N,D,$]=Bt(l,d,y),W=$!==l,Y=C(m),te=Y[$]||{},re=l.startsWith(".");if(D===void 0){if(re)for(const Z of Object.keys(Y))J(m,Y,Z,l.slice(1));for(const[Z,me]of Object.entries(te)){const le=Z.replace(A,"");W&&!l.includes(le)||$t(m,Y,$,me.callable,me.delegationSelector)}}else{if(!Object.keys(te).length)return;$t(m,Y,$,D,N?d:null)}},trigger(m,l,d){if(typeof l!="string"||!m)return null;const y=O();let N=null,D=!0,$=!0,W=!1;l!==ae(l)&&y&&(N=y.Event(l,d),y(m).trigger(N),D=!N.isPropagationStopped(),$=!N.isImmediatePropagationStopped(),W=N.isDefaultPrevented());const Y=ke(new Event(l,{bubbles:D,cancelable:!0}),d);return W&&Y.preventDefault(),$&&m.dispatchEvent(Y),Y.defaultPrevented&&N&&N.preventDefault(),Y}};function ke(m,l={}){for(const[d,y]of Object.entries(l))try{m[d]=y}catch{Object.defineProperty(m,d,{configurable:!0,get:()=>y})}return m}function Ie(m){if(m==="true")return!0;if(m==="false")return!1;if(m===Number(m).toString())return Number(m);if(m===""||m==="null")return null;if(typeof m!="string")return m;try{return JSON.parse(decodeURIComponent(m))}catch{return m}}function $e(m){return m.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const ht={setDataAttribute(m,l,d){m.setAttribute(`data-bs-${$e(l)}`,d)},removeDataAttribute(m,l){m.removeAttribute(`data-bs-${$e(l)}`)},getDataAttributes(m){if(!m)return{};const l={},d=Object.keys(m.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of d){let N=y.replace(/^bs/,"");N=N.charAt(0).toLowerCase()+N.slice(1,N.length),l[N]=Ie(m.dataset[y])}return l},getDataAttribute:(m,l)=>Ie(m.getAttribute(`data-bs-${$e(l)}`))};class zt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,d){const y=u(d)?ht.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...u(d)?ht.getDataAttributes(d):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,d=this.constructor.DefaultType){for(const[N,D]of Object.entries(d)){const $=l[N],W=u($)?"element":(y=$)==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(D).test(W))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${N}" provided type "${W}" but expected type "${D}".`)}var y}}class tt extends zt{constructor(l,d){super(),(l=c(l))&&(this._element=l,this._config=this._getConfig(d),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,d,y=!0){R(l,d,y)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return r.get(c(l),this.DATA_KEY)}static getOrCreateInstance(l,d={}){return this.getInstance(l)||new this(l,typeof d=="object"?d:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ln=m=>{let l=m.getAttribute("data-bs-target");if(!l||l==="#"){let d=m.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),l=d&&d!=="#"?d.trim():null}return l?l.split(",").map(d=>s(d)).join(","):null},se={find:(m,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,m)),findOne:(m,l=document.documentElement)=>Element.prototype.querySelector.call(l,m),children:(m,l)=>[].concat(...m.children).filter(d=>d.matches(l)),parents(m,l){const d=[];let y=m.parentNode.closest(l);for(;y;)d.push(y),y=y.parentNode.closest(l);return d},prev(m,l){let d=m.previousElementSibling;for(;d;){if(d.matches(l))return[d];d=d.previousElementSibling}return[]},next(m,l){let d=m.nextElementSibling;for(;d;){if(d.matches(l))return[d];d=d.nextElementSibling}return[]},focusableChildren(m){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(l,m).filter(d=>!g(d)&&f(d))},getSelectorFromElement(m){const l=ln(m);return l&&se.findOne(l)?l:null},getElementFromSelector(m){const l=ln(m);return l?se.findOne(l):null},getMultipleElementsFromSelector(m){const l=ln(m);return l?se.find(l):[]}},Ps=(m,l="hide")=>{const d=`click.dismiss${m.EVENT_KEY}`,y=m.NAME;j.on(document,d,`[data-bs-dismiss="${y}"]`,function(N){if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),g(this))return;const D=se.getElementFromSelector(this)||this.closest(`.${y}`);m.getOrCreateInstance(D)[l]()})},Oi=".bs.alert",Rs=`close${Oi}`,qo=`closed${Oi}`;class gr extends tt{static get NAME(){return"alert"}close(){if(j.trigger(this._element,Rs).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),j.trigger(this._element,qo),this.dispose()}static jQueryInterface(l){return this.each(function(){const d=gr.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}Ps(gr,"close"),S(gr);const ks='[data-bs-toggle="button"]';class yr extends tt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const d=yr.getOrCreateInstance(this);l==="toggle"&&d[l]()})}}j.on(document,"click.bs.button.data-api",ks,m=>{m.preventDefault();const l=m.target.closest(ks);yr.getOrCreateInstance(l).toggle()}),S(yr);const _r=".bs.swipe",mh=`touchstart${_r}`,gh=`touchmove${_r}`,Ll=`touchend${_r}`,Qo=`pointerdown${_r}`,Ml=`pointerup${_r}`,yh={endCallback:null,leftCallback:null,rightCallback:null},Ko={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qr extends zt{constructor(l,d){super(),this._element=l,l&&Qr.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return yh}static get DefaultType(){return Ko}static get NAME(){return"swipe"}dispose(){j.off(this._element,_r)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),T(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const d=l/this._deltaX;this._deltaX=0,d&&T(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,Qo,l=>this._start(l)),j.on(this._element,Ml,l=>this._end(l)),this._element.classList.add("pointer-event")):(j.on(this._element,mh,l=>this._start(l)),j.on(this._element,gh,l=>this._move(l)),j.on(this._element,Ll,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const bn=".bs.carousel",dt=".data-api",nt="next",Vn="prev",vr="left",Li="right",_h=`slide${bn}`,wr=`slid${bn}`,Fl=`keydown${bn}`,jl=`mouseenter${bn}`,Go=`mouseleave${bn}`,vh=`dragstart${bn}`,wh=`load${bn}${dt}`,Yo=`click${bn}${dt}`,Xo="carousel",Mi="active",Kr=".active",xs=".carousel-item",Jo=Kr+xs,Er={ArrowLeft:Li,ArrowRight:vr},Ul={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ns={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Tr extends tt{constructor(l,d){super(l,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=se.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Xo&&this.cycle()}static get Default(){return Ul}static get DefaultType(){return Ns}static get NAME(){return"carousel"}next(){this._slide(nt)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(Vn)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?j.one(this._element,wr,()=>this.cycle()):this.cycle())}to(l){const d=this._getItems();if(l>d.length-1||l<0)return;if(this._isSliding)return void j.one(this._element,wr,()=>this.to(l));const y=this._getItemIndex(this._getActive());if(y===l)return;const N=l>y?nt:Vn;this._slide(N,d[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&j.on(this._element,Fl,l=>this._keydown(l)),this._config.pause==="hover"&&(j.on(this._element,jl,()=>this.pause()),j.on(this._element,Go,()=>this._maybeEnableCycle())),this._config.touch&&Qr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of se.find(".carousel-item img",this._element))j.on(d,vh,y=>y.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(vr)),rightCallback:()=>this._slide(this._directionToOrder(Li)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Qr(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const d=Er[l.key];d&&(l.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const d=se.findOne(Kr,this._indicatorsElement);d.classList.remove(Mi),d.removeAttribute("aria-current");const y=se.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);y&&(y.classList.add(Mi),y.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const d=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(l,d=null){if(this._isSliding)return;const y=this._getActive(),N=l===nt,D=d||U(this._getItems(),y,N,this._config.wrap);if(D===y)return;const $=this._getItemIndex(D),W=Z=>j.trigger(this._element,Z,{relatedTarget:D,direction:this._orderToDirection(l),from:this._getItemIndex(y),to:$});if(W(_h).defaultPrevented||!y||!D)return;const Y=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement($),this._activeElement=D;const te=N?"carousel-item-start":"carousel-item-end",re=N?"carousel-item-next":"carousel-item-prev";D.classList.add(re),k(D),y.classList.add(te),D.classList.add(te),this._queueCallback(()=>{D.classList.remove(te,re),D.classList.add(Mi),y.classList.remove(Mi,re,te),this._isSliding=!1,W(wr)},y,this._isAnimated()),Y&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return se.findOne(Jo,this._element)}_getItems(){return se.find(xs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return F()?l===vr?Vn:nt:l===vr?nt:Vn}_orderToDirection(l){return F()?l===Vn?vr:Li:l===Vn?Li:vr}static jQueryInterface(l){return this.each(function(){const d=Tr.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}}else d.to(l)})}}j.on(document,Yo,"[data-bs-slide], [data-bs-slide-to]",function(m){const l=se.getElementFromSelector(this);if(!l||!l.classList.contains(Xo))return;m.preventDefault();const d=Tr.getOrCreateInstance(l),y=this.getAttribute("data-bs-slide-to");return y?(d.to(y),void d._maybeEnableCycle()):ht.getDataAttribute(this,"slide")==="next"?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),j.on(window,wh,()=>{const m=se.find('[data-bs-ride="carousel"]');for(const l of m)Tr.getOrCreateInstance(l)}),S(Tr);const On=".bs.collapse",Bl=`show${On}`,It=`shown${On}`,$l=`hide${On}`,Fi=`hidden${On}`,ji=`click${On}.data-api`,Zo="show",Gr="collapse",Ln="collapsing",Eh=`:scope .${Gr} .${Gr}`,ea='[data-bs-toggle="collapse"]',Ds={parent:null,toggle:!0},zl={parent:"(null|element)",toggle:"boolean"};class Zn extends tt{constructor(l,d){super(l,d),this._isTransitioning=!1,this._triggerArray=[];const y=se.find(ea);for(const N of y){const D=se.getSelectorFromElement(N),$=se.find(D).filter(W=>W===this._element);D!==null&&$.length&&this._triggerArray.push(N)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ds}static get DefaultType(){return zl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(N=>N!==this._element).map(N=>Zn.getOrCreateInstance(N,{toggle:!1}))),l.length&&l[0]._isTransitioning||j.trigger(this._element,Bl).defaultPrevented)return;for(const N of l)N.hide();const d=this._getDimension();this._element.classList.remove(Gr),this._element.classList.add(Ln),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ln),this._element.classList.add(Gr,Zo),this._element.style[d]="",j.trigger(this._element,It)},this._element,!0),this._element.style[d]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,$l).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,k(this._element),this._element.classList.add(Ln),this._element.classList.remove(Gr,Zo);for(const d of this._triggerArray){const y=se.getElementFromSelector(d);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Ln),this._element.classList.add(Gr),j.trigger(this._element,Fi)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Zo)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=c(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(ea);for(const d of l){const y=se.getElementFromSelector(d);y&&this._addAriaAndCollapsedClass([d],this._isShown(y))}}_getFirstLevelChildren(l){const d=se.find(Eh,this._config.parent);return se.find(l,this._config.parent).filter(y=>!d.includes(y))}_addAriaAndCollapsedClass(l,d){if(l.length)for(const y of l)y.classList.toggle("collapsed",!d),y.setAttribute("aria-expanded",d)}static jQueryInterface(l){const d={};return typeof l=="string"&&/show|hide/.test(l)&&(d.toggle=!1),this.each(function(){const y=Zn.getOrCreateInstance(this,d);if(typeof l=="string"){if(y[l]===void 0)throw new TypeError(`No method named "${l}"`);y[l]()}})}}j.on(document,ji,ea,function(m){(m.target.tagName==="A"||m.delegateTarget&&m.delegateTarget.tagName==="A")&&m.preventDefault();for(const l of se.getMultipleElementsFromSelector(this))Zn.getOrCreateInstance(l,{toggle:!1}).toggle()}),S(Zn);var ot="top",Xe="bottom",Nt="right",_t="left",Yr="auto",er=[ot,Xe,Nt,_t],tr="start",Ir="end",Wl="clippingParents",Xr="viewport",Ar="popper",bs="reference",Sr=er.reduce(function(m,l){return m.concat([l+"-"+tr,l+"-"+Ir])},[]),Mn=[].concat(er,[Yr]).reduce(function(m,l){return m.concat([l,l+"-"+tr,l+"-"+Ir])},[]),Vs="beforeRead",Hl="read",ta="afterRead",na="beforeMain",ra="main",Os="afterMain",Ls="beforeWrite",ia="write",sa="afterWrite",ql=[Vs,Hl,ta,na,ra,Os,Ls,ia,sa];function yn(m){return m?(m.nodeName||"").toLowerCase():null}function Dt(m){if(m==null)return window;if(m.toString()!=="[object Window]"){var l=m.ownerDocument;return l&&l.defaultView||window}return m}function nr(m){return m instanceof Dt(m).Element||m instanceof Element}function Xt(m){return m instanceof Dt(m).HTMLElement||m instanceof HTMLElement}function Fn(m){return typeof ShadowRoot<"u"&&(m instanceof Dt(m).ShadowRoot||m instanceof ShadowRoot)}const un={name:"applyStyles",enabled:!0,phase:"write",fn:function(m){var l=m.state;Object.keys(l.elements).forEach(function(d){var y=l.styles[d]||{},N=l.attributes[d]||{},D=l.elements[d];Xt(D)&&yn(D)&&(Object.assign(D.style,y),Object.keys(N).forEach(function($){var W=N[$];W===!1?D.removeAttribute($):D.setAttribute($,W===!0?"":W)}))})},effect:function(m){var l=m.state,d={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,d.popper),l.styles=d,l.elements.arrow&&Object.assign(l.elements.arrow.style,d.arrow),function(){Object.keys(l.elements).forEach(function(y){var N=l.elements[y],D=l.attributes[y]||{},$=Object.keys(l.styles.hasOwnProperty(y)?l.styles[y]:d[y]).reduce(function(W,Y){return W[Y]="",W},{});Xt(N)&&yn(N)&&(Object.assign(N.style,$),Object.keys(D).forEach(function(W){N.removeAttribute(W)}))})}},requires:["computeStyles"]};function Wt(m){return m.split("-")[0]}var _n=Math.max,Ui=Math.min,Ce=Math.round;function Jr(){var m=navigator.userAgentData;return m!=null&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Zr(){return!/^((?!chrome|android).)*safari/i.test(Jr())}function vn(m,l,d){l===void 0&&(l=!1),d===void 0&&(d=!1);var y=m.getBoundingClientRect(),N=1,D=1;l&&Xt(m)&&(N=m.offsetWidth>0&&Ce(y.width)/m.offsetWidth||1,D=m.offsetHeight>0&&Ce(y.height)/m.offsetHeight||1);var $=(nr(m)?Dt(m):window).visualViewport,W=!Zr()&&d,Y=(y.left+(W&&$?$.offsetLeft:0))/N,te=(y.top+(W&&$?$.offsetTop:0))/D,re=y.width/N,Z=y.height/D;return{width:re,height:Z,top:te,right:Y+re,bottom:te+Z,left:Y,x:Y,y:te}}function oa(m){var l=vn(m),d=m.offsetWidth,y=m.offsetHeight;return Math.abs(l.width-d)<=1&&(d=l.width),Math.abs(l.height-y)<=1&&(y=l.height),{x:m.offsetLeft,y:m.offsetTop,width:d,height:y}}function aa(m,l){var d=l.getRootNode&&l.getRootNode();if(m.contains(l))return!0;if(d&&Fn(d)){var y=l;do{if(y&&m.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function jn(m){return Dt(m).getComputedStyle(m)}function Th(m){return["table","td","th"].indexOf(yn(m))>=0}function rr(m){return((nr(m)?m.ownerDocument:m.document)||window.document).documentElement}function Ms(m){return yn(m)==="html"?m:m.assignedSlot||m.parentNode||(Fn(m)?m.host:null)||rr(m)}function ei(m){return Xt(m)&&jn(m).position!=="fixed"?m.offsetParent:null}function Jt(m){for(var l=Dt(m),d=ei(m);d&&Th(d)&&jn(d).position==="static";)d=ei(d);return d&&(yn(d)==="html"||yn(d)==="body"&&jn(d).position==="static")?l:d||function(y){var N=/firefox/i.test(Jr());if(/Trident/i.test(Jr())&&Xt(y)&&jn(y).position==="fixed")return null;var D=Ms(y);for(Fn(D)&&(D=D.host);Xt(D)&&["html","body"].indexOf(yn(D))<0;){var $=jn(D);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||N&&$.willChange==="filter"||N&&$.filter&&$.filter!=="none")return D;D=D.parentNode}return null}(m)||l}function Fs(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function ti(m,l,d){return _n(m,Ui(l,d))}function la(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function Cr(m,l){return l.reduce(function(d,y){return d[y]=m,d},{})}const Ql={name:"arrow",enabled:!0,phase:"main",fn:function(m){var l,d=m.state,y=m.name,N=m.options,D=d.elements.arrow,$=d.modifiersData.popperOffsets,W=Wt(d.placement),Y=Fs(W),te=[_t,Nt].indexOf(W)>=0?"height":"width";if(D&&$){var re=function(Le,De){return la(typeof(Le=typeof Le=="function"?Le(Object.assign({},De.rects,{placement:De.placement})):Le)!="number"?Le:Cr(Le,er))}(N.padding,d),Z=oa(D),me=Y==="y"?ot:_t,le=Y==="y"?Xe:Nt,he=d.rects.reference[te]+d.rects.reference[Y]-$[Y]-d.rects.popper[te],ue=$[Y]-d.rects.reference[Y],de=Jt(D),Oe=de?Y==="y"?de.clientHeight||0:de.clientWidth||0:0,Ue=he/2-ue/2,ye=re[me],Re=Oe-Z[te]-re[le],ge=Oe/2-Z[te]/2+Ue,we=ti(ye,ge,Re),Ne=Y;d.modifiersData[y]=((l={})[Ne]=we,l.centerOffset=we-ge,l)}},effect:function(m){var l=m.state,d=m.options.element,y=d===void 0?"[data-popper-arrow]":d;y!=null&&(typeof y!="string"||(y=l.elements.popper.querySelector(y)))&&aa(l.elements.popper,y)&&(l.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ni(m){return m.split("-")[1]}var Ih={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Un(m){var l,d=m.popper,y=m.popperRect,N=m.placement,D=m.variation,$=m.offsets,W=m.position,Y=m.gpuAcceleration,te=m.adaptive,re=m.roundOffsets,Z=m.isFixed,me=$.x,le=me===void 0?0:me,he=$.y,ue=he===void 0?0:he,de=typeof re=="function"?re({x:le,y:ue}):{x:le,y:ue};le=de.x,ue=de.y;var Oe=$.hasOwnProperty("x"),Ue=$.hasOwnProperty("y"),ye=_t,Re=ot,ge=window;if(te){var we=Jt(d),Ne="clientHeight",Le="clientWidth";we===Dt(d)&&jn(we=rr(d)).position!=="static"&&W==="absolute"&&(Ne="scrollHeight",Le="scrollWidth"),(N===ot||(N===_t||N===Nt)&&D===Ir)&&(Re=Xe,ue-=(Z&&we===ge&&ge.visualViewport?ge.visualViewport.height:we[Ne])-y.height,ue*=Y?1:-1),N!==_t&&(N!==ot&&N!==Xe||D!==Ir)||(ye=Nt,le-=(Z&&we===ge&&ge.visualViewport?ge.visualViewport.width:we[Le])-y.width,le*=Y?1:-1)}var De,rt=Object.assign({position:W},te&&Ih),cn=re===!0?function($n,Ht){var In=$n.x,An=$n.y,Je=Ht.devicePixelRatio||1;return{x:Ce(In*Je)/Je||0,y:Ce(An*Je)/Je||0}}({x:le,y:ue},Dt(d)):{x:le,y:ue};return le=cn.x,ue=cn.y,Y?Object.assign({},rt,((De={})[Re]=Ue?"0":"",De[ye]=Oe?"0":"",De.transform=(ge.devicePixelRatio||1)<=1?"translate("+le+"px, "+ue+"px)":"translate3d("+le+"px, "+ue+"px, 0)",De)):Object.assign({},rt,((l={})[Re]=Ue?ue+"px":"",l[ye]=Oe?le+"px":"",l.transform="",l))}const ua={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(m){var l=m.state,d=m.options,y=d.gpuAcceleration,N=y===void 0||y,D=d.adaptive,$=D===void 0||D,W=d.roundOffsets,Y=W===void 0||W,te={placement:Wt(l.placement),variation:ni(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:N,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,Un(Object.assign({},te,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:$,roundOffsets:Y})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,Un(Object.assign({},te,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Y})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var js={passive:!0};const Pr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(m){var l=m.state,d=m.instance,y=m.options,N=y.scroll,D=N===void 0||N,$=y.resize,W=$===void 0||$,Y=Dt(l.elements.popper),te=[].concat(l.scrollParents.reference,l.scrollParents.popper);return D&&te.forEach(function(re){re.addEventListener("scroll",d.update,js)}),W&&Y.addEventListener("resize",d.update,js),function(){D&&te.forEach(function(re){re.removeEventListener("scroll",d.update,js)}),W&&Y.removeEventListener("resize",d.update,js)}},data:{}};var Us={left:"right",right:"left",bottom:"top",top:"bottom"};function Bi(m){return m.replace(/left|right|bottom|top/g,function(l){return Us[l]})}var $i={start:"end",end:"start"};function ri(m){return m.replace(/start|end/g,function(l){return $i[l]})}function Bs(m){var l=Dt(m);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function zi(m){return vn(rr(m)).left+Bs(m).scrollLeft}function je(m){var l=jn(m),d=l.overflow,y=l.overflowX,N=l.overflowY;return/auto|scroll|overlay|hidden/.test(d+N+y)}function Kl(m){return["html","body","#document"].indexOf(yn(m))>=0?m.ownerDocument.body:Xt(m)&&je(m)?m:Kl(Ms(m))}function Wi(m,l){var d;l===void 0&&(l=[]);var y=Kl(m),N=y===((d=m.ownerDocument)==null?void 0:d.body),D=Dt(y),$=N?[D].concat(D.visualViewport||[],je(y)?y:[]):y,W=l.concat($);return N?W:W.concat(Wi(Ms($)))}function $s(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function ca(m,l,d){return l===Xr?$s(function(y,N){var D=Dt(y),$=rr(y),W=D.visualViewport,Y=$.clientWidth,te=$.clientHeight,re=0,Z=0;if(W){Y=W.width,te=W.height;var me=Zr();(me||!me&&N==="fixed")&&(re=W.offsetLeft,Z=W.offsetTop)}return{width:Y,height:te,x:re+zi(y),y:Z}}(m,d)):nr(l)?function(y,N){var D=vn(y,!1,N==="fixed");return D.top=D.top+y.clientTop,D.left=D.left+y.clientLeft,D.bottom=D.top+y.clientHeight,D.right=D.left+y.clientWidth,D.width=y.clientWidth,D.height=y.clientHeight,D.x=D.left,D.y=D.top,D}(l,d):$s(function(y){var N,D=rr(y),$=Bs(y),W=(N=y.ownerDocument)==null?void 0:N.body,Y=_n(D.scrollWidth,D.clientWidth,W?W.scrollWidth:0,W?W.clientWidth:0),te=_n(D.scrollHeight,D.clientHeight,W?W.scrollHeight:0,W?W.clientHeight:0),re=-$.scrollLeft+zi(y),Z=-$.scrollTop;return jn(W||D).direction==="rtl"&&(re+=_n(D.clientWidth,W?W.clientWidth:0)-Y),{width:Y,height:te,x:re,y:Z}}(rr(m)))}function ha(m){var l,d=m.reference,y=m.element,N=m.placement,D=N?Wt(N):null,$=N?ni(N):null,W=d.x+d.width/2-y.width/2,Y=d.y+d.height/2-y.height/2;switch(D){case ot:l={x:W,y:d.y-y.height};break;case Xe:l={x:W,y:d.y+d.height};break;case Nt:l={x:d.x+d.width,y:Y};break;case _t:l={x:d.x-y.width,y:Y};break;default:l={x:d.x,y:d.y}}var te=D?Fs(D):null;if(te!=null){var re=te==="y"?"height":"width";switch($){case tr:l[te]=l[te]-(d[re]/2-y[re]/2);break;case Ir:l[te]=l[te]+(d[re]/2-y[re]/2)}}return l}function Bn(m,l){l===void 0&&(l={});var d=l,y=d.placement,N=y===void 0?m.placement:y,D=d.strategy,$=D===void 0?m.strategy:D,W=d.boundary,Y=W===void 0?Wl:W,te=d.rootBoundary,re=te===void 0?Xr:te,Z=d.elementContext,me=Z===void 0?Ar:Z,le=d.altBoundary,he=le!==void 0&&le,ue=d.padding,de=ue===void 0?0:ue,Oe=la(typeof de!="number"?de:Cr(de,er)),Ue=me===Ar?bs:Ar,ye=m.rects.popper,Re=m.elements[he?Ue:me],ge=function(Ht,In,An,Je){var or=In==="clippingParents"?function(Me){var qt=Wi(Ms(Me)),Sn=["absolute","fixed"].indexOf(jn(Me).position)>=0&&Xt(Me)?Jt(Me):Me;return nr(Sn)?qt.filter(function(oi){return nr(oi)&&aa(oi,Sn)&&yn(oi)!=="body"}):[]}(Ht):[].concat(In),ar=[].concat(or,[An]),Ks=ar[0],vt=ar.reduce(function(Me,qt){var Sn=ca(Ht,qt,Je);return Me.top=_n(Sn.top,Me.top),Me.right=Ui(Sn.right,Me.right),Me.bottom=Ui(Sn.bottom,Me.bottom),Me.left=_n(Sn.left,Me.left),Me},ca(Ht,Ks,Je));return vt.width=vt.right-vt.left,vt.height=vt.bottom-vt.top,vt.x=vt.left,vt.y=vt.top,vt}(nr(Re)?Re:Re.contextElement||rr(m.elements.popper),Y,re,$),we=vn(m.elements.reference),Ne=ha({reference:we,element:ye,strategy:"absolute",placement:N}),Le=$s(Object.assign({},ye,Ne)),De=me===Ar?Le:we,rt={top:ge.top-De.top+Oe.top,bottom:De.bottom-ge.bottom+Oe.bottom,left:ge.left-De.left+Oe.left,right:De.right-ge.right+Oe.right},cn=m.modifiersData.offset;if(me===Ar&&cn){var $n=cn[N];Object.keys(rt).forEach(function(Ht){var In=[Nt,Xe].indexOf(Ht)>=0?1:-1,An=[ot,Xe].indexOf(Ht)>=0?"y":"x";rt[Ht]+=$n[An]*In})}return rt}function Gl(m,l){l===void 0&&(l={});var d=l,y=d.placement,N=d.boundary,D=d.rootBoundary,$=d.padding,W=d.flipVariations,Y=d.allowedAutoPlacements,te=Y===void 0?Mn:Y,re=ni(y),Z=re?W?Sr:Sr.filter(function(he){return ni(he)===re}):er,me=Z.filter(function(he){return te.indexOf(he)>=0});me.length===0&&(me=Z);var le=me.reduce(function(he,ue){return he[ue]=Bn(m,{placement:ue,boundary:N,rootBoundary:D,padding:$})[Wt(ue)],he},{});return Object.keys(le).sort(function(he,ue){return le[he]-le[ue]})}const wn={name:"flip",enabled:!0,phase:"main",fn:function(m){var l=m.state,d=m.options,y=m.name;if(!l.modifiersData[y]._skip){for(var N=d.mainAxis,D=N===void 0||N,$=d.altAxis,W=$===void 0||$,Y=d.fallbackPlacements,te=d.padding,re=d.boundary,Z=d.rootBoundary,me=d.altBoundary,le=d.flipVariations,he=le===void 0||le,ue=d.allowedAutoPlacements,de=l.options.placement,Oe=Wt(de),Ue=Y||(Oe!==de&&he?function(Me){if(Wt(Me)===Yr)return[];var qt=Bi(Me);return[ri(Me),qt,ri(qt)]}(de):[Bi(de)]),ye=[de].concat(Ue).reduce(function(Me,qt){return Me.concat(Wt(qt)===Yr?Gl(l,{placement:qt,boundary:re,rootBoundary:Z,padding:te,flipVariations:he,allowedAutoPlacements:ue}):qt)},[]),Re=l.rects.reference,ge=l.rects.popper,we=new Map,Ne=!0,Le=ye[0],De=0;De<ye.length;De++){var rt=ye[De],cn=Wt(rt),$n=ni(rt)===tr,Ht=[ot,Xe].indexOf(cn)>=0,In=Ht?"width":"height",An=Bn(l,{placement:rt,boundary:re,rootBoundary:Z,altBoundary:me,padding:te}),Je=Ht?$n?Nt:_t:$n?Xe:ot;Re[In]>ge[In]&&(Je=Bi(Je));var or=Bi(Je),ar=[];if(D&&ar.push(An[cn]<=0),W&&ar.push(An[Je]<=0,An[or]<=0),ar.every(function(Me){return Me})){Le=rt,Ne=!1;break}we.set(rt,ar)}if(Ne)for(var Ks=function(Me){var qt=ye.find(function(Sn){var oi=we.get(Sn);if(oi)return oi.slice(0,Me).every(function(fu){return fu})});if(qt)return Le=qt,"break"},vt=he?3:1;vt>0&&Ks(vt)!=="break";vt--);l.placement!==Le&&(l.modifiersData[y]._skip=!0,l.placement=Le,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function da(m,l,d){return d===void 0&&(d={x:0,y:0}),{top:m.top-l.height-d.y,right:m.right-l.width+d.x,bottom:m.bottom-l.height+d.y,left:m.left-l.width-d.x}}function Yl(m){return[ot,Nt,Xe,_t].some(function(l){return m[l]>=0})}const ii={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(m){var l=m.state,d=m.name,y=l.rects.reference,N=l.rects.popper,D=l.modifiersData.preventOverflow,$=Bn(l,{elementContext:"reference"}),W=Bn(l,{altBoundary:!0}),Y=da($,y),te=da(W,N,D),re=Yl(Y),Z=Yl(te);l.modifiersData[d]={referenceClippingOffsets:Y,popperEscapeOffsets:te,isReferenceHidden:re,hasPopperEscaped:Z},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":re,"data-popper-escaped":Z})}},fa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(m){var l=m.state,d=m.options,y=m.name,N=d.offset,D=N===void 0?[0,0]:N,$=Mn.reduce(function(re,Z){return re[Z]=function(me,le,he){var ue=Wt(me),de=[_t,ot].indexOf(ue)>=0?-1:1,Oe=typeof he=="function"?he(Object.assign({},le,{placement:me})):he,Ue=Oe[0],ye=Oe[1];return Ue=Ue||0,ye=(ye||0)*de,[_t,Nt].indexOf(ue)>=0?{x:ye,y:Ue}:{x:Ue,y:ye}}(Z,l.rects,D),re},{}),W=$[l.placement],Y=W.x,te=W.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=Y,l.modifiersData.popperOffsets.y+=te),l.modifiersData[y]=$}},Hi={name:"popperOffsets",enabled:!0,phase:"read",fn:function(m){var l=m.state,d=m.name;l.modifiersData[d]=ha({reference:l.rects.reference,element:l.rects.popper,strategy:"absolute",placement:l.placement})},data:{}},qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(m){var l=m.state,d=m.options,y=m.name,N=d.mainAxis,D=N===void 0||N,$=d.altAxis,W=$!==void 0&&$,Y=d.boundary,te=d.rootBoundary,re=d.altBoundary,Z=d.padding,me=d.tether,le=me===void 0||me,he=d.tetherOffset,ue=he===void 0?0:he,de=Bn(l,{boundary:Y,rootBoundary:te,padding:Z,altBoundary:re}),Oe=Wt(l.placement),Ue=ni(l.placement),ye=!Ue,Re=Fs(Oe),ge=Re==="x"?"y":"x",we=l.modifiersData.popperOffsets,Ne=l.rects.reference,Le=l.rects.popper,De=typeof ue=="function"?ue(Object.assign({},l.rects,{placement:l.placement})):ue,rt=typeof De=="number"?{mainAxis:De,altAxis:De}:Object.assign({mainAxis:0,altAxis:0},De),cn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,$n={x:0,y:0};if(we){if(D){var Ht,In=Re==="y"?ot:_t,An=Re==="y"?Xe:Nt,Je=Re==="y"?"height":"width",or=we[Re],ar=or+de[In],Ks=or-de[An],vt=le?-Le[Je]/2:0,Me=Ue===tr?Ne[Je]:Le[Je],qt=Ue===tr?-Le[Je]:-Ne[Je],Sn=l.elements.arrow,oi=le&&Sn?oa(Sn):{width:0,height:0},fu=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},jm=fu[In],Um=fu[An],pu=ti(0,Ne[Je],oi[Je]),P1=ye?Ne[Je]/2-vt-pu-jm-rt.mainAxis:Me-pu-jm-rt.mainAxis,R1=ye?-Ne[Je]/2+vt+pu+Um+rt.mainAxis:qt+pu+Um+rt.mainAxis,Vh=l.elements.arrow&&Jt(l.elements.arrow),k1=Vh?Re==="y"?Vh.clientTop||0:Vh.clientLeft||0:0,Bm=(Ht=cn==null?void 0:cn[Re])!=null?Ht:0,x1=or+R1-Bm,$m=ti(le?Ui(ar,or+P1-Bm-k1):ar,or,le?_n(Ks,x1):Ks);we[Re]=$m,$n[Re]=$m-or}if(W){var zm,N1=Re==="x"?ot:_t,D1=Re==="x"?Xe:Nt,es=we[ge],mu=ge==="y"?"height":"width",Wm=es+de[N1],Hm=es-de[D1],Oh=[ot,_t].indexOf(Oe)!==-1,qm=(zm=cn==null?void 0:cn[ge])!=null?zm:0,Qm=Oh?Wm:es-Ne[mu]-Le[mu]-qm+rt.altAxis,Km=Oh?es+Ne[mu]+Le[mu]-qm-rt.altAxis:Hm,Gm=le&&Oh?function(b1,V1,Lh){var Ym=ti(b1,V1,Lh);return Ym>Lh?Lh:Ym}(Qm,es,Km):ti(le?Qm:Wm,es,le?Km:Hm);we[ge]=Gm,$n[ge]=Gm-es}l.modifiersData[y]=$n}},requiresIfExists:["offset"]};function Xl(m,l,d){d===void 0&&(d=!1);var y,N,D=Xt(l),$=Xt(l)&&function(Z){var me=Z.getBoundingClientRect(),le=Ce(me.width)/Z.offsetWidth||1,he=Ce(me.height)/Z.offsetHeight||1;return le!==1||he!==1}(l),W=rr(l),Y=vn(m,$,d),te={scrollLeft:0,scrollTop:0},re={x:0,y:0};return(D||!D&&!d)&&((yn(l)!=="body"||je(W))&&(te=(y=l)!==Dt(y)&&Xt(y)?{scrollLeft:(N=y).scrollLeft,scrollTop:N.scrollTop}:Bs(y)),Xt(l)?((re=vn(l,!0)).x+=l.clientLeft,re.y+=l.clientTop):W&&(re.x=zi(W))),{x:Y.left+te.scrollLeft-re.x,y:Y.top+te.scrollTop-re.y,width:Y.width,height:Y.height}}function zs(m){var l=new Map,d=new Set,y=[];function N(D){d.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function($){if(!d.has($)){var W=l.get($);W&&N(W)}}),y.push(D)}return m.forEach(function(D){l.set(D.name,D)}),m.forEach(function(D){d.has(D.name)||N(D)}),y}var Jl={placement:"bottom",modifiers:[],strategy:"absolute"};function pa(){for(var m=arguments.length,l=new Array(m),d=0;d<m;d++)l[d]=arguments[d];return!l.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function ir(m){m===void 0&&(m={});var l=m,d=l.defaultModifiers,y=d===void 0?[]:d,N=l.defaultOptions,D=N===void 0?Jl:N;return function($,W,Y){Y===void 0&&(Y=D);var te,re,Z={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jl,D),modifiersData:{},elements:{reference:$,popper:W},attributes:{},styles:{}},me=[],le=!1,he={state:Z,setOptions:function(de){var Oe=typeof de=="function"?de(Z.options):de;ue(),Z.options=Object.assign({},D,Z.options,Oe),Z.scrollParents={reference:nr($)?Wi($):$.contextElement?Wi($.contextElement):[],popper:Wi(W)};var Ue,ye,Re=function(ge){var we=zs(ge);return ql.reduce(function(Ne,Le){return Ne.concat(we.filter(function(De){return De.phase===Le}))},[])}((Ue=[].concat(y,Z.options.modifiers),ye=Ue.reduce(function(ge,we){var Ne=ge[we.name];return ge[we.name]=Ne?Object.assign({},Ne,we,{options:Object.assign({},Ne.options,we.options),data:Object.assign({},Ne.data,we.data)}):we,ge},{}),Object.keys(ye).map(function(ge){return ye[ge]})));return Z.orderedModifiers=Re.filter(function(ge){return ge.enabled}),Z.orderedModifiers.forEach(function(ge){var we=ge.name,Ne=ge.options,Le=Ne===void 0?{}:Ne,De=ge.effect;if(typeof De=="function"){var rt=De({state:Z,name:we,instance:he,options:Le});me.push(rt||function(){})}}),he.update()},forceUpdate:function(){if(!le){var de=Z.elements,Oe=de.reference,Ue=de.popper;if(pa(Oe,Ue)){Z.rects={reference:Xl(Oe,Jt(Ue),Z.options.strategy==="fixed"),popper:oa(Ue)},Z.reset=!1,Z.placement=Z.options.placement,Z.orderedModifiers.forEach(function(De){return Z.modifiersData[De.name]=Object.assign({},De.data)});for(var ye=0;ye<Z.orderedModifiers.length;ye++)if(Z.reset!==!0){var Re=Z.orderedModifiers[ye],ge=Re.fn,we=Re.options,Ne=we===void 0?{}:we,Le=Re.name;typeof ge=="function"&&(Z=ge({state:Z,options:Ne,name:Le,instance:he})||Z)}else Z.reset=!1,ye=-1}}},update:(te=function(){return new Promise(function(de){he.forceUpdate(),de(Z)})},function(){return re||(re=new Promise(function(de){Promise.resolve().then(function(){re=void 0,de(te())})})),re}),destroy:function(){ue(),le=!0}};if(!pa($,W))return he;function ue(){me.forEach(function(de){return de()}),me=[]}return he.setOptions(Y).then(function(de){!le&&Y.onFirstUpdate&&Y.onFirstUpdate(de)}),he}}var Zl=ir(),eu=ir({defaultModifiers:[Pr,Hi,ua,un]}),Qi=ir({defaultModifiers:[Pr,Hi,ua,un,fa,wn,qi,Ql,ii]});const Ws=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Os,afterRead:ta,afterWrite:sa,applyStyles:un,arrow:Ql,auto:Yr,basePlacements:er,beforeMain:na,beforeRead:Vs,beforeWrite:Ls,bottom:Xe,clippingParents:Wl,computeStyles:ua,createPopper:Qi,createPopperBase:Zl,createPopperLite:eu,detectOverflow:Bn,end:Ir,eventListeners:Pr,flip:wn,hide:ii,left:_t,main:ra,modifierPhases:ql,offset:fa,placements:Mn,popper:Ar,popperGenerator:ir,popperOffsets:Hi,preventOverflow:qi,read:Hl,reference:bs,right:Nt,start:tr,top:ot,variationPlacements:Sr,viewport:Xr,write:ia},Symbol.toStringTag,{value:"Module"})),ma="dropdown",En=".bs.dropdown",Hs=".data-api",tu="ArrowUp",sr="ArrowDown",nu=`hide${En}`,ru=`hidden${En}`,iu=`show${En}`,su=`shown${En}`,Ki=`click${En}${Hs}`,bt=`keydown${En}${Hs}`,ou=`keyup${En}${Hs}`,Rr="show",Zt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',o=`${Zt}.${Rr}`,h=".dropdown-menu",p=F()?"top-end":"top-start",v=F()?"top-start":"top-end",V=F()?"bottom-end":"bottom-start",B=F()?"bottom-start":"bottom-end",K=F()?"left-start":"right-start",xe=F()?"right-start":"left-start",ft={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ee={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ve extends tt{constructor(l,d){super(l,d),this._popper=null,this._parent=this._element.parentNode,this._menu=se.next(this._element,h)[0]||se.prev(this._element,h)[0]||se.findOne(h,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ft}static get DefaultType(){return Ee}static get NAME(){return ma}toggle(){return this._isShown()?this.hide():this.show()}show(){if(g(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!j.trigger(this._element,iu,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))j.on(d,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rr),this._element.classList.add(Rr),j.trigger(this._element,su,l)}}hide(){if(g(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!j.trigger(this._element,nu,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))j.off(d,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rr),this._element.classList.remove(Rr),this._element.setAttribute("aria-expanded","false"),ht.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,ru,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!u(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${ma.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(Ws===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let l=this._element;this._config.reference==="parent"?l=this._parent:u(this._config.reference)?l=c(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const d=this._getPopperConfig();this._popper=Qi(l,this._menu,d)}_isShown(){return this._menu.classList.contains(Rr)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return K;if(l.classList.contains("dropstart"))return xe;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?d?v:p:d?B:V}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ht.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...T(this._config.popperConfig,[l])}}_selectMenuItem({key:l,target:d}){const y=se.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(N=>f(N));y.length&&U(y,d,l===sr,!y.includes(d)).focus()}static jQueryInterface(l){return this.each(function(){const d=Ve.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const d=se.find(o);for(const y of d){const N=Ve.getInstance(y);if(!N||N._config.autoClose===!1)continue;const D=l.composedPath(),$=D.includes(N._menu);if(D.includes(N._element)||N._config.autoClose==="inside"&&!$||N._config.autoClose==="outside"&&$||N._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const W={relatedTarget:N._element};l.type==="click"&&(W.clickEvent=l),N._completeHide(W)}}static dataApiKeydownHandler(l){const d=/input|textarea/i.test(l.target.tagName),y=l.key==="Escape",N=[tu,sr].includes(l.key);if(!N&&!y||d&&!y)return;l.preventDefault();const D=this.matches(Zt)?this:se.prev(this,Zt)[0]||se.next(this,Zt)[0]||se.findOne(Zt,l.delegateTarget.parentNode),$=Ve.getOrCreateInstance(D);if(N)return l.stopPropagation(),$.show(),void $._selectMenuItem(l);$._isShown()&&(l.stopPropagation(),$.hide(),D.focus())}}j.on(document,bt,Zt,Ve.dataApiKeydownHandler),j.on(document,bt,h,Ve.dataApiKeydownHandler),j.on(document,Ki,Ve.clearMenus),j.on(document,ou,Ve.clearMenus),j.on(document,Ki,Zt,function(m){m.preventDefault(),Ve.getOrCreateInstance(this).toggle()}),S(Ve);const pt="backdrop",kr="show",en=`mousedown.bs.${pt}`,qs={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ga={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class cm extends zt{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return qs}static get DefaultType(){return ga}static get NAME(){return pt}show(l){if(!this._config.isVisible)return void T(l);this._append();const d=this._getElement();this._config.isAnimated&&k(d),d.classList.add(kr),this._emulateAnimation(()=>{T(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(kr),this._emulateAnimation(()=>{this.dispose(),T(l)})):T(l)}dispose(){this._isAppended&&(j.off(this._element,en),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=c(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),j.on(l,en,()=>{T(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){R(l,this._getElement(),this._config.isAnimated)}}const au=".bs.focustrap",wE=`focusin${au}`,EE=`keydown.tab${au}`,hm="backward",TE={autofocus:!0,trapElement:null},IE={autofocus:"boolean",trapElement:"element"};class dm extends zt{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return TE}static get DefaultType(){return IE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,au),j.on(document,wE,l=>this._handleFocusin(l)),j.on(document,EE,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,au))}_handleFocusin(l){const{trapElement:d}=this._config;if(l.target===document||l.target===d||d.contains(l.target))return;const y=se.focusableChildren(d);y.length===0?d.focus():this._lastTabNavDirection===hm?y[y.length-1].focus():y[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?hm:"forward")}}const fm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pm=".sticky-top",lu="padding-right",mm="margin-right";class Ah{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,lu,d=>d+l),this._setElementAttributes(fm,lu,d=>d+l),this._setElementAttributes(pm,mm,d=>d-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,lu),this._resetElementAttributes(fm,lu),this._resetElementAttributes(pm,mm)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,d,y){const N=this.getWidth();this._applyManipulationCallback(l,D=>{if(D!==this._element&&window.innerWidth>D.clientWidth+N)return;this._saveInitialAttribute(D,d);const $=window.getComputedStyle(D).getPropertyValue(d);D.style.setProperty(d,`${y(Number.parseFloat($))}px`)})}_saveInitialAttribute(l,d){const y=l.style.getPropertyValue(d);y&&ht.setDataAttribute(l,d,y)}_resetElementAttributes(l,d){this._applyManipulationCallback(l,y=>{const N=ht.getDataAttribute(y,d);N!==null?(ht.removeDataAttribute(y,d),y.style.setProperty(d,N)):y.style.removeProperty(d)})}_applyManipulationCallback(l,d){if(u(l))d(l);else for(const y of se.find(l,this._element))d(y)}}const Tn=".bs.modal",AE=`hide${Tn}`,SE=`hidePrevented${Tn}`,gm=`hidden${Tn}`,ym=`show${Tn}`,CE=`shown${Tn}`,PE=`resize${Tn}`,RE=`click.dismiss${Tn}`,kE=`mousedown.dismiss${Tn}`,xE=`keydown.dismiss${Tn}`,NE=`click${Tn}.data-api`,_m="modal-open",vm="show",Sh="modal-static",DE={backdrop:!0,focus:!0,keyboard:!0},bE={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Gi extends tt{constructor(l,d){super(l,d),this._dialog=se.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ah,this._addEventListeners()}static get Default(){return DE}static get DefaultType(){return bE}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||j.trigger(this._element,ym,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(_m),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(j.trigger(this._element,AE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(vm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){j.off(window,Tn),j.off(this._dialog,Tn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new cm({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new dm({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=se.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),k(this._element),this._element.classList.add(vm),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,CE,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,xE,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),j.on(window,PE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,kE,l=>{j.one(this._element,RE,d=>{this._element===l.target&&this._element===d.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(_m),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,gm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(j.trigger(this._element,SE).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(Sh)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(Sh),this._queueCallback(()=>{this._element.classList.remove(Sh),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),y=d>0;if(y&&!l){const N=F()?"paddingLeft":"paddingRight";this._element.style[N]=`${d}px`}if(!y&&l){const N=F()?"paddingRight":"paddingLeft";this._element.style[N]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,d){return this.each(function(){const y=Gi.getOrCreateInstance(this,l);if(typeof l=="string"){if(y[l]===void 0)throw new TypeError(`No method named "${l}"`);y[l](d)}})}}j.on(document,NE,'[data-bs-toggle="modal"]',function(m){const l=se.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&m.preventDefault(),j.one(l,ym,y=>{y.defaultPrevented||j.one(l,gm,()=>{f(this)&&this.focus()})});const d=se.findOne(".modal.show");d&&Gi.getInstance(d).hide(),Gi.getOrCreateInstance(l).toggle(this)}),Ps(Gi),S(Gi);const xr=".bs.offcanvas",wm=".data-api",VE=`load${xr}${wm}`,Em="show",Tm="showing",Im="hiding",Am=".offcanvas.show",OE=`show${xr}`,LE=`shown${xr}`,ME=`hide${xr}`,Sm=`hidePrevented${xr}`,Cm=`hidden${xr}`,FE=`resize${xr}`,jE=`click${xr}${wm}`,UE=`keydown.dismiss${xr}`,BE={backdrop:!0,keyboard:!0,scroll:!1},$E={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Nr extends tt{constructor(l,d){super(l,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return BE}static get DefaultType(){return $E}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||j.trigger(this._element,OE,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ah().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Tm),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Em),this._element.classList.remove(Tm),j.trigger(this._element,LE,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(j.trigger(this._element,ME).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Im),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Em,Im),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ah().reset(),j.trigger(this._element,Cm)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new cm({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():j.trigger(this._element,Sm)}:null})}_initializeFocusTrap(){return new dm({trapElement:this._element})}_addEventListeners(){j.on(this._element,UE,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():j.trigger(this._element,Sm))})}static jQueryInterface(l){return this.each(function(){const d=Nr.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l](this)}})}}j.on(document,jE,'[data-bs-toggle="offcanvas"]',function(m){const l=se.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),g(this))return;j.one(l,Cm,()=>{f(this)&&this.focus()});const d=se.findOne(Am);d&&d!==l&&Nr.getInstance(d).hide(),Nr.getOrCreateInstance(l).toggle(this)}),j.on(window,VE,()=>{for(const m of se.find(Am))Nr.getOrCreateInstance(m).show()}),j.on(window,FE,()=>{for(const m of se.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(m).position!=="fixed"&&Nr.getOrCreateInstance(m).hide()}),Ps(Nr),S(Nr);const Pm={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zE=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),WE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,HE=(m,l)=>{const d=m.nodeName.toLowerCase();return l.includes(d)?!zE.has(d)||!!WE.test(m.nodeValue):l.filter(y=>y instanceof RegExp).some(y=>y.test(d))},qE={allowList:Pm,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},QE={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},KE={entry:"(string|element|function|null)",selector:"(string|element)"};class GE extends zt{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return qE}static get DefaultType(){return QE}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[N,D]of Object.entries(this._config.content))this._setContent(l,D,N);const d=l.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&d.classList.add(...y.split(" ")),d}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[d,y]of Object.entries(l))super._typeCheckConfig({selector:d,entry:y},KE)}_setContent(l,d,y){const N=se.findOne(y,l);N&&((d=this._resolvePossibleFunction(d))?u(d)?this._putElementInTemplate(c(d),N):this._config.html?N.innerHTML=this._maybeSanitize(d):N.textContent=d:N.remove())}_maybeSanitize(l){return this._config.sanitize?function(d,y,N){if(!d.length)return d;if(N&&typeof N=="function")return N(d);const D=new window.DOMParser().parseFromString(d,"text/html"),$=[].concat(...D.body.querySelectorAll("*"));for(const W of $){const Y=W.nodeName.toLowerCase();if(!Object.keys(y).includes(Y)){W.remove();continue}const te=[].concat(...W.attributes),re=[].concat(y["*"]||[],y[Y]||[]);for(const Z of te)HE(Z,re)||W.removeAttribute(Z.nodeName)}return D.body.innerHTML}(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return T(l,[this])}_putElementInTemplate(l,d){if(this._config.html)return d.innerHTML="",void d.append(l);d.textContent=l.textContent}}const YE=new Set(["sanitize","allowList","sanitizeFn"]),Ch="fade",uu="show",Rm=".modal",km="hide.bs.modal",ya="hover",Ph="focus",XE={AUTO:"auto",TOP:"top",RIGHT:F()?"left":"right",BOTTOM:"bottom",LEFT:F()?"right":"left"},JE={allowList:Pm,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ZE={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Yi extends tt{constructor(l,d){if(Ws===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(l,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return JE}static get DefaultType(){return ZE}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(Rm),km,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=j.trigger(this._element,this.constructor.eventName("show")),d=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!d)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:N}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(N.append(y),j.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add(uu),"ontouchstart"in document.documentElement)for(const D of[].concat(...document.body.children))j.on(D,"mouseover",E);this._queueCallback(()=>{j.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!j.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(uu),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))j.off(l,"mouseover",E);this._activeTrigger.click=!1,this._activeTrigger[Ph]=!1,this._activeTrigger[ya]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const d=this._getTemplateFactory(l).toHtml();if(!d)return null;d.classList.remove(Ch,uu),d.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(N=>{do N+=Math.floor(1e6*Math.random());while(document.getElementById(N));return N})(this.constructor.NAME).toString();return d.setAttribute("id",y),this._isAnimated()&&d.classList.add(Ch),d}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new GE({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ch)}_isShown(){return this.tip&&this.tip.classList.contains(uu)}_createPopper(l){const d=T(this._config.placement,[this,l,this._element]),y=XE[d.toUpperCase()];return Qi(this._element,l,this._getPopperConfig(y))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(d=>Number.parseInt(d,10)):typeof l=="function"?d=>l(d,this._element):l}_resolvePossibleFunction(l){return T(l,[this._element])}_getPopperConfig(l){const d={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...d,...T(this._config.popperConfig,[d])}}_setListeners(){const l=this._config.trigger.split(" ");for(const d of l)if(d==="click")j.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(d!=="manual"){const y=d===ya?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),N=d===ya?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");j.on(this._element,y,this._config.selector,D=>{const $=this._initializeOnDelegatedTarget(D);$._activeTrigger[D.type==="focusin"?Ph:ya]=!0,$._enter()}),j.on(this._element,N,this._config.selector,D=>{const $=this._initializeOnDelegatedTarget(D);$._activeTrigger[D.type==="focusout"?Ph:ya]=$._element.contains(D.relatedTarget),$._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(Rm),km,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,d){clearTimeout(this._timeout),this._timeout=setTimeout(l,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const d=ht.getDataAttributes(this._element);for(const y of Object.keys(d))YE.has(y)&&delete d[y];return l={...d,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:c(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[d,y]of Object.entries(this._config))this.constructor.Default[d]!==y&&(l[d]=y);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const d=Yi.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}}S(Yi);const e1={...Yi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},t1={...Yi.DefaultType,content:"(null|string|element|function)"};class cu extends Yi{static get Default(){return e1}static get DefaultType(){return t1}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const d=cu.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l]()}})}}S(cu);const Rh=".bs.scrollspy",n1=`activate${Rh}`,xm=`click${Rh}`,r1=`load${Rh}.data-api`,Qs="active",kh="[href]",Nm=".nav-link",i1=`${Nm}, .nav-item > ${Nm}, .list-group-item`,s1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},o1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _a extends tt{constructor(l,d){super(l,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return s1}static get DefaultType(){return o1}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=c(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(d=>Number.parseFloat(d))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,xm),j.on(this._config.target,xm,kh,l=>{const d=this._observableSections.get(l.target.hash);if(d){l.preventDefault();const y=this._rootElement||window,N=d.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:N,behavior:"smooth"});y.scrollTop=N}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),l)}_observerCallback(l){const d=$=>this._targetLinks.get(`#${$.target.id}`),y=$=>{this._previousScrollData.visibleEntryTop=$.target.offsetTop,this._process(d($))},N=(this._rootElement||document.documentElement).scrollTop,D=N>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=N;for(const $ of l){if(!$.isIntersecting){this._activeTarget=null,this._clearActiveClass(d($));continue}const W=$.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(D&&W){if(y($),!N)return}else D||W||y($)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=se.find(kh,this._config.target);for(const d of l){if(!d.hash||g(d))continue;const y=se.findOne(decodeURI(d.hash),this._element);f(y)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,y))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Qs),this._activateParents(l),j.trigger(this._element,n1,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))se.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Qs);else for(const d of se.parents(l,".nav, .list-group"))for(const y of se.prev(d,i1))y.classList.add(Qs)}_clearActiveClass(l){l.classList.remove(Qs);const d=se.find(`${kh}.${Qs}`,l);for(const y of d)y.classList.remove(Qs)}static jQueryInterface(l){return this.each(function(){const d=_a.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}j.on(window,r1,()=>{for(const m of se.find('[data-bs-spy="scroll"]'))_a.getOrCreateInstance(m)}),S(_a);const Xi=".bs.tab",a1=`hide${Xi}`,l1=`hidden${Xi}`,u1=`show${Xi}`,c1=`shown${Xi}`,h1=`click${Xi}`,d1=`keydown${Xi}`,f1=`load${Xi}`,p1="ArrowLeft",Dm="ArrowRight",m1="ArrowUp",bm="ArrowDown",xh="Home",Vm="End",Ji="active",Om="fade",Nh="show",Lm=".dropdown-toggle",Dh=`:not(${Lm})`,Mm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',bh=`.nav-link${Dh}, .list-group-item${Dh}, [role="tab"]${Dh}, ${Mm}`,g1=`.${Ji}[data-bs-toggle="tab"], .${Ji}[data-bs-toggle="pill"], .${Ji}[data-bs-toggle="list"]`;class Zi extends tt{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,d1,d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const d=this._getActiveElem(),y=d?j.trigger(d,a1,{relatedTarget:l}):null;j.trigger(l,u1,{relatedTarget:d}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(d,l),this._activate(l,d))}_activate(l,d){l&&(l.classList.add(Ji),this._activate(se.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),j.trigger(l,c1,{relatedTarget:d})):l.classList.add(Nh)},l,l.classList.contains(Om)))}_deactivate(l,d){l&&(l.classList.remove(Ji),l.blur(),this._deactivate(se.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),j.trigger(l,l1,{relatedTarget:d})):l.classList.remove(Nh)},l,l.classList.contains(Om)))}_keydown(l){if(![p1,Dm,m1,bm,xh,Vm].includes(l.key))return;l.stopPropagation(),l.preventDefault();const d=this._getChildren().filter(N=>!g(N));let y;if([xh,Vm].includes(l.key))y=d[l.key===xh?0:d.length-1];else{const N=[Dm,bm].includes(l.key);y=U(d,l.target,N,!0)}y&&(y.focus({preventScroll:!0}),Zi.getOrCreateInstance(y).show())}_getChildren(){return se.find(bh,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,d){this._setAttributeIfNotExists(l,"role","tablist");for(const y of d)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const d=this._elemIsActive(l),y=this._getOuterElement(l);l.setAttribute("aria-selected",d),y!==l&&this._setAttributeIfNotExists(y,"role","presentation"),d||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const d=se.getElementFromSelector(l);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,d){const y=this._getOuterElement(l);if(!y.classList.contains("dropdown"))return;const N=(D,$)=>{const W=se.findOne(D,y);W&&W.classList.toggle($,d)};N(Lm,Ji),N(".dropdown-menu",Nh),y.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(l,d,y){l.hasAttribute(d)||l.setAttribute(d,y)}_elemIsActive(l){return l.classList.contains(Ji)}_getInnerElement(l){return l.matches(bh)?l:se.findOne(bh,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const d=Zi.getOrCreateInstance(this);if(typeof l=="string"){if(d[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);d[l]()}})}}j.on(document,h1,Mm,function(m){["A","AREA"].includes(this.tagName)&&m.preventDefault(),g(this)||Zi.getOrCreateInstance(this).show()}),j.on(window,f1,()=>{for(const m of se.find(g1))Zi.getOrCreateInstance(m)}),S(Zi);const si=".bs.toast",y1=`mouseover${si}`,_1=`mouseout${si}`,v1=`focusin${si}`,w1=`focusout${si}`,E1=`hide${si}`,T1=`hidden${si}`,I1=`show${si}`,A1=`shown${si}`,Fm="hide",hu="show",du="showing",S1={animation:"boolean",autohide:"boolean",delay:"number"},C1={animation:!0,autohide:!0,delay:5e3};class va extends tt{constructor(l,d){super(l,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return C1}static get DefaultType(){return S1}static get NAME(){return"toast"}show(){j.trigger(this._element,I1).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Fm),k(this._element),this._element.classList.add(hu,du),this._queueCallback(()=>{this._element.classList.remove(du),j.trigger(this._element,A1),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(j.trigger(this._element,E1).defaultPrevented||(this._element.classList.add(du),this._queueCallback(()=>{this._element.classList.add(Fm),this._element.classList.remove(du,hu),j.trigger(this._element,T1)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(hu),super.dispose()}isShown(){return this._element.classList.contains(hu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,d){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const y=l.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,y1,l=>this._onInteraction(l,!0)),j.on(this._element,_1,l=>this._onInteraction(l,!1)),j.on(this._element,v1,l=>this._onInteraction(l,!0)),j.on(this._element,w1,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const d=va.getOrCreateInstance(this,l);if(typeof l=="string"){if(d[l]===void 0)throw new TypeError(`No method named "${l}"`);d[l](this)}})}}return Ps(va),S(va),{Alert:gr,Button:yr,Carousel:Tr,Collapse:Zn,Dropdown:Ve,Modal:Gi,Offcanvas:Nr,Popover:cu,ScrollSpy:_a,Tab:Zi,Toast:va,Tooltip:Yi}})})(Gk);I0(document.getElementById("root")).render(L.jsx(X.StrictMode,{children:L.jsx(Kk,{})}));
